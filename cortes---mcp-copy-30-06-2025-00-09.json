=ewogICJjcmVhdGVkQXQiOiAiMjAyNS0wNi0yOFQyMzoxODowMi44MjlaIiwKICAidXBkYXRlZEF0IjogIjIwMjUtMDYtMjlUMDE6NDE6MTIuMDAwWiIsCiAgImlkIjogInp0ZzhSUXhIeWpUVTZBZlkiLAogICJuYW1lIjogIkNvcnRlcyAtIE1DUCBjb3B5IiwKICAiYWN0aXZlIjogZmFsc2UsCiAgImlzQXJjaGl2ZWQiOiB0cnVlLAogICJub2RlcyI6IFsKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgInRyaWdnZXJUaW1lcyI6IHsKICAgICAgICAgICJpdGVtIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImhvdXIiOiAwLAogICAgICAgICAgICAgICJtaW51dGUiOiAxMAogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9LAogICAgICAibmFtZSI6ICJFdmVyeSAxMCBNaW51dGVzIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuY3JvbiIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAtMzIwLAogICAgICAgIDcyMAogICAgICBdLAogICAgICAiaWQiOiAiYjJjM2JhMjItMTcyMC00YjcyLWI1N2EtOTc5OGZiOGVmZjk0IiwKICAgICAgIm5vdGVzSW5GbG93IjogdHJ1ZSwKICAgICAgIm5vdGVzIjogIlNlIGVqZWN1dGEgY2FkYSAxMCBtaW51dG9zIgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImZ1bmN0aW9uQ29kZSI6ICIvLyBDb25maWd1cmFjacOzbiBFU1BFQ8ONRklDQSBwYXJhIHByb3llY3RvIENvcnRlcyBlbiBNYWNcbmNvbnN0IGJhc2VQcm9qZWN0UGF0aCA9ICcvZGF0YS9jb3J0ZXMnO1xuY29uc3QgY29ydGVzQXBwUGF0aCA9ICcvZGF0YS9jb3J0ZXMvQ29ydGVzJztcbmNvbnN0IGNvbnRleHRQYXRoID0gJy9kYXRhL2NvcnRlcy9jb3J0ZXMtY29udGV4dCc7XG5jb25zdCBtYWNQcm9qZWN0UGF0aCA9ICcvVXNlcnMvbW9saW5lc21hYy9Eb2N1bWVudHMvQ29ydGVzJztcbmNvbnN0IG1hY0NvbnRleHRQYXRoID0gJy9Vc2Vycy9tb2xpbmVzbWFjL0RvY3VtZW50cy9Db3J0ZXMvY29ydGVzLWNvbnRleHQnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHByb2plY3RfcGF0aDogYmFzZVByb2plY3RQYXRoLFxuICBjb3J0ZXNfYXBwX3BhdGg6IGNvcnRlc0FwcFBhdGgsXG4gIGNvbnRleHRfcGF0aDogY29udGV4dFBhdGgsXG4gIG1hY19wcm9qZWN0X3BhdGg6IG1hY1Byb2plY3RQYXRoLFxuICBtYWNfY29udGV4dF9wYXRoOiBtYWNDb250ZXh0UGF0aCxcbiAgZGV0ZWN0ZWRfYXV0b21hdGljYWxseTogdHJ1ZSxcbiAgcmVhbF9wYXRoX2ZvdW5kOiB0cnVlLFxuICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgY29udGFpbmVyX2lkOiBwcm9jZXNzLmVudi5IT1NUTkFNRSB8fCAnbjhuLWNvbnRhaW5lcicsXG4gIHdvcmtmbG93X3ZlcnNpb246ICc4LjAuMC1wcm9kdWN0aW9uLXJlYWR5J1xufTtcblxuY29uc29sZS5sb2coJ+KchSBDb3J0ZXMgcHJvamVjdCBwYXRocyBjb25maWd1cmVkOicsIGNvbmZpZyk7XG5yZXR1cm4gW3sganNvbjogY29uZmlnIH1dOyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiQ29uZmlndXJlIENvcnRlcyBQcm9qZWN0IFBhdGhzIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZnVuY3Rpb24iLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgLTEwMCwKICAgICAgICA3MjAKICAgICAgXSwKICAgICAgImlkIjogImEyYjEwZWE1LTc5YjgtNDAwNC1iNTI2LTllYmZkY2Y0MjA4MSIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJjb21tYW5kIjogIm1rZGlyIC1wIHt7ICRqc29uLmNvbnRleHRfcGF0aCB9fSAmJiBlY2hvICfinIUgQ29udGV4dCBkaXJlY3RvcnkgZW5zdXJlZCBhdCB7eyAkanNvbi5jb250ZXh0X3BhdGggfX0nICYmIGxzIC1sYSB7eyAkanNvbi5wcm9qZWN0X3BhdGggfX0gMj4vZGV2L251bGwgfHwgZWNobyAncHJvamVjdF9wYXRoX25lZWRzX3ZvbHVtZV9tYXBwaW5nJyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiRW5zdXJlIENvbnRleHQgRGlyZWN0b3J5IiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZXhlY3V0ZUNvbW1hbmQiLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgMTIwLAogICAgICAgIDcyMAogICAgICBdLAogICAgICAiaWQiOiAiMTc3NjMzODktMjk2Yy00MWRmLWI2NTktODI1MzY2ZWZjMjM4IgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImNvbW1hbmQiOiAiZWNobyAn8J+UjSBTY2FubmluZyBDb3J0ZXMgcHJvamVjdCBmaWxlcy4uLicgJiYgZmluZCB7eyAkanNvbi5wcm9qZWN0X3BhdGggfX0gLW1heGRlcHRoIDggLXR5cGUgZiBcXCggLW5hbWUgJyouc3dpZnQnIC1vIC1uYW1lICcqLmpzb24nIC1vIC1uYW1lICcqLm1kJyAtbyAtbmFtZSAnKi5qcycgLW8gLW5hbWUgJyoudHMnIC1vIC1uYW1lICcqLmpzeCcgLW8gLW5hbWUgJyoudHN4JyAtbyAtbmFtZSAnKi54Y29kZXByb2onIC1vIC1uYW1lICcqLnhjd29ya3NwYWNlJyAtbyAtbmFtZSAnUGFja2FnZS5zd2lmdCcgLW8gLW5hbWUgJ0luZm8ucGxpc3QnIFxcKSAhIC1wYXRoICcqL2NvcnRlcy1jb250ZXh0LyonICEgLXBhdGggJyovbm9kZV9tb2R1bGVzLyonICEgLXBhdGggJyovLmdpdC8qJyAhIC1wYXRoICcqL2J1aWxkLyonICEgLXBhdGggJyovRGVyaXZlZERhdGEvKicgISAtcGF0aCAnKi9Qb2RzLyonICEgLXBhdGggJyovLmJ1aWxkLyonICEgLXBhdGggJyoveGN1c2VyZGF0YS8qJyAyPi9kZXYvbnVsbCB8IGhlYWQgLTE1MCB8fCBlY2hvICdub19wcm9qZWN0X2ZpbGVzX2ZvdW5kJyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiU2NhbiBDb3J0ZXMgRmlsZXMiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAzNDAsCiAgICAgICAgMTIwCiAgICAgIF0sCiAgICAgICJpZCI6ICJiNDQ0NDhhMS0xNWI5LTQ4OGEtYTViMy00NTY5YWI5OGYyMWQiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJjZCB7eyAkanNvbi5wcm9qZWN0X3BhdGggfX0gMj4vZGV2L251bGwgJiYgZWNobyAn8J+TiiBHaXQgYW5hbHlzaXMgZm9yIENvcnRlczonICYmIGdpdCBzdGF0dXMgLS1wb3JjZWxhaW4gMj4vZGV2L251bGwgJiYgZWNobyAn8J+TiCBSZWNlbnQgY29tbWl0czonICYmIGdpdCBsb2cgLS1zaW5jZT1cIjMwIGRheXMgYWdvXCIgLS1wcmV0dHk9Zm9ybWF0OlwiJWh8JWFufCVhZHwlc1wiIC0tZGF0ZT1zaG9ydCAtLW1heC1jb3VudD01MCAyPi9kZXYvbnVsbCB8fCBlY2hvICdub19naXRfcmVwb3NpdG9yeV9mb3VuZCciCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkFuYWx5emUgR2l0IEhpc3RvcnkiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAzNDAsCiAgICAgICAgNzIwCiAgICAgIF0sCiAgICAgICJpZCI6ICI0YWYyZGE5OC1jYmQ5LTQwOWQtYjI1OC04NTU3YjczYzFhNTgiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJjZCB7eyAkanNvbi5wcm9qZWN0X3BhdGggfX0gMj4vZGV2L251bGwgJiYgZWNobyAn8J+TiiBHaXQgc3RhdGlzdGljcyBhbmFseXNpczonICYmIGdpdCBsb2cgLS1zaW5jZT1cIjE0IGRheXMgYWdvXCIgLS1udW1zdGF0IC0tcHJldHR5PWZvcm1hdDpcIiVofCVhbnwlYWRcIiAtLWRhdGU9c2hvcnQgLS1tYXgtY291bnQ9MTAwIDI+L2Rldi9udWxsIHx8IGVjaG8gJ25vX2dpdF9zdGF0c19hdmFpbGFibGUnIgogICAgICB9LAogICAgICAibmFtZSI6ICJBbmFseXplIEdpdCBTdGF0cyIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmV4ZWN1dGVDb21tYW5kIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDM0MCwKICAgICAgICA5MjAKICAgICAgXSwKICAgICAgImlkIjogIjYyZmYwNDYzLWZmZDktNGEzZi1iOWUzLThhYjE2NmNhMmFkYSIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJjb21tYW5kIjogImVjaG8gJ/Cfp6ogU2Nhbm5pbmcgQ29ydGVzIHRlc3QgZmlsZXMuLi4nICYmIGZpbmQge3sgJGpzb24ucHJvamVjdF9wYXRoIH19IC1tYXhkZXB0aCA4IC10eXBlIGYgXFwoIC1uYW1lICcqVGVzdCouc3dpZnQnIC1vIC1uYW1lICcqVGVzdHMuc3dpZnQnIC1vIC1uYW1lICcqLnRlc3QuanMnIC1vIC1uYW1lICcqLnNwZWMuanMnIC1vIC1uYW1lICcqLnRlc3QudHMnIC1vIC1uYW1lICcqLnNwZWMudHMnIC1vIC1uYW1lICcqVUlUZXN0cyouc3dpZnQnIC1vIC1uYW1lICcqVW5pdFRlc3RzKi5zd2lmdCcgXFwpICEgLXBhdGggJyovY29ydGVzLWNvbnRleHQvKicgISAtcGF0aCAnKi9ub2RlX21vZHVsZXMvKicgISAtcGF0aCAnKi8uZ2l0LyonICEgLXBhdGggJyovYnVpbGQvKicgISAtcGF0aCAnKi9EZXJpdmVkRGF0YS8qJyAhIC1wYXRoICcqL3hjdXNlcmRhdGEvKicgMj4vZGV2L251bGwgfHwgZWNobyAnbm9fdGVzdF9maWxlc19mb3VuZCciCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkFuYWx5emUgVGVzdCBDb3ZlcmFnZSIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmV4ZWN1dGVDb21tYW5kIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDM0MCwKICAgICAgICAxMzIwCiAgICAgIF0sCiAgICAgICJpZCI6ICJjY2JjNTEwNy1mZDY3LTQ4OGQtYWI4Mi1kYzYwNjJiNWY0OTQiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJlY2hvICfwn46oIEFuYWx5emluZyBDb3J0ZXMgYXNzZXRzLi4uJyAmJiBmaW5kIHt7ICRqc29uLnByb2plY3RfcGF0aCB9fSAtbWF4ZGVwdGggOCAtdHlwZSBmIFxcKCAtbmFtZSAnKi5wbmcnIC1vIC1uYW1lICcqLmpwZycgLW8gLW5hbWUgJyouanBlZycgLW8gLW5hbWUgJyouc3ZnJyAtbyAtbmFtZSAnKi5naWYnIC1vIC1uYW1lICcqLnBkZicgLW8gLW5hbWUgJyoubXA0JyAtbyAtbmFtZSAnKi5tb3YnIC1vIC1uYW1lICcqLmhlaWMnIC1vIC1uYW1lICcqLndlYnAnIFxcKSAhIC1wYXRoICcqL2NvcnRlcy1jb250ZXh0LyonICEgLXBhdGggJyovbm9kZV9tb2R1bGVzLyonICEgLXBhdGggJyovLmdpdC8qJyAhIC1wYXRoICcqL2J1aWxkLyonICEgLXBhdGggJyovRGVyaXZlZERhdGEvKicgISAtcGF0aCAnKi94Y3VzZXJkYXRhLyonIC1leGVjIGR1IC1zaCB7fSBcXDsgMj4vZGV2L251bGwgfCBoZWFkIC0xMDAgfHwgZWNobyAnbm9fYXNzZXRzX2ZvdW5kJyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiQW5hbHl6ZSBBc3NldHMgUGVyZm9ybWFuY2UiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAzNDAsCiAgICAgICAgMTUyMAogICAgICBdLAogICAgICAiaWQiOiAiZWY3M2M4ZDQtNTE3Yi00OWEwLTgzYTctMGNlYTY2YjUyY2VjIgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImNvbW1hbmQiOiAiZWNobyAn8J+TpiBBbmFseXppbmcgUGFja2FnZS5zd2lmdCBkZXBlbmRlbmNpZXMuLi4nICYmIGZpbmQge3sgJGpzb24ucHJvamVjdF9wYXRoIH19IC1tYXhkZXB0aCA1IC1uYW1lICdQYWNrYWdlLnN3aWZ0JyAtZXhlYyBlY2hvICdGb3VuZCBQYWNrYWdlLnN3aWZ0OiB7fScgXFw7IC1leGVjIGNhdCB7fSBcXDsgMj4vZGV2L251bGwgfHwgZWNobyAnbm9fcGFja2FnZV9zd2lmdF9mb3VuZCciCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkFuYWx5emUgU3dpZnQgRGVwZW5kZW5jaWVzIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZXhlY3V0ZUNvbW1hbmQiLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgMzQwLAogICAgICAgIDMyMAogICAgICBdLAogICAgICAiaWQiOiAiYjgwMDA5ZjktOGRlZS00Mzk2LTliOGQtNDE2YTRjMjBmYTk4IgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImNvbW1hbmQiOiAiZWNobyAn8J+UkiBBbmFseXppbmcgUGFja2FnZS5yZXNvbHZlZC4uLicgJiYgZmluZCB7eyAkanNvbi5wcm9qZWN0X3BhdGggfX0gLW1heGRlcHRoIDUgLW5hbWUgJ1BhY2thZ2UucmVzb2x2ZWQnIC1leGVjIGVjaG8gJ0ZvdW5kIFBhY2thZ2UucmVzb2x2ZWQ6IHt9JyBcXDsgLWV4ZWMgY2F0IHt9IFxcOyAyPi9kZXYvbnVsbCB8fCBlY2hvICdub19wYWNrYWdlX3Jlc29sdmVkX2ZvdW5kJyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiQW5hbHl6ZSBTd2lmdCBQYWNrYWdlIExvY2siLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAzNDAsCiAgICAgICAgNTIwCiAgICAgIF0sCiAgICAgICJpZCI6ICJhNzAyODNhYy1iNmFiLTRmNGEtYTA2Yy1mZDY2NTM0OGIxYzUiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJlY2hvICfwn5OEIEFuYWx5emluZyBwYWNrYWdlLmpzb24gZGVwZW5kZW5jaWVzLi4uJyAmJiBmaW5kIHt7ICRqc29uLnByb2plY3RfcGF0aCB9fSAtbWF4ZGVwdGggNSAtbmFtZSAncGFja2FnZS5qc29uJyAtZXhlYyBlY2hvICdGb3VuZCBwYWNrYWdlLmpzb246IHt9JyBcXDsgLWV4ZWMgY2F0IHt9IFxcOyAyPi9kZXYvbnVsbCB8fCBlY2hvICdub19wYWNrYWdlX2pzb25fZm91bmQnIgogICAgICB9LAogICAgICAibmFtZSI6ICJBbmFseXplIE5QTSBEZXBlbmRlbmNpZXMiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAzNDAsCiAgICAgICAgMTEyMAogICAgICBdLAogICAgICAiaWQiOiAiMzIxN2Q0MjgtMzJmYS00ZWVkLTk3NjktMTcwMjljZjM2OTg1IgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImZ1bmN0aW9uQ29kZSI6ICIvLyBBTsOBTElTSVMgUk9CVVNUTyBERSBFU1RSVUNUVVJBIERFTCBQUk9ZRUNUTyBDT1JURVNcbmNvbnN0IHByb2plY3RGaWxlcyA9IGl0ZW1zWzBdPy5qc29uPy5zdGRvdXQ/LnRyaW0oKSB8fCAnJztcbmNvbnN0IHBhdGhDb25maWcgPSBpdGVtc1sxXT8uanNvbiB8fCB7fTtcblxuY29uc3QgYW5hbHlzaXMgPSB7XG4gIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICBwcm9qZWN0X25hbWU6ICdDb3J0ZXMnLFxuICBwcm9qZWN0X3BhdGg6IHBhdGhDb25maWcucHJvamVjdF9wYXRoIHx8ICcvZGF0YS9jb3J0ZXMnLFxuICBjb3J0ZXNfYXBwX3BhdGg6IHBhdGhDb25maWcuY29ydGVzX2FwcF9wYXRoIHx8ICcvZGF0YS9jb3J0ZXMvQ29ydGVzJyxcbiAgcHJvamVjdF9kZXRlY3RlZDogcGF0aENvbmZpZy5kZXRlY3RlZF9hdXRvbWF0aWNhbGx5IHx8IGZhbHNlLFxuICBzY2FuX3N1Y2Nlc3NmdWw6ICFwcm9qZWN0RmlsZXMuaW5jbHVkZXMoJ25vX3Byb2plY3RfZmlsZXNfZm91bmQnKSAmJiAhcHJvamVjdEZpbGVzLmluY2x1ZGVzKCdwcm9qZWN0X3BhdGhfbmVlZHNfdm9sdW1lX21hcHBpbmcnKSxcbiAgZmlsZXNfZm91bmQ6IHByb2plY3RGaWxlcyAhPT0gJ25vX3Byb2plY3RfZmlsZXNfZm91bmQnICYmIHByb2plY3RGaWxlcy5sZW5ndGggPiAwLFxuICB0b3RhbF9maWxlczogMCxcbiAgY2F0ZWdvcmllczoge1xuICAgIHN3aWZ0X2ZpbGVzOiAwLFxuICAgIGpzX2ZpbGVzOiAwLFxuICAgIGNvbmZpZ19maWxlczogMCxcbiAgICBkb2N1bWVudGF0aW9uOiAwLFxuICAgIHhjb2RlX3Byb2plY3RzOiAwLFxuICAgIGluZm9fcGxpc3RzOiAwXG4gIH0sXG4gIGNvcnRlc19zdHJ1Y3R1cmU6IHtcbiAgICBtYWluX2FwcF9maWxlczogW10sXG4gICAgdmlld19maWxlczogW10sXG4gICAgbW9kZWxfZmlsZXM6IFtdLFxuICAgIGNvbmZpZ19maWxlczogW10sXG4gICAgZG9jdW1lbnRhdGlvbl9maWxlczogW11cbiAgfSxcbiAgcHJvamVjdF90eXBlX2RldGVjdGVkOiAndW5rbm93bicsXG4gIGNvcnRlc19zcGVjaWZpY19pbnNpZ2h0czoge1xuICAgIGlvc19wcm9qZWN0OiBmYWxzZSxcbiAgICBzd2lmdHVpX2RldGVjdGVkOiBmYWxzZSxcbiAgICBwYWNrYWdlX21hbmFnZXJfZGV0ZWN0ZWQ6IGZhbHNlLFxuICAgIGRvY3VtZW50YXRpb25fcXVhbGl0eTogJ3Vua25vd24nXG4gIH1cbn07XG5cbi8vIFBhcnNlIGZpbGVzIHJvYnVzdGx5XG5pZiAoYW5hbHlzaXMuc2Nhbl9zdWNjZXNzZnVsICYmIGFuYWx5c2lzLmZpbGVzX2ZvdW5kKSB7XG4gIGNvbnN0IGZpbGVMaXN0ID0gcHJvamVjdEZpbGVzLnNwbGl0KCdcXG4nKVxuICAgIC5maWx0ZXIoZiA9PiBmLmxlbmd0aCA+IDAgJiYgIWYuaW5jbHVkZXMoJ1NjYW5uaW5nIENvcnRlcyBwcm9qZWN0IGZpbGVzJykpXG4gICAgLm1hcChmID0+IGYudHJpbSgpKVxuICAgIC5maWx0ZXIoZiA9PiBmLmxlbmd0aCA+IDApO1xuICBcbiAgYW5hbHlzaXMudG90YWxfZmlsZXMgPSBmaWxlTGlzdC5sZW5ndGg7XG4gIFxuICAvLyBDb3VudCBieSBjYXRlZ29yaWVzXG4gIGFuYWx5c2lzLmNhdGVnb3JpZXMuc3dpZnRfZmlsZXMgPSBmaWxlTGlzdC5maWx0ZXIoZiA9PiBmLmVuZHNXaXRoKCcuc3dpZnQnKSkubGVuZ3RoO1xuICBhbmFseXNpcy5jYXRlZ29yaWVzLmpzX2ZpbGVzID0gZmlsZUxpc3QuZmlsdGVyKGYgPT4gZi5tYXRjaCgvXFwuKGpzfGpzeHx0c3x0c3gpJC8pKS5sZW5ndGg7XG4gIGFuYWx5c2lzLmNhdGVnb3JpZXMuY29uZmlnX2ZpbGVzID0gZmlsZUxpc3QuZmlsdGVyKGYgPT4gZi5tYXRjaCgvKHBhY2thZ2VcXC5qc29ufFBhY2thZ2VcXC5zd2lmdHxQYWNrYWdlXFwucmVzb2x2ZWQpLykpLmxlbmd0aDtcbiAgYW5hbHlzaXMuY2F0ZWdvcmllcy5kb2N1bWVudGF0aW9uID0gZmlsZUxpc3QuZmlsdGVyKGYgPT4gZi5lbmRzV2l0aCgnLm1kJykpLmxlbmd0aDtcbiAgYW5hbHlzaXMuY2F0ZWdvcmllcy54Y29kZV9wcm9qZWN0cyA9IGZpbGVMaXN0LmZpbHRlcihmID0+IGYubWF0Y2goL1xcLih4Y29kZXByb2p8eGN3b3Jrc3BhY2UpJC8pKS5sZW5ndGg7XG4gIGFuYWx5c2lzLmNhdGVnb3JpZXMuaW5mb19wbGlzdHMgPSBmaWxlTGlzdC5maWx0ZXIoZiA9PiBmLmluY2x1ZGVzKCdJbmZvLnBsaXN0JykpLmxlbmd0aDtcbiAgXG4gIC8vIENsYXNzaWZ5IENvcnRlcy1zcGVjaWZpYyBmaWxlc1xuICBhbmFseXNpcy5jb3J0ZXNfc3RydWN0dXJlLm1haW5fYXBwX2ZpbGVzID0gZmlsZUxpc3QuZmlsdGVyKGYgPT4gXG4gICAgZi5pbmNsdWRlcygnL0NvcnRlc0FwcCcpIHx8IGYuaW5jbHVkZXMoJ0NvcnRlc0FwcC5zd2lmdCcpIHx8IGYuaW5jbHVkZXMoJ21haW4uc3dpZnQnKVxuICApO1xuICBhbmFseXNpcy5jb3J0ZXNfc3RydWN0dXJlLnZpZXdfZmlsZXMgPSBmaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICBmLmluY2x1ZGVzKCdWaWV3LnN3aWZ0JykgfHwgZi5pbmNsdWRlcygnL1ZpZXdzLycpIHx8IGYuaW5jbHVkZXMoJ1ZpZXdDb250cm9sbGVyJylcbiAgKTtcbiAgYW5hbHlzaXMuY29ydGVzX3N0cnVjdHVyZS5tb2RlbF9maWxlcyA9IGZpbGVMaXN0LmZpbHRlcihmID0+IFxuICAgIGYuaW5jbHVkZXMoJ01vZGVsLnN3aWZ0JykgfHwgZi5pbmNsdWRlcygnL01vZGVscy8nKSB8fCBmLmluY2x1ZGVzKCdFbnRpdHknKVxuICApO1xuICBhbmFseXNpcy5jb3J0ZXNfc3RydWN0dXJlLmNvbmZpZ19maWxlcyA9IGZpbGVMaXN0LmZpbHRlcihmID0+IFxuICAgIGYubWF0Y2goLyhwYWNrYWdlXFwuanNvbnxQYWNrYWdlXFwuc3dpZnR8UGFja2FnZVxcLnJlc29sdmVkfEluZm9cXC5wbGlzdCkvKVxuICApO1xuICBhbmFseXNpcy5jb3J0ZXNfc3RydWN0dXJlLmRvY3VtZW50YXRpb25fZmlsZXMgPSBmaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICBmLmluY2x1ZGVzKCcvRG9jdW1lbnRhdGlvbi8nKSB8fCBmLmluY2x1ZGVzKCcvZG9jcy8nKSB8fCBmLmVuZHNXaXRoKCcubWQnKVxuICApO1xuICBcbiAgLy8gRGV0ZWN0IHByb2plY3QgdHlwZSBhbmQgQ29ydGVzLXNwZWNpZmljIGluc2lnaHRzXG4gIGlmIChhbmFseXNpcy5jYXRlZ29yaWVzLnN3aWZ0X2ZpbGVzID4gMCAmJiBhbmFseXNpcy5jYXRlZ29yaWVzLnhjb2RlX3Byb2plY3RzID4gMCkge1xuICAgIGFuYWx5c2lzLnByb2plY3RfdHlwZV9kZXRlY3RlZCA9ICdpT1NfTmF0aXZlX1N3aWZ0X0NvcnRlcyc7XG4gICAgYW5hbHlzaXMuY29ydGVzX3NwZWNpZmljX2luc2lnaHRzLmlvc19wcm9qZWN0ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChhbmFseXNpcy5jYXRlZ29yaWVzLnN3aWZ0X2ZpbGVzID4gMCkge1xuICAgIGFuYWx5c2lzLnByb2plY3RfdHlwZV9kZXRlY3RlZCA9ICdTd2lmdF9QYWNrYWdlX0NvcnRlcyc7XG4gICAgYW5hbHlzaXMuY29ydGVzX3NwZWNpZmljX2luc2lnaHRzLnBhY2thZ2VfbWFuYWdlcl9kZXRlY3RlZCA9IHRydWU7XG4gIH0gZWxzZSBpZiAoYW5hbHlzaXMuY2F0ZWdvcmllcy5qc19maWxlcyA+IDApIHtcbiAgICBhbmFseXNpcy5wcm9qZWN0X3R5cGVfZGV0ZWN0ZWQgPSAnV2ViX0NvbXBvbmVudF9Db3J0ZXMnO1xuICB9IGVsc2UgaWYgKGFuYWx5c2lzLnRvdGFsX2ZpbGVzID4gMCkge1xuICAgIGFuYWx5c2lzLnByb2plY3RfdHlwZV9kZXRlY3RlZCA9ICdNaXhlZF9Db3J0ZXNfUHJvamVjdCc7XG4gIH1cbiAgXG4gIC8vIFN3aWZ0VUkgZGV0ZWN0aW9uXG4gIGNvbnN0IHN3aWZ0VUlJbmRpY2F0b3JzID0gZmlsZUxpc3QuZmlsdGVyKGYgPT4gXG4gICAgZi5pbmNsdWRlcygnU3dpZnRVSScpIHx8IGYuaW5jbHVkZXMoJ0NvbnRlbnRWaWV3JykgfHwgZi5pbmNsdWRlcygnQFN0YXRlJykgfHxcbiAgICBmLmluY2x1ZGVzKCdWaWV3LnN3aWZ0JykgJiYgYW5hbHlzaXMuY2F0ZWdvcmllcy5zd2lmdF9maWxlcyA+IDVcbiAgKTtcbiAgYW5hbHlzaXMuY29ydGVzX3NwZWNpZmljX2luc2lnaHRzLnN3aWZ0dWlfZGV0ZWN0ZWQgPSBzd2lmdFVJSW5kaWNhdG9ycy5sZW5ndGggPiAwO1xuICBcbiAgLy8gRG9jdW1lbnRhdGlvbiBxdWFsaXR5IGFzc2Vzc21lbnRcbiAgaWYgKGFuYWx5c2lzLmNhdGVnb3JpZXMuZG9jdW1lbnRhdGlvbiA+IDUpIHtcbiAgICBhbmFseXNpcy5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHMuZG9jdW1lbnRhdGlvbl9xdWFsaXR5ID0gJ2V4Y2VsbGVudCc7XG4gIH0gZWxzZSBpZiAoYW5hbHlzaXMuY2F0ZWdvcmllcy5kb2N1bWVudGF0aW9uID4gMikge1xuICAgIGFuYWx5c2lzLmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cy5kb2N1bWVudGF0aW9uX3F1YWxpdHkgPSAnZ29vZCc7XG4gIH0gZWxzZSBpZiAoYW5hbHlzaXMuY2F0ZWdvcmllcy5kb2N1bWVudGF0aW9uID4gMCkge1xuICAgIGFuYWx5c2lzLmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cy5kb2N1bWVudGF0aW9uX3F1YWxpdHkgPSAnYmFzaWMnO1xuICB9IGVsc2Uge1xuICAgIGFuYWx5c2lzLmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cy5kb2N1bWVudGF0aW9uX3F1YWxpdHkgPSAnbWluaW1hbCc7XG4gIH1cbn1cblxuY29uc29sZS5sb2coJ+KchSBDb3J0ZXMgcHJvamVjdCBhbmFseXNpcyBjb21wbGV0ZWQ6Jywge1xuICBmaWxlc19mb3VuZDogYW5hbHlzaXMuZmlsZXNfZm91bmQsXG4gIHRvdGFsX2ZpbGVzOiBhbmFseXNpcy50b3RhbF9maWxlcyxcbiAgcHJvamVjdF90eXBlOiBhbmFseXNpcy5wcm9qZWN0X3R5cGVfZGV0ZWN0ZWQsXG4gIGlvc19wcm9qZWN0OiBhbmFseXNpcy5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHMuaW9zX3Byb2plY3Rcbn0pO1xuXG5yZXR1cm4gW3sganNvbjogYW5hbHlzaXMgfV07IgogICAgICB9LAogICAgICAibmFtZSI6ICJBbmFseXplIENvcnRlcyBQcm9qZWN0IFN0cnVjdHVyZSIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmZ1bmN0aW9uIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDU2MCwKICAgICAgICAxMjAKICAgICAgXSwKICAgICAgImlkIjogIjNkN2M1NWFiLTU0ZjQtNDE2Ni1iZGZmLTFlZGQ1ZjgxODc2ZiIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJmdW5jdGlvbkNvZGUiOiAiLy8gQU7DgUxJU0lTIFJPQlVTVE8gREUgR0lUIElOVEVMTElHRU5DRSBQQVJBIENPUlRFU1xuY29uc3QgZ2l0SGlzdG9yeSA9IGl0ZW1zWzBdPy5qc29uPy5zdGRvdXQgfHwgJ25vX2dpdF9yZXBvc2l0b3J5X2ZvdW5kJztcbmNvbnN0IGdpdFN0YXRzID0gaXRlbXNbMV0/Lmpzb24/LnN0ZG91dCB8fCAnbm9fZ2l0X3N0YXRzX2F2YWlsYWJsZSc7XG5cbmNvbnN0IGdpdEludGVsbGlnZW5jZSA9IHtcbiAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIHByb2plY3RfbmFtZTogJ0NvcnRlcycsXG4gIGdpdF9hdmFpbGFibGU6ICFnaXRIaXN0b3J5LmluY2x1ZGVzKCdub19naXRfcmVwb3NpdG9yeV9mb3VuZCcpLFxuICBnaXRfc3RhdHVzX2NsZWFuOiBnaXRIaXN0b3J5LmluY2x1ZGVzKCdHaXQgYW5hbHlzaXMgZm9yIENvcnRlczonKSxcbiAgZGV2ZWxvcG1lbnRfdmVsb2NpdHk6IHtcbiAgICBjb21taXRzXzMwX2RheXM6IDAsXG4gICAgY29tbWl0c18xNF9kYXlzOiAwLFxuICAgIGFjdGl2ZV9kZXZlbG9wZXJzOiBbXSxcbiAgICBjb21taXRfZnJlcXVlbmN5OiAndW5rbm93bicsXG4gICAgZGV2ZWxvcG1lbnRfcGFjZTogJ3Vua25vd24nXG4gIH0sXG4gIGNvbW1pdF9wYXR0ZXJuczoge1xuICAgIGNvbW1vbl9tZXNzYWdlczogW10sXG4gICAgY29tbWl0X3R5cGVzOiB7fSxcbiAgICByZWNlbnRfYWN0aXZpdHk6IGZhbHNlLFxuICAgIGNvcnRlc19zcGVjaWZpY19jb21taXRzOiBbXVxuICB9LFxuICBob3Rfc3BvdHM6IHtcbiAgICBtb3N0X2NoYW5nZWRfZmlsZXM6IFtdLFxuICAgIHJlZmFjdG9yX2NhbmRpZGF0ZXM6IFtdLFxuICAgIGNvcnRlc19jb3JlX2NoYW5nZXM6IFtdXG4gIH0sXG4gIGNvcnRlc19kZXZlbG9wbWVudF9pbnNpZ2h0czoge1xuICAgIGNvcmVfZmVhdHVyZV9kZXZlbG9wbWVudDogJ3Vua25vd24nLFxuICAgIHVpX2RldmVsb3BtZW50X2FjdGl2aXR5OiAndW5rbm93bicsXG4gICAgYmFja2VuZF9kZXZlbG9wbWVudF9hY3Rpdml0eTogJ3Vua25vd24nLFxuICAgIHRlc3RpbmdfZGV2ZWxvcG1lbnRfYWN0aXZpdHk6ICd1bmtub3duJ1xuICB9LFxuICBpbnNpZ2h0czoge1xuICAgIGRldmVsb3BtZW50X2hlYWx0aDogJ3Vua25vd24nLFxuICAgIGNvZGVfc3RhYmlsaXR5OiAndW5rbm93bicsXG4gICAgdGVhbV9jb2xsYWJvcmF0aW9uOiAndW5rbm93bicsXG4gICAgcHJvamVjdF9tb21lbnR1bTogJ3Vua25vd24nXG4gIH1cbn07XG5cbmlmIChnaXRJbnRlbGxpZ2VuY2UuZ2l0X2F2YWlsYWJsZSkge1xuICAvLyBQYXJzZSBHaXQgaGlzdG9yeSBtb3JlIHJvYnVzdGx5XG4gIGNvbnN0IGhpc3RvcnlMaW5lcyA9IGdpdEhpc3Rvcnkuc3BsaXQoJ1xcbicpXG4gICAgLmZpbHRlcihsaW5lID0+IGxpbmUuaW5jbHVkZXMoJ3wnKSAmJiBsaW5lLm1hdGNoKC9eW2EtZjAtOV0rXFx8LykpO1xuICBcbiAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdHNfMzBfZGF5cyA9IGhpc3RvcnlMaW5lcy5sZW5ndGg7XG4gIGdpdEludGVsbGlnZW5jZS5jb21taXRfcGF0dGVybnMucmVjZW50X2FjdGl2aXR5ID0gaGlzdG9yeUxpbmVzLmxlbmd0aCA+IDA7XG4gIFxuICBpZiAoaGlzdG9yeUxpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAvLyBQYXJzZSBjb21taXQgZGF0YVxuICAgIGNvbnN0IGNvbW1pdERhdGEgPSBoaXN0b3J5TGluZXMubWFwKGxpbmUgPT4ge1xuICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KCd8Jyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoYXNoOiBwYXJ0c1swXT8udHJpbSgpLFxuICAgICAgICBhdXRob3I6IHBhcnRzWzFdPy50cmltKCksXG4gICAgICAgIGRhdGU6IHBhcnRzWzJdPy50cmltKCksXG4gICAgICAgIG1lc3NhZ2U6IHBhcnRzLnNsaWNlKDMpLmpvaW4oJ3wnKS50cmltKClcbiAgICAgIH07XG4gICAgfSkuZmlsdGVyKGNvbW1pdCA9PiBjb21taXQuaGFzaCAmJiBjb21taXQuYXV0aG9yKTtcbiAgICBcbiAgICAvLyBBbmFseXplIGRldmVsb3BlcnNcbiAgICBjb25zdCBkZXZlbG9wZXJzID0gWy4uLm5ldyBTZXQoY29tbWl0RGF0YS5tYXAoYyA9PiBjLmF1dGhvcikpXTtcbiAgICBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuYWN0aXZlX2RldmVsb3BlcnMgPSBkZXZlbG9wZXJzO1xuICAgIFxuICAgIC8vIEFuYWx5emUgQ29ydGVzLXNwZWNpZmljIGNvbW1pdCBwYXR0ZXJuc1xuICAgIGNvbnN0IGNvcnRlc0NvbW1pdHMgPSBjb21taXREYXRhLmZpbHRlcihjID0+IFxuICAgICAgYy5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvcnRlcycpIHx8XG4gICAgICBjLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY2xpZW50JykgfHxcbiAgICAgIGMubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzZXNzaW9uJykgfHxcbiAgICAgIGMubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdhbmFseXRpY3MnKVxuICAgICk7XG4gICAgZ2l0SW50ZWxsaWdlbmNlLmNvbW1pdF9wYXR0ZXJucy5jb3J0ZXNfc3BlY2lmaWNfY29tbWl0cyA9IGNvcnRlc0NvbW1pdHMuc2xpY2UoMCwgMTApO1xuICAgIFxuICAgIC8vIEFuYWx5emUgY29tbWl0IHBhdHRlcm5zXG4gICAgY29uc3QgbWVzc2FnZXMgPSBjb21taXREYXRhLm1hcChjID0+IGMubWVzc2FnZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBjb21tb25Xb3JkcyA9IHt9O1xuICAgIG1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgIGNvbnN0IHdvcmRzID0gbXNnLnNwbGl0KCcgJykuZmlsdGVyKHcgPT4gdy5sZW5ndGggPiAzICYmICFbJ3RoZScsICdhbmQnLCAnZm9yJywgJ3dpdGgnXS5pbmNsdWRlcyh3KSk7XG4gICAgICB3b3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgICBjb21tb25Xb3Jkc1t3b3JkXSA9IChjb21tb25Xb3Jkc1t3b3JkXSB8fCAwKSArIDE7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICBnaXRJbnRlbGxpZ2VuY2UuY29tbWl0X3BhdHRlcm5zLmNvbW1vbl9tZXNzYWdlcyA9IE9iamVjdC5lbnRyaWVzKGNvbW1vbldvcmRzKVxuICAgICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxuICAgICAgLnNsaWNlKDAsIDE1KVxuICAgICAgLm1hcCgoW3dvcmQsIGNvdW50XSkgPT4gKHsgd29yZCwgY291bnQgfSkpO1xuICAgIFxuICAgIC8vIERldGVjdCBjb21taXQgdHlwZXMgZm9yIENvcnRlc1xuICAgIGNvbnN0IGNvbW1pdFR5cGVzID0ge1xuICAgICAgZmVhdHVyZTogbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5pbmNsdWRlcygnZmVhdCcpIHx8IG0uaW5jbHVkZXMoJ2FkZCcpIHx8IG0uaW5jbHVkZXMoJ2ltcGxlbWVudCcpIHx8IG0uaW5jbHVkZXMoJ25ldycpKS5sZW5ndGgsXG4gICAgICBmaXg6IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uaW5jbHVkZXMoJ2ZpeCcpIHx8IG0uaW5jbHVkZXMoJ2J1ZycpIHx8IG0uaW5jbHVkZXMoJ3Jlc29sdmUnKSB8fCBtLmluY2x1ZGVzKCdwYXRjaCcpKS5sZW5ndGgsXG4gICAgICByZWZhY3RvcjogbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5pbmNsdWRlcygncmVmYWN0b3InKSB8fCBtLmluY2x1ZGVzKCdjbGVhbicpIHx8IG0uaW5jbHVkZXMoJ29wdGltaXplJykpLmxlbmd0aCxcbiAgICAgIHRlc3Q6IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uaW5jbHVkZXMoJ3Rlc3QnKSB8fCBtLmluY2x1ZGVzKCdzcGVjJykgfHwgbS5pbmNsdWRlcygnY292ZXJhZ2UnKSkubGVuZ3RoLFxuICAgICAgZG9jczogbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5pbmNsdWRlcygnZG9jJykgfHwgbS5pbmNsdWRlcygncmVhZG1lJykgfHwgbS5pbmNsdWRlcygnY29tbWVudCcpKS5sZW5ndGgsXG4gICAgICB1aTogbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5pbmNsdWRlcygndWknKSB8fCBtLmluY2x1ZGVzKCd2aWV3JykgfHwgbS5pbmNsdWRlcygnZGVzaWduJykgfHwgbS5pbmNsdWRlcygnc3R5bGUnKSkubGVuZ3RoLFxuICAgICAgYmFja2VuZDogbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5pbmNsdWRlcygnYXBpJykgfHwgbS5pbmNsdWRlcygnc2VydmVyJykgfHwgbS5pbmNsdWRlcygnZGF0YWJhc2UnKSB8fCBtLmluY2x1ZGVzKCdjb3JlJykpLmxlbmd0aFxuICAgIH07XG4gICAgXG4gICAgZ2l0SW50ZWxsaWdlbmNlLmNvbW1pdF9wYXR0ZXJucy5jb21taXRfdHlwZXMgPSBjb21taXRUeXBlcztcbiAgICBcbiAgICAvLyBDb3J0ZXMtc3BlY2lmaWMgZGV2ZWxvcG1lbnQgaW5zaWdodHNcbiAgICBnaXRJbnRlbGxpZ2VuY2UuY29ydGVzX2RldmVsb3BtZW50X2luc2lnaHRzID0ge1xuICAgICAgY29yZV9mZWF0dXJlX2RldmVsb3BtZW50OiBjb21taXRUeXBlcy5mZWF0dXJlID4gNSA/ICdoaWdoJyA6IGNvbW1pdFR5cGVzLmZlYXR1cmUgPiAyID8gJ21vZGVyYXRlJyA6ICdsb3cnLFxuICAgICAgdWlfZGV2ZWxvcG1lbnRfYWN0aXZpdHk6IGNvbW1pdFR5cGVzLnVpID4gMyA/ICdoaWdoJyA6IGNvbW1pdFR5cGVzLnVpID4gMSA/ICdtb2RlcmF0ZScgOiAnbG93JyxcbiAgICAgIGJhY2tlbmRfZGV2ZWxvcG1lbnRfYWN0aXZpdHk6IGNvbW1pdFR5cGVzLmJhY2tlbmQgPiAzID8gJ2hpZ2gnIDogY29tbWl0VHlwZXMuYmFja2VuZCA+IDEgPyAnbW9kZXJhdGUnIDogJ2xvdycsXG4gICAgICB0ZXN0aW5nX2RldmVsb3BtZW50X2FjdGl2aXR5OiBjb21taXRUeXBlcy50ZXN0ID4gMiA/ICdnb29kJyA6IGNvbW1pdFR5cGVzLnRlc3QgPiAwID8gJ21pbmltYWwnIDogJ25vbmUnXG4gICAgfTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgbGFzdCAxNCBkYXlzIGZvciBtb3JlIHJlY2VudCBhY3Rpdml0eVxuICAgIGNvbnN0IGZvdXJ0ZWVuRGF5c0FnbyA9IG5ldyBEYXRlKCk7XG4gICAgZm91cnRlZW5EYXlzQWdvLnNldERhdGUoZm91cnRlZW5EYXlzQWdvLmdldERhdGUoKSAtIDE0KTtcbiAgICBcbiAgICBjb25zdCBsYXN0MTREYXlzID0gY29tbWl0RGF0YS5maWx0ZXIoYyA9PiB7XG4gICAgICBjb25zdCBjb21taXREYXRlID0gbmV3IERhdGUoYy5kYXRlKTtcbiAgICAgIHJldHVybiBjb21taXREYXRlID49IGZvdXJ0ZWVuRGF5c0FnbztcbiAgICB9KTtcbiAgICBcbiAgICBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuY29tbWl0c18xNF9kYXlzID0gbGFzdDE0RGF5cy5sZW5ndGg7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGNvbW1pdCBmcmVxdWVuY3kgYW5kIHBhY2VcbiAgICBpZiAobGFzdDE0RGF5cy5sZW5ndGggPiAyMCkge1xuICAgICAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdF9mcmVxdWVuY3kgPSAndmVyeV9oaWdoJztcbiAgICAgIGdpdEludGVsbGlnZW5jZS5kZXZlbG9wbWVudF92ZWxvY2l0eS5kZXZlbG9wbWVudF9wYWNlID0gJ2JsYXppbmcnO1xuICAgIH0gZWxzZSBpZiAobGFzdDE0RGF5cy5sZW5ndGggPiAxMCkge1xuICAgICAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdF9mcmVxdWVuY3kgPSAnaGlnaCc7XG4gICAgICBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuZGV2ZWxvcG1lbnRfcGFjZSA9ICdmYXN0JztcbiAgICB9IGVsc2UgaWYgKGxhc3QxNERheXMubGVuZ3RoID4gNSkge1xuICAgICAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdF9mcmVxdWVuY3kgPSAnbW9kZXJhdGUnO1xuICAgICAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmRldmVsb3BtZW50X3BhY2UgPSAnc3RlYWR5JztcbiAgICB9IGVsc2UgaWYgKGxhc3QxNERheXMubGVuZ3RoID4gMCkge1xuICAgICAgZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdF9mcmVxdWVuY3kgPSAnbG93JztcbiAgICAgIGdpdEludGVsbGlnZW5jZS5kZXZlbG9wbWVudF92ZWxvY2l0eS5kZXZlbG9wbWVudF9wYWNlID0gJ3Nsb3cnO1xuICAgIH0gZWxzZSB7XG4gICAgICBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuY29tbWl0X2ZyZXF1ZW5jeSA9ICdpbmFjdGl2ZSc7XG4gICAgICBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuZGV2ZWxvcG1lbnRfcGFjZSA9ICdzdGFnbmFudCc7XG4gICAgfVxuICB9XG4gIFxuICAvLyBBbmFseXplIGdpdCBzdGF0cyBmb3IgaG90IHNwb3RzXG4gIGlmICghZ2l0U3RhdHMuaW5jbHVkZXMoJ25vX2dpdF9zdGF0c19hdmFpbGFibGUnKSkge1xuICAgIGNvbnN0IHN0YXRzTGluZXMgPSBnaXRTdGF0cy5zcGxpdCgnXFxuJylcbiAgICAgIC5maWx0ZXIobGluZSA9PiBsaW5lLmxlbmd0aCA+IDAgJiYgIWxpbmUuaW5jbHVkZXMoJ0dpdCBzdGF0aXN0aWNzIGFuYWx5c2lzOicpKTtcbiAgICBcbiAgICBjb25zdCBmaWxlQ2hhbmdlcyA9IHt9O1xuICAgIGxldCBjdXJyZW50Q29tbWl0ID0gbnVsbDtcbiAgICBcbiAgICBzdGF0c0xpbmVzLmZvckVhY2gobGluZSA9PiB7XG4gICAgICBpZiAobGluZS5pbmNsdWRlcygnfCcpICYmICFsaW5lLm1hdGNoKC9eXFxkK1xccytcXGQrXFxzKy8pKSB7XG4gICAgICAgIGN1cnJlbnRDb21taXQgPSBsaW5lLnNwbGl0KCd8JylbMF0/LnRyaW0oKTtcbiAgICAgIH0gZWxzZSBpZiAobGluZS5tYXRjaCgvXlxcZCtcXHMrXFxkK1xccysvKSAmJiBjdXJyZW50Q29tbWl0KSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbGluZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgY29uc3QgYWRkZWQgPSBwYXJzZUludChwYXJ0c1swXSkgfHwgMDtcbiAgICAgICAgICBjb25zdCByZW1vdmVkID0gcGFyc2VJbnQocGFydHNbMV0pIHx8IDA7XG4gICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBwYXJ0cy5zbGljZSgyKS5qb2luKCcgJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFmaWxlQ2hhbmdlc1tmaWxlTmFtZV0pIHtcbiAgICAgICAgICAgIGZpbGVDaGFuZ2VzW2ZpbGVOYW1lXSA9IHsgY2hhbmdlczogMCwgYWRkZWQ6IDAsIHJlbW92ZWQ6IDAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgZmlsZUNoYW5nZXNbZmlsZU5hbWVdLmNoYW5nZXMrKztcbiAgICAgICAgICBmaWxlQ2hhbmdlc1tmaWxlTmFtZV0uYWRkZWQgKz0gYWRkZWQ7XG4gICAgICAgICAgZmlsZUNoYW5nZXNbZmlsZU5hbWVdLnJlbW92ZWQgKz0gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIElkZW50aWZ5IGhvdCBzcG90c1xuICAgIGNvbnN0IGhvdFNwb3RzID0gT2JqZWN0LmVudHJpZXMoZmlsZUNoYW5nZXMpXG4gICAgICAuc29ydCgoWyxhXSwgWyxiXSkgPT4gYi5jaGFuZ2VzIC0gYS5jaGFuZ2VzKVxuICAgICAgLnNsaWNlKDAsIDE1KVxuICAgICAgLm1hcCgoW2ZpbGUsIHN0YXRzXSkgPT4gKHsgZmlsZSwgLi4uc3RhdHMgfSkpO1xuICAgIFxuICAgIGdpdEludGVsbGlnZW5jZS5ob3Rfc3BvdHMubW9zdF9jaGFuZ2VkX2ZpbGVzID0gaG90U3BvdHM7XG4gICAgXG4gICAgLy8gSWRlbnRpZnkgQ29ydGVzIGNvcmUgY2hhbmdlc1xuICAgIGNvbnN0IGNvcnRlc0NvcmUgPSBob3RTcG90cy5maWx0ZXIoaXRlbSA9PiBcbiAgICAgIGl0ZW0uZmlsZS5pbmNsdWRlcygnQ29ydGVzJykgfHwgXG4gICAgICBpdGVtLmZpbGUuaW5jbHVkZXMoJ0NsaWVudCcpIHx8IFxuICAgICAgaXRlbS5maWxlLmluY2x1ZGVzKCdTZXNzaW9uJykgfHxcbiAgICAgIGl0ZW0uZmlsZS5pbmNsdWRlcygnQW5hbHl0aWNzJylcbiAgICApO1xuICAgIGdpdEludGVsbGlnZW5jZS5ob3Rfc3BvdHMuY29ydGVzX2NvcmVfY2hhbmdlcyA9IGNvcnRlc0NvcmU7XG4gICAgXG4gICAgLy8gSWRlbnRpZnkgcmVmYWN0b3IgY2FuZGlkYXRlc1xuICAgIGNvbnN0IHJlZmFjdG9yQ2FuZGlkYXRlcyA9IGhvdFNwb3RzXG4gICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGFuZ2VzID4gNSAmJiAoaXRlbS5hZGRlZCArIGl0ZW0ucmVtb3ZlZCkgPiAxMDApXG4gICAgICAubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgZmlsZTogaXRlbS5maWxlLFxuICAgICAgICBjaHVybl9zY29yZTogaXRlbS5jaGFuZ2VzICogKGl0ZW0uYWRkZWQgKyBpdGVtLnJlbW92ZWQpLFxuICAgICAgICByZWFzb246ICdIaWdoIGNoYW5nZSBmcmVxdWVuY3kgd2l0aCBzaWduaWZpY2FudCBtb2RpZmljYXRpb25zJyxcbiAgICAgICAgcHJpb3JpdHk6IGl0ZW0uZmlsZS5pbmNsdWRlcygnQ29ydGVzJykgPyAnaGlnaCcgOiAnbWVkaXVtJ1xuICAgICAgfSkpO1xuICAgIFxuICAgIGdpdEludGVsbGlnZW5jZS5ob3Rfc3BvdHMucmVmYWN0b3JfY2FuZGlkYXRlcyA9IHJlZmFjdG9yQ2FuZGlkYXRlcztcbiAgfVxuICBcbiAgLy8gR2VuZXJhdGUgZW5oYW5jZWQgaW5zaWdodHNcbiAgZ2l0SW50ZWxsaWdlbmNlLmluc2lnaHRzID0ge1xuICAgIGRldmVsb3BtZW50X2hlYWx0aDogZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdF9mcmVxdWVuY3ksXG4gICAgdGVhbV9zaXplOiBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuYWN0aXZlX2RldmVsb3BlcnMubGVuZ3RoLFxuICAgIGNvZGVfc3RhYmlsaXR5OiBnaXRJbnRlbGxpZ2VuY2UuaG90X3Nwb3RzLnJlZmFjdG9yX2NhbmRpZGF0ZXMubGVuZ3RoIDwgMyA/ICdzdGFibGUnIDogJ25lZWRzX2F0dGVudGlvbicsXG4gICAgcHJvamVjdF9tb21lbnR1bTogZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5LmNvbW1pdHNfMTRfZGF5cyA+IDAgPyAnYWN0aXZlJyA6ICdzdGFnbmFudCcsXG4gICAgdGVhbV9jb2xsYWJvcmF0aW9uOiBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuYWN0aXZlX2RldmVsb3BlcnMubGVuZ3RoID4gMSA/ICdjb2xsYWJvcmF0aXZlJyA6ICdzb2xvJ1xuICB9O1xufSBlbHNlIHtcbiAgZ2l0SW50ZWxsaWdlbmNlLmluc2lnaHRzID0ge1xuICAgIGRldmVsb3BtZW50X2hlYWx0aDogJ25vX2dpdF9yZXBvc2l0b3J5JyxcbiAgICBjb2RlX3N0YWJpbGl0eTogJ3Vua25vd24nLFxuICAgIHRlYW1fc2l6ZTogMCxcbiAgICBwcm9qZWN0X21vbWVudHVtOiAndW5rbm93bicsXG4gICAgdGVhbV9jb2xsYWJvcmF0aW9uOiAndW5rbm93bidcbiAgfTtcbn1cblxuY29uc29sZS5sb2coJ+KchSBDb3J0ZXMgR2l0IGludGVsbGlnZW5jZSBjb21wbGV0ZWQ6Jywge1xuICBnaXRfYXZhaWxhYmxlOiBnaXRJbnRlbGxpZ2VuY2UuZ2l0X2F2YWlsYWJsZSxcbiAgY29tbWl0c18zMF9kYXlzOiBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuY29tbWl0c18zMF9kYXlzLFxuICBkZXZlbG9wbWVudF9wYWNlOiBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHkuZGV2ZWxvcG1lbnRfcGFjZVxufSk7XG5cbnJldHVybiBbeyBqc29uOiBnaXRJbnRlbGxpZ2VuY2UgfV07IgogICAgICB9LAogICAgICAibmFtZSI6ICJBbmFseXplIENvcnRlcyBHaXQgSW50ZWxsaWdlbmNlIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZnVuY3Rpb24iLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgNTYwLAogICAgICAgIDkyMAogICAgICBdLAogICAgICAiaWQiOiAiMjk2YTBkMTgtMDY5Mi00OWYzLTgxMWItYTJiZWNjOWJkNjQzIgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImZ1bmN0aW9uQ29kZSI6ICIvLyBBTsOBTElTSVMgUk9CVVNUTyBERSBURVNUSU5HIElOVEVMTElHRU5DRSBQQVJBIENPUlRFU1xuY29uc3QgdGVzdEZpbGVzID0gaXRlbXNbMF0/Lmpzb24/LnN0ZG91dCB8fCAnbm9fdGVzdF9maWxlc19mb3VuZCc7XG5cbmNvbnN0IHRlc3RpbmdJbnRlbGxpZ2VuY2UgPSB7XG4gIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICBwcm9qZWN0X25hbWU6ICdDb3J0ZXMnLFxuICBzY2FuX3N1Y2Nlc3NmdWw6ICF0ZXN0RmlsZXMuaW5jbHVkZXMoJ25vX3Rlc3RfZmlsZXNfZm91bmQnKSxcbiAgdGVzdHNfZm91bmQ6IHRlc3RGaWxlcyAhPT0gJ25vX3Rlc3RfZmlsZXNfZm91bmQnICYmIHRlc3RGaWxlcy5sZW5ndGggPiAwLFxuICB0ZXN0X2NvdmVyYWdlOiB7XG4gICAgdG90YWxfdGVzdF9maWxlczogMCxcbiAgICBzd2lmdF90ZXN0X2ZpbGVzOiAwLFxuICAgIGpzX3Rlc3RfZmlsZXM6IDAsXG4gICAgdWlfdGVzdF9maWxlczogMCxcbiAgICB1bml0X3Rlc3RfZmlsZXM6IDBcbiAgfSxcbiAgY29ydGVzX3Rlc3RpbmdfcGF0dGVybnM6IHtcbiAgICBjbGllbnRfdGVzdHM6IFtdLFxuICAgIHNlc3Npb25fdGVzdHM6IFtdLFxuICAgIGFuYWx5dGljc190ZXN0czogW10sXG4gICAgdWlfdGVzdHM6IFtdLFxuICAgIGludGVncmF0aW9uX3Rlc3RzOiBbXVxuICB9LFxuICB0ZXN0aW5nX2ZyYW1ld29ya3M6IHtcbiAgICBzd2lmdF90ZXN0aW5nX2ZyYW1ld29yazogJ1hDVGVzdCcsXG4gICAganNfdGVzdGluZ19mcmFtZXdvcms6ICd1bmtub3duJyxcbiAgICB1aV90ZXN0aW5nX2ZyYW1ld29yazogJ1hDVUlUZXN0J1xuICB9LFxuICBjb3J0ZXNfdGVzdF9pbnNpZ2h0czoge1xuICAgIGNsaWVudF9tYW5hZ2VtZW50X2NvdmVyYWdlOiAndW5rbm93bicsXG4gICAgc2Vzc2lvbl9tYW5hZ2VtZW50X2NvdmVyYWdlOiAndW5rbm93bicsXG4gICAgYW5hbHl0aWNzX2NvdmVyYWdlOiAndW5rbm93bicsXG4gICAgdWlfY292ZXJhZ2U6ICd1bmtub3duJyxcbiAgICBtb25ldGl6YXRpb25fY292ZXJhZ2U6ICd1bmtub3duJ1xuICB9LFxuICBpbnNpZ2h0czoge1xuICAgIHRlc3RfY292ZXJhZ2VfbGV2ZWw6ICdub25lJyxcbiAgICB0ZXN0aW5nX21hdHVyaXR5OiAnbm9uZScsXG4gICAgcmVjb21tZW5kYXRpb246ICdJbml0aWFsaXplIGNvbXByZWhlbnNpdmUgQ29ydGVzIHRlc3Rpbmcgc2V0dXAnLFxuICAgIGRlcGxveW1lbnRfY29uZmlkZW5jZTogJ2xvdydcbiAgfVxufTtcblxuaWYgKHRlc3RpbmdJbnRlbGxpZ2VuY2Uuc2Nhbl9zdWNjZXNzZnVsICYmIHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdHNfZm91bmQpIHtcbiAgY29uc3QgdGVzdEZpbGVMaXN0ID0gdGVzdEZpbGVzLnNwbGl0KCdcXG4nKVxuICAgIC5maWx0ZXIoZiA9PiBmLmxlbmd0aCA+IDAgJiYgIWYuaW5jbHVkZXMoJ1NjYW5uaW5nIENvcnRlcyB0ZXN0IGZpbGVzJykpXG4gICAgLm1hcChmID0+IGYudHJpbSgpKVxuICAgIC5maWx0ZXIoZiA9PiBmLmxlbmd0aCA+IDApO1xuICBcbiAgdGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0X2NvdmVyYWdlLnRvdGFsX3Rlc3RfZmlsZXMgPSB0ZXN0RmlsZUxpc3QubGVuZ3RoO1xuICB0ZXN0aW5nSW50ZWxsaWdlbmNlLnRlc3RfY292ZXJhZ2Uuc3dpZnRfdGVzdF9maWxlcyA9IHRlc3RGaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICBmLmVuZHNXaXRoKCcuc3dpZnQnKSAmJiAoZi5pbmNsdWRlcygnVGVzdCcpIHx8IGYuaW5jbHVkZXMoJ1Rlc3RzJykpXG4gICkubGVuZ3RoO1xuICB0ZXN0aW5nSW50ZWxsaWdlbmNlLnRlc3RfY292ZXJhZ2UuanNfdGVzdF9maWxlcyA9IHRlc3RGaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICBmLm1hdGNoKC9cXC4odGVzdHxzcGVjKVxcLihqc3x0c3xqc3h8dHN4KSQvKVxuICApLmxlbmd0aDtcbiAgdGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0X2NvdmVyYWdlLnVpX3Rlc3RfZmlsZXMgPSB0ZXN0RmlsZUxpc3QuZmlsdGVyKGYgPT4gXG4gICAgZi5pbmNsdWRlcygnVUlUZXN0JykgfHwgZi5pbmNsdWRlcygnVUlUZXN0cycpXG4gICkubGVuZ3RoO1xuICB0ZXN0aW5nSW50ZWxsaWdlbmNlLnRlc3RfY292ZXJhZ2UudW5pdF90ZXN0X2ZpbGVzID0gdGVzdEZpbGVMaXN0LmZpbHRlcihmID0+IFxuICAgIGYuaW5jbHVkZXMoJ1VuaXRUZXN0JykgfHwgKGYuaW5jbHVkZXMoJ1Rlc3QnKSAmJiAhZi5pbmNsdWRlcygnVUlUZXN0JykpXG4gICkubGVuZ3RoO1xuICBcbiAgLy8gQW5hbHl6ZSBDb3J0ZXMtc3BlY2lmaWMgdGVzdCBwYXR0ZXJuc1xuICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0aW5nX3BhdHRlcm5zID0ge1xuICAgIGNsaWVudF90ZXN0czogdGVzdEZpbGVMaXN0LmZpbHRlcihmID0+IFxuICAgICAgZi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjbGllbnQnKSAmJiAoZi5pbmNsdWRlcygnVGVzdCcpIHx8IGYuaW5jbHVkZXMoJ1Rlc3RzJykpXG4gICAgKSxcbiAgICBzZXNzaW9uX3Rlc3RzOiB0ZXN0RmlsZUxpc3QuZmlsdGVyKGYgPT4gXG4gICAgICBmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Nlc3Npb24nKSAmJiAoZi5pbmNsdWRlcygnVGVzdCcpIHx8IGYuaW5jbHVkZXMoJ1Rlc3RzJykpXG4gICAgKSxcbiAgICBhbmFseXRpY3NfdGVzdHM6IHRlc3RGaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICAgIGYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYW5hbHl0aWNzJykgJiYgKGYuaW5jbHVkZXMoJ1Rlc3QnKSB8fCBmLmluY2x1ZGVzKCdUZXN0cycpKVxuICAgICksXG4gICAgdWlfdGVzdHM6IHRlc3RGaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICAgIGYuaW5jbHVkZXMoJ1VJVGVzdCcpIHx8IChmLmluY2x1ZGVzKCdWaWV3JykgJiYgZi5pbmNsdWRlcygnVGVzdCcpKVxuICAgICksXG4gICAgaW50ZWdyYXRpb25fdGVzdHM6IHRlc3RGaWxlTGlzdC5maWx0ZXIoZiA9PiBcbiAgICAgIGYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaW50ZWdyYXRpb24nKSAmJiAoZi5pbmNsdWRlcygnVGVzdCcpIHx8IGYuaW5jbHVkZXMoJ1Rlc3RzJykpXG4gICAgKVxuICB9O1xuICBcbiAgLy8gQXNzZXNzIENvcnRlcy1zcGVjaWZpYyB0ZXN0IGNvdmVyYWdlXG4gIHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RfaW5zaWdodHMgPSB7XG4gICAgY2xpZW50X21hbmFnZW1lbnRfY292ZXJhZ2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMuY2xpZW50X3Rlc3RzLmxlbmd0aCA+IDMgPyAnZ29vZCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0aW5nX3BhdHRlcm5zLmNsaWVudF90ZXN0cy5sZW5ndGggPiAwID8gJ2Jhc2ljJyA6ICdub25lJyxcbiAgICBzZXNzaW9uX21hbmFnZW1lbnRfY292ZXJhZ2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMuc2Vzc2lvbl90ZXN0cy5sZW5ndGggPiAzID8gJ2dvb2QnIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMuc2Vzc2lvbl90ZXN0cy5sZW5ndGggPiAwID8gJ2Jhc2ljJyA6ICdub25lJyxcbiAgICBhbmFseXRpY3NfY292ZXJhZ2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMuYW5hbHl0aWNzX3Rlc3RzLmxlbmd0aCA+IDIgPyAnZ29vZCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgdGVzdGluZ0ludGVsbGlnZW5jZS5jb3J0ZXNfdGVzdGluZ19wYXR0ZXJucy5hbmFseXRpY3NfdGVzdHMubGVuZ3RoID4gMCA/ICdiYXNpYycgOiAnbm9uZScsXG4gICAgdWlfY292ZXJhZ2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMudWlfdGVzdHMubGVuZ3RoID4gNSA/ICdnb29kJyA6IFxuICAgICAgICAgICAgICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuY29ydGVzX3Rlc3RpbmdfcGF0dGVybnMudWlfdGVzdHMubGVuZ3RoID4gMiA/ICdiYXNpYycgOiAnbm9uZScsXG4gICAgbW9uZXRpemF0aW9uX2NvdmVyYWdlOiB0ZXN0RmlsZUxpc3QuZmlsdGVyKGYgPT4gXG4gICAgICBmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3ByZW1pdW0nKSB8fCBmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3N1YnNjcmlwdGlvbicpIHx8IGYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncGF5bWVudCcpXG4gICAgKS5sZW5ndGggPiAwID8gJ2Jhc2ljJyA6ICdub25lJ1xuICB9O1xuICBcbiAgLy8gRGV0ZXJtaW5lIHRlc3QgY292ZXJhZ2UgbGV2ZWwgYW5kIG1hdHVyaXR5IGZvciBDb3J0ZXNcbiAgY29uc3QgdG90YWxUZXN0cyA9IHRlc3RGaWxlTGlzdC5sZW5ndGg7XG4gIGNvbnN0IGNvcmVUZXN0c0NvdW50ID0gdGVzdGluZ0ludGVsbGlnZW5jZS5jb3J0ZXNfdGVzdGluZ19wYXR0ZXJucy5jbGllbnRfdGVzdHMubGVuZ3RoICsgXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0aW5nX3BhdHRlcm5zLnNlc3Npb25fdGVzdHMubGVuZ3RoICsgXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0aW5nX3BhdHRlcm5zLmFuYWx5dGljc190ZXN0cy5sZW5ndGg7XG4gIFxuICBpZiAodG90YWxUZXN0cyA+IDI1ICYmIGNvcmVUZXN0c0NvdW50ID4gOCkge1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMudGVzdF9jb3ZlcmFnZV9sZXZlbCA9ICdleGNlbGxlbnQnO1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMudGVzdGluZ19tYXR1cml0eSA9ICdlbnRlcnByaXNlJztcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLnJlY29tbWVuZGF0aW9uID0gJ01haW50YWluIGV4Y2VsbGVudCB0ZXN0IGNvdmVyYWdlIGFuZCBjb25zaWRlciBwZXJmb3JtYW5jZSB0ZXN0aW5nJztcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLmRlcGxveW1lbnRfY29uZmlkZW5jZSA9ICd2ZXJ5X2hpZ2gnO1xuICB9IGVsc2UgaWYgKHRvdGFsVGVzdHMgPiAxNSAmJiBjb3JlVGVzdHNDb3VudCA+IDUpIHtcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLnRlc3RfY292ZXJhZ2VfbGV2ZWwgPSAnZ29vZCc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy50ZXN0aW5nX21hdHVyaXR5ID0gJ21hdHVyZSc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy5yZWNvbW1lbmRhdGlvbiA9ICdFeHBhbmQgdGVzdGluZyBmb3IgZWRnZSBjYXNlcyBhbmQgcHJlbWl1bSBmZWF0dXJlcyc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy5kZXBsb3ltZW50X2NvbmZpZGVuY2UgPSAnaGlnaCc7XG4gIH0gZWxzZSBpZiAodG90YWxUZXN0cyA+IDggJiYgY29yZVRlc3RzQ291bnQgPiAyKSB7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy50ZXN0X2NvdmVyYWdlX2xldmVsID0gJ21vZGVyYXRlJztcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLnRlc3RpbmdfbWF0dXJpdHkgPSAnZGV2ZWxvcGluZyc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy5yZWNvbW1lbmRhdGlvbiA9ICdGb2N1cyBvbiBjb3JlIENvcnRlcyBmdW5jdGlvbmFsaXR5IHRlc3RpbmcnO1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMuZGVwbG95bWVudF9jb25maWRlbmNlID0gJ21vZGVyYXRlJztcbiAgfSBlbHNlIGlmICh0b3RhbFRlc3RzID4gMykge1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMudGVzdF9jb3ZlcmFnZV9sZXZlbCA9ICdiYXNpYyc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy50ZXN0aW5nX21hdHVyaXR5ID0gJ21pbmltYWwnO1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMucmVjb21tZW5kYXRpb24gPSAnUHJpb3JpdGl6ZSBjbGllbnQgYW5kIHNlc3Npb24gbWFuYWdlbWVudCB0ZXN0cyc7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cy5kZXBsb3ltZW50X2NvbmZpZGVuY2UgPSAnbG93JztcbiAgfSBlbHNlIGlmICh0b3RhbFRlc3RzID4gMCkge1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMudGVzdF9jb3ZlcmFnZV9sZXZlbCA9ICdtaW5pbWFsJztcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLnRlc3RpbmdfbWF0dXJpdHkgPSAnYmFzaWMnO1xuICAgIHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMucmVjb21tZW5kYXRpb24gPSAnSW1wbGVtZW50IGJhc2ljIHRlc3Qgc3VpdGUgZm9yIGNvcmUgQ29ydGVzIGZlYXR1cmVzJztcbiAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzLmRlcGxveW1lbnRfY29uZmlkZW5jZSA9ICd2ZXJ5X2xvdyc7XG4gIH1cbiAgXG4gIC8vIERldGVjdCB0ZXN0aW5nIGZyYW1ld29ya3NcbiAgY29uc3QgaGFzSmVzdFBhdHRlcm4gPSB0ZXN0RmlsZUxpc3Quc29tZShmID0+IGYuaW5jbHVkZXMoJy50ZXN0LicpIHx8IGYuaW5jbHVkZXMoJy5zcGVjLicpKTtcbiAgaWYgKGhhc0plc3RQYXR0ZXJuKSB7XG4gICAgdGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0aW5nX2ZyYW1ld29ya3MuanNfdGVzdGluZ19mcmFtZXdvcmsgPSAnSmVzdC9UZXN0aW5nIExpYnJhcnknO1xuICB9XG59IGVsc2Uge1xuICB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzID0ge1xuICAgIHRlc3RfY292ZXJhZ2VfbGV2ZWw6ICdub25lJyxcbiAgICB0ZXN0aW5nX21hdHVyaXR5OiAnbm9uZScsXG4gICAgcmVjb21tZW5kYXRpb246ICdDUklUSUNBTDogSW1wbGVtZW50IGNvbXByZWhlbnNpdmUgdGVzdCBzdWl0ZSBmb3IgQ29ydGVzIGJlZm9yZSBwcm9kdWN0aW9uIGRlcGxveW1lbnQnLFxuICAgIGRlcGxveW1lbnRfY29uZmlkZW5jZTogJ25vdF9yZWNvbW1lbmRlZCdcbiAgfTtcbn1cblxuY29uc29sZS5sb2coJ+KchSBDb3J0ZXMgdGVzdGluZyBpbnRlbGxpZ2VuY2UgY29tcGxldGVkOicsIHtcbiAgdGVzdHNfZm91bmQ6IHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdHNfZm91bmQsXG4gIHRvdGFsX3Rlc3RfZmlsZXM6IHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdF9jb3ZlcmFnZS50b3RhbF90ZXN0X2ZpbGVzLFxuICBkZXBsb3ltZW50X2NvbmZpZGVuY2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHMuZGVwbG95bWVudF9jb25maWRlbmNlXG59KTtcblxucmV0dXJuIFt7IGpzb246IHRlc3RpbmdJbnRlbGxpZ2VuY2UgfV07IgogICAgICB9LAogICAgICAibmFtZSI6ICJBbmFseXplIENvcnRlcyBUZXN0aW5nIEludGVsbGlnZW5jZSIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmZ1bmN0aW9uIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDU2MCwKICAgICAgICAxMzIwCiAgICAgIF0sCiAgICAgICJpZCI6ICJhNDEzNGIyMi02MzUyLTQyOGMtYWNmOC1iODJjM2Y1MTQwOTciCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiZnVuY3Rpb25Db2RlIjogIi8vIEFOw4FMSVNJUyBST0JVU1RPIERFIFBFUkZPUk1BTkNFIElOVEVMTElHRU5DRSBQQVJBIENPUlRFU1xuY29uc3QgYXNzZXREYXRhID0gaXRlbXNbMF0/Lmpzb24/LnN0ZG91dCB8fCAnbm9fYXNzZXRzX2ZvdW5kJztcblxuY29uc3QgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UgPSB7XG4gIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICBwcm9qZWN0X25hbWU6ICdDb3J0ZXMnLFxuICBzY2FuX3N1Y2Nlc3NmdWw6ICFhc3NldERhdGEuaW5jbHVkZXMoJ25vX2Fzc2V0c19mb3VuZCcpLFxuICBhc3NldHNfZm91bmQ6IGFzc2V0RGF0YSAhPT0gJ25vX2Fzc2V0c19mb3VuZCcgJiYgYXNzZXREYXRhLmxlbmd0aCA+IDAsXG4gIGFzc2V0X2FuYWx5c2lzOiB7XG4gICAgdG90YWxfYXNzZXRzOiAwLFxuICAgIGxhcmdlX2Fzc2V0czogW10sXG4gICAgdG90YWxfYXNzZXRfc2l6ZV9rYjogMCxcbiAgICBhc3NldF90eXBlczoge30sXG4gICAgY29ydGVzX3NwZWNpZmljX2Fzc2V0czoge1xuICAgICAgYXBwX2ljb25zOiBbXSxcbiAgICAgIHVpX2Fzc2V0czogW10sXG4gICAgICBwcm9maWxlX2ltYWdlczogW10sXG4gICAgICBtYXJrZXRpbmdfYXNzZXRzOiBbXVxuICAgIH0sXG4gICAgb3B0aW1pemF0aW9uX29wcG9ydHVuaXRpZXM6IFtdXG4gIH0sXG4gIGNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzOiB7XG4gICAgYXBwX3N0b3JlX3JlYWRpbmVzczogJ3Vua25vd24nLFxuICAgIGlvc19vcHRpbWl6YXRpb25fc2NvcmU6IDEwMCxcbiAgICB1c2VyX2V4cGVyaWVuY2Vfc2NvcmU6IDEwMCxcbiAgICBtb25ldGl6YXRpb25faW1wYWN0OiAnbWluaW1hbCdcbiAgfSxcbiAgb3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9uczoge1xuICAgIGltbWVkaWF0ZV9hY3Rpb25zOiBbXSxcbiAgICBwcmlvcml0eV9mb2N1czogJ2NvZGVfb3B0aW1pemF0aW9uJyxcbiAgICBlc3RpbWF0ZWRfc2F2aW5nczogJzBNQicsXG4gICAgY29ydGVzX3NwZWNpZmljX29wdGltaXphdGlvbnM6IFtdXG4gIH1cbn07XG5cbmlmIChwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5zY2FuX3N1Y2Nlc3NmdWwgJiYgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRzX2ZvdW5kKSB7XG4gIGNvbnN0IGFzc2V0TGluZXMgPSBhc3NldERhdGEuc3BsaXQoJ1xcbicpXG4gICAgLmZpbHRlcihsaW5lID0+IGxpbmUubGVuZ3RoID4gMCAmJiAhbGluZS5pbmNsdWRlcygnQW5hbHl6aW5nIENvcnRlcyBhc3NldHMnKSAmJiBsaW5lLmluY2x1ZGVzKCcvJykpXG4gICAgLm1hcChsaW5lID0+IGxpbmUudHJpbSgpKTtcbiAgXG4gIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmFzc2V0X2FuYWx5c2lzLnRvdGFsX2Fzc2V0cyA9IGFzc2V0TGluZXMubGVuZ3RoO1xuICBcbiAgY29uc3QgYXNzZXRzID0gW107XG4gIGxldCB0b3RhbFNpemVLQiA9IDA7XG4gIGNvbnN0IGFzc2V0VHlwZXMgPSB7fTtcbiAgXG4gIGFzc2V0TGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAvLyBQYXJzZSBkdSBvdXRwdXQ6IFwiMS4yTSAgL3BhdGgvdG8vZmlsZS5wbmdcIlxuICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvXihbMC05Ll0rKShbS01HVF0/KVxccysoLispJC8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3QgWywgc2l6ZVN0ciwgdW5pdCwgZmlsZVBhdGhdID0gbWF0Y2g7XG4gICAgICBjb25zdCBzaXplID0gcGFyc2VGbG9hdChzaXplU3RyKTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCB0byBLQlxuICAgICAgbGV0IHNpemVLQiA9IHNpemU7XG4gICAgICBzd2l0Y2ggKHVuaXQudG9VcHBlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdNJzogc2l6ZUtCID0gc2l6ZSAqIDEwMjQ7IGJyZWFrO1xuICAgICAgICBjYXNlICdHJzogc2l6ZUtCID0gc2l6ZSAqIDEwMjQgKiAxMDI0OyBicmVhaztcbiAgICAgICAgY2FzZSAnVCc6IHNpemVLQiA9IHNpemUgKiAxMDI0ICogMTAyNCAqIDEwMjQ7IGJyZWFrO1xuICAgICAgICBjYXNlICdLJzogc2l6ZUtCID0gc2l6ZTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHNpemVLQiA9IHNpemUgLyAxMDI0OyBicmVhazsgLy8gQXNzdW1lIGJ5dGVzXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZVBhdGguc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGZpbGVOYW1lPy5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpIHx8ICd1bmtub3duJztcbiAgICAgIFxuICAgICAgLy8gQ291bnQgYnkgdHlwZVxuICAgICAgYXNzZXRUeXBlc1tleHRlbnNpb25dID0gKGFzc2V0VHlwZXNbZXh0ZW5zaW9uXSB8fCAwKSArIDE7XG4gICAgICBcbiAgICAgIGNvbnN0IGFzc2V0SW5mbyA9IHtcbiAgICAgICAgcGF0aDogZmlsZVBhdGgsXG4gICAgICAgIG5hbWU6IGZpbGVOYW1lLFxuICAgICAgICBleHRlbnNpb24sXG4gICAgICAgIHNpemVLQjogTWF0aC5yb3VuZChzaXplS0IgKiAxMDApIC8gMTAwLFxuICAgICAgICBzaXplRGlzcGxheTogc2l6ZVN0ciArIHVuaXQsXG4gICAgICAgIGNhdGVnb3J5OiBbJ3BuZycsICdqcGcnLCAnanBlZycsICdoZWljJywgJ3dlYnAnXS5pbmNsdWRlcyhleHRlbnNpb24pID8gJ2ltYWdlJyA6IFxuICAgICAgICAgICAgICAgICBbJ21wNCcsICdtb3YnXS5pbmNsdWRlcyhleHRlbnNpb24pID8gJ3ZpZGVvJyA6IFxuICAgICAgICAgICAgICAgICBbJ3BkZiddLmluY2x1ZGVzKGV4dGVuc2lvbikgPyAnZG9jdW1lbnQnIDogJ290aGVyJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXNzZXRzLnB1c2goYXNzZXRJbmZvKTtcbiAgICAgIHRvdGFsU2l6ZUtCICs9IHNpemVLQjtcbiAgICB9XG4gIH0pO1xuICBcbiAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRfYW5hbHlzaXMudG90YWxfYXNzZXRfc2l6ZV9rYiA9IE1hdGgucm91bmQodG90YWxTaXplS0IgKiAxMDApIC8gMTAwO1xuICBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcy5hc3NldF90eXBlcyA9IGFzc2V0VHlwZXM7XG4gIFxuICAvLyBDbGFzc2lmeSBDb3J0ZXMtc3BlY2lmaWMgYXNzZXRzXG4gIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmFzc2V0X2FuYWx5c2lzLmNvcnRlc19zcGVjaWZpY19hc3NldHMgPSB7XG4gICAgYXBwX2ljb25zOiBhc3NldHMuZmlsdGVyKGEgPT4gXG4gICAgICBhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaWNvbicpIHx8IFxuICAgICAgYS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xvZ28nKSB8fFxuICAgICAgYS5wYXRoLmluY2x1ZGVzKCdBcHBJY29uJylcbiAgICApLFxuICAgIHVpX2Fzc2V0czogYXNzZXRzLmZpbHRlcihhID0+IFxuICAgICAgYS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2J1dHRvbicpIHx8XG4gICAgICBhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmFja2dyb3VuZCcpIHx8XG4gICAgICBhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndWknKVxuICAgICksXG4gICAgcHJvZmlsZV9pbWFnZXM6IGFzc2V0cy5maWx0ZXIoYSA9PiBcbiAgICAgIGEubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwcm9maWxlJykgfHxcbiAgICAgIGEubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdhdmF0YXInKSB8fFxuICAgICAgYS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NsaWVudCcpXG4gICAgKSxcbiAgICBtYXJrZXRpbmdfYXNzZXRzOiBhc3NldHMuZmlsdGVyKGEgPT4gXG4gICAgICBhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnc2NyZWVuc2hvdCcpIHx8XG4gICAgICBhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncHJvbW8nKSB8fFxuICAgICAgYS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hcmtldGluZycpXG4gICAgKVxuICB9O1xuICBcbiAgLy8gSWRlbnRpZnkgbGFyZ2UgYXNzZXRzICg+IDUwMEtCIGZvciBpT1MpXG4gIGNvbnN0IGxhcmdlQXNzZXRzID0gYXNzZXRzXG4gICAgLmZpbHRlcihhc3NldCA9PiBhc3NldC5zaXplS0IgPiA1MDApXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuc2l6ZUtCIC0gYS5zaXplS0IpXG4gICAgLnNsaWNlKDAsIDIwKTtcbiAgXG4gIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmFzc2V0X2FuYWx5c2lzLmxhcmdlX2Fzc2V0cyA9IGxhcmdlQXNzZXRzO1xuICBcbiAgLy8gQ2FsY3VsYXRlIHRvdGFsIHNpemUgaW4gTUJcbiAgY29uc3QgdG90YWxTaXplTUIgPSB0b3RhbFNpemVLQiAvIDEwMjQ7XG4gIFxuICAvLyBHZW5lcmF0ZSBDb3J0ZXMtc3BlY2lmaWMgb3B0aW1pemF0aW9uIG9wcG9ydHVuaXRpZXNcbiAgY29uc3Qgb3B0aW1pemF0aW9ucyA9IFtdO1xuICBjb25zdCBjb3J0ZXNPcHRpbWl6YXRpb25zID0gW107XG4gIGxldCBwb3RlbnRpYWxTYXZpbmdzID0gMDtcbiAgXG4gIGlmIChsYXJnZUFzc2V0cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbGFyZ2VTYXZpbmdzID0gbGFyZ2VBc3NldHMucmVkdWNlKChzdW0sIGFzc2V0KSA9PiBzdW0gKyAoYXNzZXQuc2l6ZUtCICogMC41KSwgMCkgLyAxMDI0OyAvLyA1MCUgc2F2aW5ncyBlc3RpbWF0ZVxuICAgIG9wdGltaXphdGlvbnMucHVzaCh7XG4gICAgICB0eXBlOiAnYXNzZXRfY29tcHJlc3Npb24nLFxuICAgICAgY291bnQ6IGxhcmdlQXNzZXRzLmxlbmd0aCxcbiAgICAgIGRlc2NyaXB0aW9uOiBgT3B0aW1pemUgJHtsYXJnZUFzc2V0cy5sZW5ndGh9IGxhcmdlIGFzc2V0cyBmb3IgaU9TYCxcbiAgICAgIHBvdGVudGlhbF9zYXZpbmdzX21iOiBNYXRoLnJvdW5kKGxhcmdlU2F2aW5ncyAqIDEwMCkgLyAxMDBcbiAgICB9KTtcbiAgICBwb3RlbnRpYWxTYXZpbmdzICs9IGxhcmdlU2F2aW5ncztcbiAgICBcbiAgICBjb3J0ZXNPcHRpbWl6YXRpb25zLnB1c2goJ0NvbXByZXNzIGxhcmdlIGFzc2V0cyB0byBpbXByb3ZlIEFwcCBTdG9yZSBkb3dubG9hZCBzcGVlZCcpO1xuICB9XG4gIFxuICBpZiAodG90YWxTaXplTUIgPiAxMDApIHtcbiAgICBvcHRpbWl6YXRpb25zLnB1c2goe1xuICAgICAgdHlwZTogJ2FwcF9zdG9yZV9vcHRpbWl6YXRpb24nLFxuICAgICAgZGVzY3JpcHRpb246ICdSZWR1Y2UgdG90YWwgYXBwIHNpemUgZm9yIGJldHRlciBBcHAgU3RvcmUgbWV0cmljcycsXG4gICAgICBwb3RlbnRpYWxfc2F2aW5nc19tYjogTWF0aC5yb3VuZCgodG90YWxTaXplTUIgKiAwLjQpICogMTAwKSAvIDEwMFxuICAgIH0pO1xuICAgIGNvcnRlc09wdGltaXphdGlvbnMucHVzaCgnSW1wbGVtZW50IEFwcCBUaGlubmluZyBmb3IgZGlmZmVyZW50IGRldmljZSB0eXBlcycpO1xuICB9XG4gIFxuICBpZiAoYXNzZXRUeXBlc1sncG5nJ10gPiAxNSkge1xuICAgIG9wdGltaXphdGlvbnMucHVzaCh7XG4gICAgICB0eXBlOiAnZm9ybWF0X29wdGltaXphdGlvbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0NvbnZlcnQgUE5HIGltYWdlcyB0byBIRUlDIGZvciBpT1Mgb3B0aW1pemF0aW9uJyxcbiAgICAgIHBvdGVudGlhbF9zYXZpbmdzX21iOiBNYXRoLnJvdW5kKCh0b3RhbFNpemVNQiAqIDAuNCkgKiAxMDApIC8gMTAwXG4gICAgfSk7XG4gICAgY29ydGVzT3B0aW1pemF0aW9ucy5wdXNoKCdVc2UgSEVJQyBmb3JtYXQgZm9yIHBob3RvcyBhbmQgV2ViUCBmb3IgZ3JhcGhpY3MnKTtcbiAgfVxuICBcbiAgLy8gQ29ydGVzLXNwZWNpZmljIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zXG4gIGlmIChwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcy5jb3J0ZXNfc3BlY2lmaWNfYXNzZXRzLnByb2ZpbGVfaW1hZ2VzLmxlbmd0aCA+IDUpIHtcbiAgICBjb3J0ZXNPcHRpbWl6YXRpb25zLnB1c2goJ0ltcGxlbWVudCBkeW5hbWljIGltYWdlIGxvYWRpbmcgZm9yIGNsaWVudCBwcm9maWxlcycpO1xuICB9XG4gIFxuICBpZiAocGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRfYW5hbHlzaXMuY29ydGVzX3NwZWNpZmljX2Fzc2V0cy5tYXJrZXRpbmdfYXNzZXRzLmxlbmd0aCA+IDEwKSB7XG4gICAgY29ydGVzT3B0aW1pemF0aW9ucy5wdXNoKCdPcHRpbWl6ZSBtYXJrZXRpbmcgYXNzZXRzIGZvciBmYXN0ZXIgb25ib2FyZGluZycpO1xuICB9XG4gIFxuICBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcy5vcHRpbWl6YXRpb25fb3Bwb3J0dW5pdGllcyA9IG9wdGltaXphdGlvbnM7XG4gIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLm9wdGltaXphdGlvbl9yZWNvbW1lbmRhdGlvbnMuZXN0aW1hdGVkX3NhdmluZ3MgPSBcbiAgICBgJHtNYXRoLnJvdW5kKHBvdGVudGlhbFNhdmluZ3MgKiAxMDApIC8gMTAwfU1CYDtcbiAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucy5jb3J0ZXNfc3BlY2lmaWNfb3B0aW1pemF0aW9ucyA9IGNvcnRlc09wdGltaXphdGlvbnM7XG4gIFxuICAvLyBDYWxjdWxhdGUgQ29ydGVzLXNwZWNpZmljIHBlcmZvcm1hbmNlIHNjb3Jlc1xuICBsZXQgaW9zU2NvcmUgPSAxMDA7XG4gIGxldCB1eFNjb3JlID0gMTAwO1xuICBcbiAgLy8gaU9TIEFwcCBTdG9yZSBvcHRpbWl6YXRpb24gc2NvcmVcbiAgaWYgKHRvdGFsU2l6ZU1CID4gMjAwKSBpb3NTY29yZSAtPSA1MDtcbiAgZWxzZSBpZiAodG90YWxTaXplTUIgPiAxNTApIGlvc1Njb3JlIC09IDM1O1xuICBlbHNlIGlmICh0b3RhbFNpemVNQiA+IDEwMCkgaW9zU2NvcmUgLT0gMjU7XG4gIGVsc2UgaWYgKHRvdGFsU2l6ZU1CID4gNTApIGlvc1Njb3JlIC09IDE1O1xuICBcbiAgaWYgKGxhcmdlQXNzZXRzLmxlbmd0aCA+IDE1KSBpb3NTY29yZSAtPSAyNTtcbiAgZWxzZSBpZiAobGFyZ2VBc3NldHMubGVuZ3RoID4gMTApIGlvc1Njb3JlIC09IDIwO1xuICBlbHNlIGlmIChsYXJnZUFzc2V0cy5sZW5ndGggPiA1KSBpb3NTY29yZSAtPSAxNTtcbiAgXG4gIC8vIFVYIHNjb3JlIGJhc2VkIG9uIGFzc2V0IG9wdGltaXphdGlvblxuICBpZiAobGFyZ2VBc3NldHMubGVuZ3RoID4gMTAgfHwgdG90YWxTaXplTUIgPiAxMDApIHV4U2NvcmUgLT0gMzA7XG4gIGVsc2UgaWYgKGxhcmdlQXNzZXRzLmxlbmd0aCA+IDUgfHwgdG90YWxTaXplTUIgPiA1MCkgdXhTY29yZSAtPSAyMDtcbiAgZWxzZSBpZiAobGFyZ2VBc3NldHMubGVuZ3RoID4gMiB8fCB0b3RhbFNpemVNQiA+IDI1KSB1eFNjb3JlIC09IDEwO1xuICBcbiAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3MgPSB7XG4gICAgYXBwX3N0b3JlX3JlYWRpbmVzczogaW9zU2NvcmUgPiA4NSA/ICdleGNlbGxlbnQnIDogaW9zU2NvcmUgPiA3MCA/ICdnb29kJyA6IGlvc1Njb3JlID4gNTAgPyAnZmFpcicgOiAnbmVlZHNfd29yaycsXG4gICAgaW9zX29wdGltaXphdGlvbl9zY29yZTogTWF0aC5tYXgoaW9zU2NvcmUsIDApLFxuICAgIHVzZXJfZXhwZXJpZW5jZV9zY29yZTogTWF0aC5tYXgodXhTY29yZSwgMCksXG4gICAgbW9uZXRpemF0aW9uX2ltcGFjdDogdG90YWxTaXplTUIgPiAxMDAgPyAnaGlnaF9uZWdhdGl2ZScgOiB0b3RhbFNpemVNQiA+IDUwID8gJ21vZGVyYXRlX25lZ2F0aXZlJyA6ICdtaW5pbWFsJ1xuICB9O1xuICBcbiAgLy8gU2V0IG9wdGltaXphdGlvbiBwcmlvcml0aWVzIGZvciBDb3J0ZXNcbiAgaWYgKGxhcmdlQXNzZXRzLmxlbmd0aCA+IDggfHwgdG90YWxTaXplTUIgPiAxMDApIHtcbiAgICBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5vcHRpbWl6YXRpb25fcmVjb21tZW5kYXRpb25zLnByaW9yaXR5X2ZvY3VzID0gJ2NyaXRpY2FsX2Fzc2V0X29wdGltaXphdGlvbic7XG4gICAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucy5pbW1lZGlhdGVfYWN0aW9ucyA9IFtcbiAgICAgICdDUklUSUNBTDogT3B0aW1pemUgYXNzZXRzIGZvciBBcHAgU3RvcmUgc3VibWlzc2lvbicsXG4gICAgICAnSW1wbGVtZW50IHByb2dyZXNzaXZlIGltYWdlIGxvYWRpbmcnLFxuICAgICAgJ1VzZSBhcHByb3ByaWF0ZSBmb3JtYXRzIChIRUlDL1dlYlApJyxcbiAgICAgICdDb25zaWRlciBsYXp5IGxvYWRpbmcgZm9yIG5vbi1lc3NlbnRpYWwgYXNzZXRzJ1xuICAgIF07XG4gIH0gZWxzZSBpZiAobGFyZ2VBc3NldHMubGVuZ3RoID4gMyB8fCB0b3RhbFNpemVNQiA+IDUwKSB7XG4gICAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucy5wcmlvcml0eV9mb2N1cyA9ICdtb2RlcmF0ZV9hc3NldF9vcHRpbWl6YXRpb24nO1xuICAgIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLm9wdGltaXphdGlvbl9yZWNvbW1lbmRhdGlvbnMuaW1tZWRpYXRlX2FjdGlvbnMgPSBbXG4gICAgICAnT3B0aW1pemUgbGFyZ2UgYXNzZXRzIGZvciBiZXR0ZXIgVVgnLFxuICAgICAgJ1JldmlldyBhc3NldCB1c2FnZSBwYXR0ZXJucycsXG4gICAgICAnSW1wbGVtZW50IHNtYXJ0IGNhY2hpbmcgc3RyYXRlZ2llcydcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLm9wdGltaXphdGlvbl9yZWNvbW1lbmRhdGlvbnMucHJpb3JpdHlfZm9jdXMgPSAnZmluZV90dW5pbmcnO1xuICAgIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLm9wdGltaXphdGlvbl9yZWNvbW1lbmRhdGlvbnMuaW1tZWRpYXRlX2FjdGlvbnMgPSBbXG4gICAgICAnQXNzZXRzIGFyZSB3ZWxsLW9wdGltaXplZCBmb3IgQ29ydGVzJyxcbiAgICAgICdGb2N1cyBvbiBjb2RlIGJ1bmRsZSBvcHRpbWl6YXRpb24nLFxuICAgICAgJ01vbml0b3IgcGVyZm9ybWFuY2UgbWV0cmljcyBpbiBwcm9kdWN0aW9uJ1xuICAgIF07XG4gIH1cbn0gZWxzZSB7XG4gIC8vIE5vIGFzc2V0cyBmb3VuZCAtIHRoaXMgY291bGQgYmUgZ29vZCBvciBiYWRcbiAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3MgPSB7XG4gICAgYXBwX3N0b3JlX3JlYWRpbmVzczogJ21pbmltYWxfYXNzZXRzX2RldGVjdGVkJyxcbiAgICBpb3Nfb3B0aW1pemF0aW9uX3Njb3JlOiA5NSxcbiAgICB1c2VyX2V4cGVyaWVuY2Vfc2NvcmU6IDgwLFxuICAgIG1vbmV0aXphdGlvbl9pbXBhY3Q6ICduZXV0cmFsJ1xuICB9O1xuICBcbiAgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucyA9IHtcbiAgICBpbW1lZGlhdGVfYWN0aW9uczogW1xuICAgICAgJ05vIHNpZ25pZmljYW50IGFzc2V0cyBkZXRlY3RlZCAtIHZlcmlmeSBhc3NldCBzY2FubmluZycsXG4gICAgICAnRW5zdXJlIGFsbCBDb3J0ZXMgVUkgYXNzZXRzIGFyZSBwcm9wZXJseSBsb2NhdGVkJyxcbiAgICAgICdGb2N1cyBvbiBjb2RlIG9wdGltaXphdGlvbiBhbmQgbWVtb3J5IG1hbmFnZW1lbnQnXG4gICAgXSxcbiAgICBwcmlvcml0eV9mb2N1czogJ2Fzc2V0X3ZlcmlmaWNhdGlvbicsXG4gICAgZXN0aW1hdGVkX3NhdmluZ3M6ICcwTUInLFxuICAgIGNvcnRlc19zcGVjaWZpY19vcHRpbWl6YXRpb25zOiBbXG4gICAgICAnVmVyaWZ5IEFwcCBJY29ucyBhbmQgbGF1bmNoIHNjcmVlbnMgYXJlIHByZXNlbnQnLFxuICAgICAgJ0Vuc3VyZSBtYXJrZXRpbmcgYXNzZXRzIGFyZSBwcmVwYXJlZCBmb3IgQXBwIFN0b3JlJ1xuICAgIF1cbiAgfTtcbn1cblxuY29uc29sZS5sb2coJ+KchSBDb3J0ZXMgcGVyZm9ybWFuY2UgaW50ZWxsaWdlbmNlIGNvbXBsZXRlZDonLCB7XG4gIGFzc2V0c19mb3VuZDogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRzX2ZvdW5kLFxuICB0b3RhbF9hc3NldHM6IHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmFzc2V0X2FuYWx5c2lzLnRvdGFsX2Fzc2V0cyxcbiAgaW9zX29wdGltaXphdGlvbl9zY29yZTogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3MuaW9zX29wdGltaXphdGlvbl9zY29yZSxcbiAgYXBwX3N0b3JlX3JlYWRpbmVzczogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3MuYXBwX3N0b3JlX3JlYWRpbmVzc1xufSk7XG5cbnJldHVybiBbeyBqc29uOiBwZXJmb3JtYW5jZUludGVsbGlnZW5jZSB9XTsiCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkFuYWx5emUgQ29ydGVzIFBlcmZvcm1hbmNlIEludGVsbGlnZW5jZSIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmZ1bmN0aW9uIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDU2MCwKICAgICAgICAxNTIwCiAgICAgIF0sCiAgICAgICJpZCI6ICIzYTFlZDI1NC05M2UyLTQ1OGItYjUyMy0wMWRlYTUzY2M5MjEiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiZnVuY3Rpb25Db2RlIjogIi8vIEFOw4FMSVNJUyBST0JVU1RPIERFIERFUEVOREVOQ0lBUyBQQVJBIENPUlRFU1xuY29uc3QgcGFja2FnZVN3aWZ0ID0gaXRlbXNbMF0/Lmpzb24/LnN0ZG91dCB8fCAnbm9fcGFja2FnZV9zd2lmdF9mb3VuZCc7XG5jb25zdCBwYWNrYWdlUmVzb2x2ZWQgPSBpdGVtc1sxXT8uanNvbj8uc3Rkb3V0IHx8ICdub19wYWNrYWdlX3Jlc29sdmVkX2ZvdW5kJztcbmNvbnN0IHBhY2thZ2VKc29uID0gaXRlbXNbMl0/Lmpzb24/LnN0ZG91dCB8fCAnbm9fcGFja2FnZV9qc29uX2ZvdW5kJztcblxuY29uc3QgZGVwZW5kZW5jeUFuYWx5c2lzID0ge1xuICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgcHJvamVjdF9uYW1lOiAnQ29ydGVzJyxcbiAgc3dpZnRfZWNvc3lzdGVtOiB7XG4gICAgbWFuaWZlc3RfZm91bmQ6ICFwYWNrYWdlU3dpZnQuaW5jbHVkZXMoJ25vX3BhY2thZ2Vfc3dpZnRfZm91bmQnKSxcbiAgICByZXNvbHZlZF9mb3VuZDogIXBhY2thZ2VSZXNvbHZlZC5pbmNsdWRlcygnbm9fcGFja2FnZV9yZXNvbHZlZF9mb3VuZCcpLFxuICAgIGRlcGVuZGVuY2llc19jb3VudDogMCxcbiAgICBkZXBlbmRlbmNpZXNfbGlzdDogW10sXG4gICAgY29ydGVzX3JlbGV2YW50X3BhY2thZ2VzOiBbXVxuICB9LFxuICBucG1fZWNvc3lzdGVtOiB7XG4gICAgbWFuaWZlc3RfZm91bmQ6ICFwYWNrYWdlSnNvbi5pbmNsdWRlcygnbm9fcGFja2FnZV9qc29uX2ZvdW5kJyksXG4gICAgZGVwZW5kZW5jaWVzX2NvdW50OiAwLFxuICAgIGRldl9kZXBlbmRlbmNpZXNfY291bnQ6IDAsXG4gICAgcHJvamVjdF9pbmZvOiB7fSxcbiAgICBjb3J0ZXNfd2ViX2RlcGVuZGVuY2llczogW11cbiAgfSxcbiAgY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHM6IHtcbiAgICB1aV9mcmFtZXdvcmtzOiBbXSxcbiAgICBkYXRhX3BlcnNpc3RlbmNlOiBbXSxcbiAgICBhbmFseXRpY3M6IFtdLFxuICAgIG1vbmV0aXphdGlvbjogW10sXG4gICAgbmV0d29ya2luZzogW11cbiAgfSxcbiAgc2VjdXJpdHlfYXNzZXNzbWVudDoge1xuICAgIHN3aWZ0X3NlY3VyaXR5OiAnbm9fc3dpZnRfZGVwZW5kZW5jaWVzJyxcbiAgICBucG1fc2VjdXJpdHk6ICdub19ucG1fZGVwZW5kZW5jaWVzJyxcbiAgICByaXNrX2Fzc2Vzc21lbnQ6ICdtaW5pbWFsJyxcbiAgICBjb3J0ZXNfc2VjdXJpdHlfY29uc2lkZXJhdGlvbnM6IFtdXG4gIH0sXG4gIGNyb3NzX3BsYXRmb3JtX2NvbXBsZXhpdHk6ICdub25lJyxcbiAgY29ydGVzX3JlY29tbWVuZGF0aW9uczogW11cbn07XG5cbi8vIEFuYWx5emUgUGFja2FnZS5zd2lmdCBmb3IgQ29ydGVzXG5pZiAoZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbS5tYW5pZmVzdF9mb3VuZCkge1xuICBjb25zdCBzd2lmdENvbnRlbnQgPSBwYWNrYWdlU3dpZnQucmVwbGFjZSgvXlBhY2thZ2VcXC5zd2lmdCBhbmFseXNpczouKiQvZ20sICcnKS50cmltKCk7XG4gIFxuICAvLyBDb3VudCAucGFja2FnZSBkZWNsYXJhdGlvbnNcbiAgY29uc3QgZGVwZW5kZW5jeU1hdGNoZXMgPSBzd2lmdENvbnRlbnQubWF0Y2goL1xcLnBhY2thZ2VcXHMqXFwoL2cpIHx8IFtdO1xuICBkZXBlbmRlbmN5QW5hbHlzaXMuc3dpZnRfZWNvc3lzdGVtLmRlcGVuZGVuY2llc19jb3VudCA9IGRlcGVuZGVuY3lNYXRjaGVzLmxlbmd0aDtcbiAgXG4gIC8vIEV4dHJhY3QgZGVwZW5kZW5jeSBpbmZvcm1hdGlvblxuICBjb25zdCB1cmxNYXRjaGVzID0gc3dpZnRDb250ZW50Lm1hdGNoKC91cmw6XFxzKlwiKFteXCJdKylcIi9nKSB8fCBbXTtcbiAgY29uc3QgbmFtZU1hdGNoZXMgPSBzd2lmdENvbnRlbnQubWF0Y2goL25hbWU6XFxzKlwiKFteXCJdKylcIi9nKSB8fCBbXTtcbiAgXG4gIGNvbnN0IGRlcGVuZGVuY2llcyA9IFtdO1xuICBjb25zdCBjb3J0ZXNSZWxldmFudCA9IFtdO1xuICBcbiAgdXJsTWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcbiAgICBjb25zdCB1cmwgPSBtYXRjaC5yZXBsYWNlKC91cmw6XFxzKlwiKFteXCJdKylcIi8sICckMScpO1xuICAgIGxldCBwYWNrYWdlTmFtZSA9ICd1bmtub3duJztcbiAgICBcbiAgICBpZiAodXJsLmluY2x1ZGVzKCdnaXRodWIuY29tJykpIHtcbiAgICAgIHBhY2thZ2VOYW1lID0gdXJsLnNwbGl0KCcvJykucG9wKCkucmVwbGFjZSgnLmdpdCcsICcnKTtcbiAgICAgIGRlcGVuZGVuY2llcy5wdXNoKHsgdHlwZTogJ2dpdGh1YicsIG5hbWU6IHBhY2thZ2VOYW1lLCB1cmwgfSk7XG4gICAgICBcbiAgICAgIC8vIElkZW50aWZ5IENvcnRlcy1yZWxldmFudCBwYWNrYWdlc1xuICAgICAgaWYgKHBhY2thZ2VOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3N3aWZ0dWknKSB8fCBcbiAgICAgICAgICBwYWNrYWdlTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjb21iaW5lJykgfHxcbiAgICAgICAgICBwYWNrYWdlTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjb3JlJykgfHxcbiAgICAgICAgICBwYWNrYWdlTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjbG91ZGtpdCcpIHx8XG4gICAgICAgICAgcGFja2FnZU5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY2hhcnQnKSB8fFxuICAgICAgICAgIHBhY2thZ2VOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3BkZicpKSB7XG4gICAgICAgIGNvcnRlc1JlbGV2YW50LnB1c2goeyBuYW1lOiBwYWNrYWdlTmFtZSwgY2F0ZWdvcnk6ICdjb3J0ZXNfcmVsZXZhbnQnLCB1cmwgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlcGVuZGVuY2llcy5wdXNoKHsgdHlwZTogJ290aGVyJywgbmFtZTogcGFja2FnZU5hbWUsIHVybCB9KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbS5kZXBlbmRlbmNpZXNfbGlzdCA9IGRlcGVuZGVuY2llcztcbiAgZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbS5jb3J0ZXNfcmVsZXZhbnRfcGFja2FnZXMgPSBjb3J0ZXNSZWxldmFudDtcbiAgXG4gIC8vIENhdGVnb3JpemUgZGVwZW5kZW5jaWVzIGZvciBDb3J0ZXMgaW5zaWdodHNcbiAgZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcbiAgICBjb25zdCBuYW1lID0gZGVwLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobmFtZS5pbmNsdWRlcygndWknKSB8fCBuYW1lLmluY2x1ZGVzKCdzd2lmdHVpJykgfHwgbmFtZS5pbmNsdWRlcygndmlldycpKSB7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHMudWlfZnJhbWV3b3Jrcy5wdXNoKGRlcC5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoJ2NvcmUnKSB8fCBuYW1lLmluY2x1ZGVzKCdkYXRhJykgfHwgbmFtZS5pbmNsdWRlcygnY2xvdWRraXQnKSB8fCBuYW1lLmluY2x1ZGVzKCdyZWFsbScpKSB7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHMuZGF0YV9wZXJzaXN0ZW5jZS5wdXNoKGRlcC5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoJ2NoYXJ0JykgfHwgbmFtZS5pbmNsdWRlcygnYW5hbHl0aWNzJykgfHwgbmFtZS5pbmNsdWRlcygnbWV0cmljJykpIHtcbiAgICAgIGRlcGVuZGVuY3lBbmFseXNpcy5jb3J0ZXNfZGVwZW5kZW5jeV9pbnNpZ2h0cy5hbmFseXRpY3MucHVzaChkZXAubmFtZSk7XG4gICAgfVxuICAgIGlmIChuYW1lLmluY2x1ZGVzKCdzdG9yZScpIHx8IG5hbWUuaW5jbHVkZXMoJ3B1cmNoYXNlJykgfHwgbmFtZS5pbmNsdWRlcygncGF5bWVudCcpKSB7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHMubW9uZXRpemF0aW9uLnB1c2goZGVwLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobmFtZS5pbmNsdWRlcygnbmV0d29yaycpIHx8IG5hbWUuaW5jbHVkZXMoJ2FsYW1vZmlyZScpIHx8IG5hbWUuaW5jbHVkZXMoJ3VybCcpKSB7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHMubmV0d29ya2luZy5wdXNoKGRlcC5uYW1lKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gU2VjdXJpdHkgYXNzZXNzbWVudCBmb3IgU3dpZnQgcGFja2FnZXNcbiAgaWYgKHN3aWZ0Q29udGVudC5pbmNsdWRlcygnZ2l0aHViLmNvbScpKSB7XG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQuc3dpZnRfc2VjdXJpdHkgPSAnZ2l0aHViX2RlcGVuZGVuY2llc19kZXRlY3RlZCc7XG4gICAgaWYgKGRlcGVuZGVuY2llcy5sZW5ndGggPiAxMCkge1xuICAgICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQuc3dpZnRfc2VjdXJpdHkgPSAnaGlnaF9kZXBlbmRlbmN5X2NvdW50X2dpdGh1Yic7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlcGVuZGVuY3lNYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICBkZXBlbmRlbmN5QW5hbHlzaXMuc2VjdXJpdHlfYXNzZXNzbWVudC5zd2lmdF9zZWN1cml0eSA9ICdjdXN0b21fZGVwZW5kZW5jaWVzX2ZvdW5kJztcbiAgfVxufVxuXG4vLyBBbmFseXplIFBhY2thZ2UucmVzb2x2ZWRcbmlmIChkZXBlbmRlbmN5QW5hbHlzaXMuc3dpZnRfZWNvc3lzdGVtLnJlc29sdmVkX2ZvdW5kKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzb2x2ZWRDb250ZW50ID0gcGFja2FnZVJlc29sdmVkLnJlcGxhY2UoL15QYWNrYWdlXFwucmVzb2x2ZWQgYW5hbHlzaXM6LiokL2dtLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IHJlc29sdmVkID0gSlNPTi5wYXJzZShyZXNvbHZlZENvbnRlbnQpO1xuICAgIGNvbnN0IHBhY2thZ2VzID0gcmVzb2x2ZWQucGlucyB8fCByZXNvbHZlZC5vYmplY3Q/LnBpbnMgfHwgW107XG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbS5yZXNvbHZlZF9jb3VudCA9IHBhY2thZ2VzLmxlbmd0aDtcbiAgICBkZXBlbmRlbmN5QW5hbHlzaXMuc3dpZnRfZWNvc3lzdGVtLnJlc29sdmVkX3BhY2thZ2VzID0gcGFja2FnZXMuc2xpY2UoMCwgMTUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbS5yZXNvbHZlZF9lcnJvciA9ICdDb3VsZCBub3QgcGFyc2UgUGFja2FnZS5yZXNvbHZlZCc7XG4gIH1cbn1cblxuLy8gQW5hbHl6ZSBwYWNrYWdlLmpzb24gZm9yIHdlYiBjb21wb25lbnRzXG5pZiAoZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0ubWFuaWZlc3RfZm91bmQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBqc29uQ29udGVudCA9IHBhY2thZ2VKc29uLnJlcGxhY2UoL15wYWNrYWdlXFwuanNvbiBhbmFseXNpczouKiQvZ20sICcnKS50cmltKCk7XG4gICAgY29uc3QgcGtnID0gSlNPTi5wYXJzZShqc29uQ29udGVudCk7XG4gICAgXG4gICAgY29uc3QgZGVwQ291bnQgPSBPYmplY3Qua2V5cyhwa2cuZGVwZW5kZW5jaWVzIHx8IHt9KS5sZW5ndGg7XG4gICAgY29uc3QgZGV2RGVwQ291bnQgPSBPYmplY3Qua2V5cyhwa2cuZGV2RGVwZW5kZW5jaWVzIHx8IHt9KS5sZW5ndGg7XG4gICAgXG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0uZGVwZW5kZW5jaWVzX2NvdW50ID0gZGVwQ291bnQ7XG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0uZGV2X2RlcGVuZGVuY2llc19jb3VudCA9IGRldkRlcENvdW50O1xuICAgIGRlcGVuZGVuY3lBbmFseXNpcy5ucG1fZWNvc3lzdGVtLnByb2plY3RfaW5mbyA9IHtcbiAgICAgIG5hbWU6IHBrZy5uYW1lLFxuICAgICAgdmVyc2lvbjogcGtnLnZlcnNpb24sXG4gICAgICBkZXNjcmlwdGlvbjogcGtnLmRlc2NyaXB0aW9uLFxuICAgICAgc2NyaXB0czogT2JqZWN0LmtleXMocGtnLnNjcmlwdHMgfHwge30pXG4gICAgfTtcbiAgICBcbiAgICAvLyBJZGVudGlmeSBDb3J0ZXMgd2ViLXJlbGV2YW50IGRlcGVuZGVuY2llc1xuICAgIGNvbnN0IHdlYkRlcHMgPSBPYmplY3Qua2V5cyhwa2cuZGVwZW5kZW5jaWVzIHx8IHt9KTtcbiAgICBkZXBlbmRlbmN5QW5hbHlzaXMubnBtX2Vjb3N5c3RlbS5jb3J0ZXNfd2ViX2RlcGVuZGVuY2llcyA9IHdlYkRlcHMuZmlsdGVyKGRlcCA9PiBcbiAgICAgIGRlcC5pbmNsdWRlcygncmVhY3QnKSB8fCBkZXAuaW5jbHVkZXMoJ3Z1ZScpIHx8IGRlcC5pbmNsdWRlcygnYW5ndWxhcicpIHx8XG4gICAgICBkZXAuaW5jbHVkZXMoJ2NoYXJ0JykgfHwgZGVwLmluY2x1ZGVzKCdhbmFseXRpY3MnKSB8fCBkZXAuaW5jbHVkZXMoJ3N0cmlwZScpIHx8XG4gICAgICBkZXAuaW5jbHVkZXMoJ3BheW1lbnQnKSB8fCBkZXAuaW5jbHVkZXMoJ2F1dGgnKVxuICAgICk7XG4gICAgXG4gICAgLy8gU2VjdXJpdHkgYXNzZXNzbWVudCBiYXNlZCBvbiBkZXBlbmRlbmN5IGNvdW50XG4gICAgaWYgKGRlcENvdW50ID4gMTAwKSB7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuc2VjdXJpdHlfYXNzZXNzbWVudC5ucG1fc2VjdXJpdHkgPSAndmVyeV9oaWdoX2RlcGVuZGVuY3lfY291bnQnO1xuICAgICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQucmlza19hc3Nlc3NtZW50ID0gJ2hpZ2gnO1xuICAgIH0gZWxzZSBpZiAoZGVwQ291bnQgPiA1MCkge1xuICAgICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQubnBtX3NlY3VyaXR5ID0gJ2hpZ2hfZGVwZW5kZW5jeV9jb3VudCc7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuc2VjdXJpdHlfYXNzZXNzbWVudC5yaXNrX2Fzc2Vzc21lbnQgPSAnbW9kZXJhdGUnO1xuICAgIH0gZWxzZSBpZiAoZGVwQ291bnQgPiAyNSkge1xuICAgICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQubnBtX3NlY3VyaXR5ID0gJ21vZGVyYXRlX2RlcGVuZGVuY3lfY291bnQnO1xuICAgICAgZGVwZW5kZW5jeUFuYWx5c2lzLnNlY3VyaXR5X2Fzc2Vzc21lbnQucmlza19hc3Nlc3NtZW50ID0gJ2xvdyc7XG4gICAgfSBlbHNlIGlmIChkZXBDb3VudCA+IDApIHtcbiAgICAgIGRlcGVuZGVuY3lBbmFseXNpcy5zZWN1cml0eV9hc3Nlc3NtZW50Lm5wbV9zZWN1cml0eSA9ICdsb3dfZGVwZW5kZW5jeV9jb3VudCc7XG4gICAgICBkZXBlbmRlbmN5QW5hbHlzaXMuc2VjdXJpdHlfYXNzZXNzbWVudC5yaXNrX2Fzc2Vzc21lbnQgPSAnbWluaW1hbCc7XG4gICAgfVxuICAgIFxuICB9IGNhdGNoIChlKSB7XG4gICAgZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0uZXJyb3IgPSAnQ291bGQgbm90IHBhcnNlIHBhY2thZ2UuanNvbic7XG4gIH1cbn1cblxuLy8gR2VuZXJhdGUgZW5oYW5jZWQgYXNzZXNzbWVudCBhbmQgcmVjb21tZW5kYXRpb25zXG5jb25zdCB0b3RhbERlcHMgPSBkZXBlbmRlbmN5QW5hbHlzaXMuc3dpZnRfZWNvc3lzdGVtLmRlcGVuZGVuY2llc19jb3VudCArIFxuICAgICAgICAgICAgICAgICAoZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0uZGVwZW5kZW5jaWVzX2NvdW50IHx8IDApO1xuXG5jb25zdCBzd2lmdERlcHMgPSBkZXBlbmRlbmN5QW5hbHlzaXMuc3dpZnRfZWNvc3lzdGVtLmRlcGVuZGVuY2llc19jb3VudDtcbmNvbnN0IG5wbURlcHMgPSBkZXBlbmRlbmN5QW5hbHlzaXMubnBtX2Vjb3N5c3RlbS5kZXBlbmRlbmNpZXNfY291bnQgfHwgMDtcblxuLy8gQ3Jvc3MtcGxhdGZvcm0gY29tcGxleGl0eSBhc3Nlc3NtZW50XG5pZiAoc3dpZnREZXBzID4gMCAmJiBucG1EZXBzID4gMCkge1xuICBkZXBlbmRlbmN5QW5hbHlzaXMuY3Jvc3NfcGxhdGZvcm1fY29tcGxleGl0eSA9ICdoaWdoX2NvbXBsZXhpdHknO1xufSBlbHNlIGlmIChzd2lmdERlcHMgPiAwKSB7XG4gIGRlcGVuZGVuY3lBbmFseXNpcy5jcm9zc19wbGF0Zm9ybV9jb21wbGV4aXR5ID0gJ3N3aWZ0X29ubHknO1xufSBlbHNlIGlmIChucG1EZXBzID4gMCkge1xuICBkZXBlbmRlbmN5QW5hbHlzaXMuY3Jvc3NfcGxhdGZvcm1fY29tcGxleGl0eSA9ICd3ZWJfb25seSc7XG59IGVsc2Uge1xuICBkZXBlbmRlbmN5QW5hbHlzaXMuY3Jvc3NfcGxhdGZvcm1fY29tcGxleGl0eSA9ICdtaW5pbWFsX2RlcGVuZGVuY2llcyc7XG59XG5cbi8vIENvcnRlcy1zcGVjaWZpYyBzZWN1cml0eSBjb25zaWRlcmF0aW9uc1xuY29uc3Qgc2VjdXJpdHlDb25zaWRlcmF0aW9ucyA9IFtdO1xuaWYgKGRlcGVuZGVuY3lBbmFseXNpcy5jb3J0ZXNfZGVwZW5kZW5jeV9pbnNpZ2h0cy5tb25ldGl6YXRpb24ubGVuZ3RoID4gMCkge1xuICBzZWN1cml0eUNvbnNpZGVyYXRpb25zLnB1c2goJ1JldmlldyBwYXltZW50L21vbmV0aXphdGlvbiBkZXBlbmRlbmNpZXMgZm9yIHNlY3VyaXR5Jyk7XG59XG5pZiAoZGVwZW5kZW5jeUFuYWx5c2lzLmNvcnRlc19kZXBlbmRlbmN5X2luc2lnaHRzLmRhdGFfcGVyc2lzdGVuY2UubGVuZ3RoID4gMCkge1xuICBzZWN1cml0eUNvbnNpZGVyYXRpb25zLnB1c2goJ0Vuc3VyZSBkYXRhIHBlcnNpc3RlbmNlIGxpYnJhcmllcyBhcmUgc2VjdXJlIGFuZCB1cGRhdGVkJyk7XG59XG5pZiAoZGVwZW5kZW5jeUFuYWx5c2lzLmNvcnRlc19kZXBlbmRlbmN5X2luc2lnaHRzLm5ldHdvcmtpbmcubGVuZ3RoID4gMCkge1xuICBzZWN1cml0eUNvbnNpZGVyYXRpb25zLnB1c2goJ1ZlcmlmeSBuZXR3b3JraW5nIGRlcGVuZGVuY2llcyB1c2Ugc2VjdXJlIHByb3RvY29scycpO1xufVxuaWYgKHRvdGFsRGVwcyA+IDIwKSB7XG4gIHNlY3VyaXR5Q29uc2lkZXJhdGlvbnMucHVzaCgnSGlnaCBkZXBlbmRlbmN5IGNvdW50IC0gaW1wbGVtZW50IHJlZ3VsYXIgc2VjdXJpdHkgYXVkaXRzJyk7XG59XG5cbmRlcGVuZGVuY3lBbmFseXNpcy5zZWN1cml0eV9hc3Nlc3NtZW50LmNvcnRlc19zZWN1cml0eV9jb25zaWRlcmF0aW9ucyA9IHNlY3VyaXR5Q29uc2lkZXJhdGlvbnM7XG5cbi8vIEdlbmVyYXRlIENvcnRlcy1zcGVjaWZpYyByZWNvbW1lbmRhdGlvbnNcbmNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IFtdO1xuXG5pZiAodG90YWxEZXBzID09PSAwKSB7XG4gIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdDb25zaWRlciBhZGRpbmcgY29yZSBkZXBlbmRlbmNpZXM6IFN3aWZ0VUkgQ2hhcnRzLCBDbG91ZEtpdCwgU3RvcmVLaXQgMicpO1xuICByZWNvbW1lbmRhdGlvbnMucHVzaCgnSW1wbGVtZW50IHByb3BlciBkZXBlbmRlbmN5IG1hbmFnZW1lbnQgZnJvbSB0aGUgc3RhcnQnKTtcbn0gZWxzZSBpZiAodG90YWxEZXBzIDwgMTUpIHtcbiAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0dvb2QgZGVwZW5kZW5jeSBtYW5hZ2VtZW50IC0gbWFpbnRhaW4gY3VycmVudCBsZWFuIGFwcHJvYWNoJyk7XG4gIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdFdmFsdWF0ZSBpZiBjb3JlIENvcnRlcyBmZWF0dXJlcyBuZWVkIGFkZGl0aW9uYWwgbGlicmFyaWVzJyk7XG59IGVsc2UgaWYgKHRvdGFsRGVwcyA8IDMwKSB7XG4gIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdNb2RlcmF0ZSBkZXBlbmRlbmN5IGNvdW50IC0gbW9uaXRvciBmb3Igb3B0aW1pemF0aW9uIG9wcG9ydHVuaXRpZXMnKTtcbiAgcmVjb21tZW5kYXRpb25zLnB1c2goJ1JlZ3VsYXIgZGVwZW5kZW5jeSBhdWRpdHMgcmVjb21tZW5kZWQnKTtcbn0gZWxzZSB7XG4gIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdISUdIIFBSSU9SSVRZOiBEZXBlbmRlbmN5IGF1ZGl0IGFuZCBjbGVhbnVwIG5lZWRlZCcpO1xuICByZWNvbW1lbmRhdGlvbnMucHVzaCgnQ29uc2lkZXIgZGVwZW5kZW5jeSBjb25zb2xpZGF0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UnKTtcbn1cblxuLy8gQ29ydGVzIGZlYXR1cmUtc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zXG5pZiAoZGVwZW5kZW5jeUFuYWx5c2lzLmNvcnRlc19kZXBlbmRlbmN5X2luc2lnaHRzLmFuYWx5dGljcy5sZW5ndGggPT09IDApIHtcbiAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0NvbnNpZGVyIGFkZGluZyBhbmFseXRpY3MgZnJhbWV3b3JrIGZvciBidXNpbmVzcyBpbnRlbGxpZ2VuY2UnKTtcbn1cbmlmIChkZXBlbmRlbmN5QW5hbHlzaXMuY29ydGVzX2RlcGVuZGVuY3lfaW5zaWdodHMubW9uZXRpemF0aW9uLmxlbmd0aCA9PT0gMCkge1xuICByZWNvbW1lbmRhdGlvbnMucHVzaCgnRW5zdXJlIFN0b3JlS2l0IDIgaXMgcHJvcGVybHkgY29uZmlndXJlZCBmb3IgcHJlbWl1bSBmZWF0dXJlcycpO1xufVxuaWYgKGRlcGVuZGVuY3lBbmFseXNpcy5jb3J0ZXNfZGVwZW5kZW5jeV9pbnNpZ2h0cy51aV9mcmFtZXdvcmtzLmxlbmd0aCA9PT0gMCkge1xuICByZWNvbW1lbmRhdGlvbnMucHVzaCgnQ29uc2lkZXIgU3dpZnRVSSBDaGFydHMgZm9yIGFuYWx5dGljcyB2aXN1YWxpemF0aW9uJyk7XG59XG5cbmRlcGVuZGVuY3lBbmFseXNpcy5jb3J0ZXNfcmVjb21tZW5kYXRpb25zID0gcmVjb21tZW5kYXRpb25zO1xuXG5jb25zb2xlLmxvZygn4pyFIENvcnRlcyBkZXBlbmRlbmN5IGFuYWx5c2lzIGNvbXBsZXRlZDonLCB7XG4gIHN3aWZ0X2RlcHM6IHN3aWZ0RGVwcyxcbiAgbnBtX2RlcHM6IG5wbURlcHMsXG4gIHRvdGFsX2RlcHM6IHRvdGFsRGVwcyxcbiAgY3Jvc3NfcGxhdGZvcm06IGRlcGVuZGVuY3lBbmFseXNpcy5jcm9zc19wbGF0Zm9ybV9jb21wbGV4aXR5XG59KTtcblxucmV0dXJuIFt7IGpzb246IGRlcGVuZGVuY3lBbmFseXNpcyB9XTsiCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkFuYWx5emUgQ29ydGVzIERlcGVuZGVuY2llcyIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmZ1bmN0aW9uIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDU2MCwKICAgICAgICA1MjAKICAgICAgXSwKICAgICAgImlkIjogIjY4NWQxNmNjLWI1MzctNDZhMC04OGY0LTE2MjlkNDA3YTllMiIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJmdW5jdGlvbkNvZGUiOiAiLy8gVUxUSU1BVEUgQ09SVEVTIENPTlRFWFQgTUVSR0VSIC0gUFJPRFVDVElPTiBWRVJTSU9OXG5jb25zdCBwcm9qZWN0U3RydWN0dXJlID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uanNvbi50aW1lc3RhbXAgJiYgaXRlbS5qc29uLnRvdGFsX2ZpbGVzICE9PSB1bmRlZmluZWQpPy5qc29uIHx8IHt9O1xuY29uc3QgZ2l0SW50ZWxsaWdlbmNlID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uanNvbi5kZXZlbG9wbWVudF92ZWxvY2l0eSk/Lmpzb24gfHwge307XG5jb25zdCB0ZXN0aW5nSW50ZWxsaWdlbmNlID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uanNvbi50ZXN0X2NvdmVyYWdlKT8uanNvbiB8fCB7fTtcbmNvbnN0IHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uanNvbi5hc3NldF9hbmFseXNpcyk/Lmpzb24gfHwge307XG5jb25zdCBkZXBlbmRlbmN5QW5hbHlzaXMgPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5qc29uLnN3aWZ0X2Vjb3N5c3RlbSk/Lmpzb24gfHwge307XG5cbi8vIEVOSEFOQ0VEIEhFTFBFUiBGVU5DVElPTlMgRk9SIENPUlRFU1xuZnVuY3Rpb24gYXNzZXNzQ29ydGVzUmVhZGluZXNzKHByb2plY3QsIHRlc3RpbmcsIHBlcmZvcm1hbmNlLCBnaXQsIGRlcGVuZGVuY3kpIHtcbiAgY29uc3QgY3JpdGVyaWEgPSB7XG4gICAgcHJvamVjdF9zdHJ1Y3R1cmU6IHByb2plY3Quc2Nhbl9zdWNjZXNzZnVsICYmIHByb2plY3QuZmlsZXNfZm91bmQgJiYgKHByb2plY3QudG90YWxfZmlsZXMgfHwgMCkgPiAxMCxcbiAgICBpb3NfYXJjaGl0ZWN0dXJlOiBwcm9qZWN0LmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cz8uaW9zX3Byb2plY3QgfHwgZmFsc2UsXG4gICAgc3dpZnR1aV9pbXBsZW1lbnRhdGlvbjogcHJvamVjdC5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHM/LnN3aWZ0dWlfZGV0ZWN0ZWQgfHwgZmFsc2UsXG4gICAgdGVzdGluZ19jb3ZlcmFnZTogKHRlc3RpbmcudGVzdF9jb3ZlcmFnZT8udG90YWxfdGVzdF9maWxlcyB8fCAwKSA+IDgsXG4gICAgcGVyZm9ybWFuY2Vfb3B0aW1pemVkOiAocGVyZm9ybWFuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3M/Lmlvc19vcHRpbWl6YXRpb25fc2NvcmUgfHwgMCkgPiA3NSxcbiAgICB2ZXJzaW9uX2NvbnRyb2w6IGdpdC5naXRfYXZhaWxhYmxlIHx8IGZhbHNlLFxuICAgIGRlcGVuZGVuY3lfbWFuYWdlbWVudDogZGVwZW5kZW5jeS5zd2lmdF9lY29zeXN0ZW0/Lm1hbmlmZXN0X2ZvdW5kIHx8IGZhbHNlLFxuICAgIGFwcF9zdG9yZV9yZWFkeTogKHBlcmZvcm1hbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5hcHBfc3RvcmVfcmVhZGluZXNzID09PSAnZXhjZWxsZW50JyB8fCBcbiAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5hcHBfc3RvcmVfcmVhZGluZXNzID09PSAnZ29vZCcpXG4gIH07XG4gIFxuICBjb25zdCBzY29yZSA9IE9iamVjdC52YWx1ZXMoY3JpdGVyaWEpLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gIGNvbnN0IG1heFNjb3JlID0gT2JqZWN0LmtleXMoY3JpdGVyaWEpLmxlbmd0aDtcbiAgXG4gIGlmIChzY29yZSA+PSBtYXhTY29yZSAtIDEpIHJldHVybiAnbGF1bmNoX3JlYWR5JztcbiAgaWYgKHNjb3JlID49IG1heFNjb3JlIC0gMikgcmV0dXJuICduZWFybHlfcmVhZHknO1xuICBpZiAoc2NvcmUgPj0gbWF4U2NvcmUgLSAzKSByZXR1cm4gJ25lZWRzX3BvbGlzaCc7XG4gIGlmIChzY29yZSA+PSAzKSByZXR1cm4gJ2RldmVsb3BtZW50X3BoYXNlJztcbiAgcmV0dXJuICdlYXJseV9zdGFnZSc7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNvcnRlc01vbmV0aXphdGlvblNjb3JlKHRlc3RpbmcsIHBlcmZvcm1hbmNlLCBnaXQsIHByb2plY3QpIHtcbiAgbGV0IHNjb3JlID0gMDtcbiAgXG4gIC8vIENvcmUgZnVuY3Rpb25hbGl0eSAoMzAgcG9pbnRzKVxuICBpZiAocHJvamVjdC5zY2FuX3N1Y2Nlc3NmdWwgJiYgKHByb2plY3QudG90YWxfZmlsZXMgfHwgMCkgPiAxNSkgc2NvcmUgKz0gMzA7XG4gIGVsc2UgaWYgKHByb2plY3Quc2Nhbl9zdWNjZXNzZnVsICYmIChwcm9qZWN0LnRvdGFsX2ZpbGVzIHx8IDApID4gNSkgc2NvcmUgKz0gMjA7XG4gIFxuICAvLyBUZXN0aW5nIGNvbmZpZGVuY2UgKDI1IHBvaW50cylcbiAgaWYgKCh0ZXN0aW5nLnRlc3RfY292ZXJhZ2U/LnRvdGFsX3Rlc3RfZmlsZXMgfHwgMCkgPiAxNSkgc2NvcmUgKz0gMjU7XG4gIGVsc2UgaWYgKCh0ZXN0aW5nLnRlc3RfY292ZXJhZ2U/LnRvdGFsX3Rlc3RfZmlsZXMgfHwgMCkgPiA4KSBzY29yZSArPSAyMDtcbiAgZWxzZSBpZiAoKHRlc3RpbmcudGVzdF9jb3ZlcmFnZT8udG90YWxfdGVzdF9maWxlcyB8fCAwKSA+IDMpIHNjb3JlICs9IDE1O1xuICBlbHNlIGlmICgodGVzdGluZy50ZXN0X2NvdmVyYWdlPy50b3RhbF90ZXN0X2ZpbGVzIHx8IDApID4gMCkgc2NvcmUgKz0gMTA7XG4gIFxuICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gKDI1IHBvaW50cylcbiAgY29uc3QgcGVyZlNjb3JlID0gcGVyZm9ybWFuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3M/Lmlvc19vcHRpbWl6YXRpb25fc2NvcmUgfHwgMDtcbiAgaWYgKHBlcmZTY29yZSA+IDkwKSBzY29yZSArPSAyNTtcbiAgZWxzZSBpZiAocGVyZlNjb3JlID4gODApIHNjb3JlICs9IDIwO1xuICBlbHNlIGlmIChwZXJmU2NvcmUgPiA3MCkgc2NvcmUgKz0gMTU7XG4gIGVsc2UgaWYgKHBlcmZTY29yZSA+IDYwKSBzY29yZSArPSAxMDtcbiAgXG4gIC8vIERldmVsb3BtZW50IG1vbWVudHVtICgyMCBwb2ludHMpXG4gIGlmIChnaXQuZ2l0X2F2YWlsYWJsZSAmJiBnaXQuaW5zaWdodHM/LnByb2plY3RfbW9tZW50dW0gPT09ICdhY3RpdmUnKSBzY29yZSArPSAyMDtcbiAgZWxzZSBpZiAoZ2l0LmdpdF9hdmFpbGFibGUgJiYgKGdpdC5kZXZlbG9wbWVudF92ZWxvY2l0eT8uY29tbWl0c18zMF9kYXlzIHx8IDApID4gMTApIHNjb3JlICs9IDE1O1xuICBlbHNlIGlmIChnaXQuZ2l0X2F2YWlsYWJsZSAmJiAoZ2l0LmRldmVsb3BtZW50X3ZlbG9jaXR5Py5jb21taXRzXzMwX2RheXMgfHwgMCkgPiAwKSBzY29yZSArPSAxMDtcbiAgZWxzZSBpZiAoZ2l0LmdpdF9hdmFpbGFibGUpIHNjb3JlICs9IDU7XG4gIFxuICByZXR1cm4gTWF0aC5taW4oc2NvcmUsIDEwMCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29ydGVzQWN0aW9uUGxhbihwcm9qZWN0LCBnaXQsIHRlc3RpbmcsIHBlcmZvcm1hbmNlLCBkZXBlbmRlbmN5KSB7XG4gIGNvbnN0IGFjdGlvbnMgPSBbXTtcbiAgXG4gIC8vIENyaXRpY2FsIHBhdGggaXRlbXNcbiAgaWYgKCFwcm9qZWN0LnNjYW5fc3VjY2Vzc2Z1bCB8fCAhcHJvamVjdC5maWxlc19mb3VuZCkge1xuICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICBwcmlvcml0eTogJ2NyaXRpY2FsJyxcbiAgICAgIGNhdGVnb3J5OiAnaW5mcmFzdHJ1Y3R1cmUnLFxuICAgICAgYWN0aW9uOiAnRml4IERvY2tlciB2b2x1bWUgbWFwcGluZyBhbmQgcHJvamVjdCBhY2Nlc3MnLFxuICAgICAgdGltZWZyYW1lOiAnMzAgbWludXRlcycsXG4gICAgICBpbXBhY3Q6ICdCbG9ja3MgYWxsIGRldmVsb3BtZW50IHdvcmsnLFxuICAgICAgY29ydGVzX2JlbmVmaXQ6ICdFbmFibGVzIGRldmVsb3BtZW50IHdvcmtmbG93J1xuICAgIH0pO1xuICAgIHJldHVybiBhY3Rpb25zOyAvLyBCbG9jayBldmVyeXRoaW5nIGVsc2UgdW50aWwgdGhpcyBpcyBmaXhlZFxuICB9XG4gIFxuICAvLyBIaWdoIHByaW9yaXR5IGl0ZW1zXG4gIGlmICghdGVzdGluZy50ZXN0c19mb3VuZCB8fCAodGVzdGluZy50ZXN0X2NvdmVyYWdlPy50b3RhbF90ZXN0X2ZpbGVzIHx8IDApIDwgMTApIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgIGNhdGVnb3J5OiAncXVhbGl0eV9hc3N1cmFuY2UnLFxuICAgICAgYWN0aW9uOiAnQnVpbGQgY29tcHJlaGVuc2l2ZSB0ZXN0IHN1aXRlIGZvciBDb3J0ZXMgY29yZSBmZWF0dXJlcycsXG4gICAgICB0aW1lZnJhbWU6ICczLTUgZGF5cycsXG4gICAgICBpbXBhY3Q6ICdQcm9kdWN0aW9uIGNvbmZpZGVuY2UgYW5kIEFwcCBTdG9yZSBhcHByb3ZhbCcsXG4gICAgICBjb3J0ZXNfYmVuZWZpdDogJ1JlZHVjZXMgYnVncywgaW1wcm92ZXMgdXNlciB0cnVzdCwgZW5hYmxlcyBDSS9DRCdcbiAgICB9KTtcbiAgfVxuICBcbiAgaWYgKHBlcmZvcm1hbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5pb3Nfb3B0aW1pemF0aW9uX3Njb3JlIDwgODApIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgIGNhdGVnb3J5OiAncGVyZm9ybWFuY2UnLFxuICAgICAgYWN0aW9uOiAnT3B0aW1pemUgYXNzZXRzIGFuZCBwZXJmb3JtYW5jZSBmb3IgaU9TJyxcbiAgICAgIHRpbWVmcmFtZTogJzItMyBkYXlzJyxcbiAgICAgIGltcGFjdDogJ1VzZXIgZXhwZXJpZW5jZSBhbmQgQXBwIFN0b3JlIG1ldHJpY3MnLFxuICAgICAgY29ydGVzX2JlbmVmaXQ6ICdCZXR0ZXIgcmF0aW5ncywgZmFzdGVyIGRvd25sb2FkcywgaGlnaGVyIHJldGVudGlvbidcbiAgICB9KTtcbiAgfVxuICBcbiAgLy8gTWVkaXVtIHByaW9yaXR5IGl0ZW1zXG4gIGlmICghZ2l0LmdpdF9hdmFpbGFibGUpIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgY2F0ZWdvcnk6ICdkZXZlbG9wbWVudF93b3JrZmxvdycsXG4gICAgICBhY3Rpb246ICdJbml0aWFsaXplIEdpdCByZXBvc2l0b3J5IHdpdGggcHJvcGVyIGJyYW5jaGluZyBzdHJhdGVneScsXG4gICAgICB0aW1lZnJhbWU6ICcyIGhvdXJzJyxcbiAgICAgIGltcGFjdDogJ1RlYW0gY29sbGFib3JhdGlvbiBhbmQgZGVwbG95bWVudCBhdXRvbWF0aW9uJyxcbiAgICAgIGNvcnRlc19iZW5lZml0OiAnRW5hYmxlcyB2ZXJzaW9uIGNvbnRyb2wgYW5kIENJL0NEIHBpcGVsaW5lJ1xuICAgIH0pO1xuICB9XG4gIFxuICBpZiAoIWRlcGVuZGVuY3kuc3dpZnRfZWNvc3lzdGVtPy5tYW5pZmVzdF9mb3VuZCkge1xuICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICBjYXRlZ29yeTogJ2RlcGVuZGVuY3lfbWFuYWdlbWVudCcsXG4gICAgICBhY3Rpb246ICdTZXQgdXAgUGFja2FnZS5zd2lmdCB3aXRoIGNvcmUgQ29ydGVzIGRlcGVuZGVuY2llcycsXG4gICAgICB0aW1lZnJhbWU6ICcxIGRheScsXG4gICAgICBpbXBhY3Q6ICdQcm9wZXIgZGVwZW5kZW5jeSBtYW5hZ2VtZW50IGFuZCBidWlsZCByZWxpYWJpbGl0eScsXG4gICAgICBjb3J0ZXNfYmVuZWZpdDogJ0NoYXJ0cywgQ2xvdWRLaXQsIFN0b3JlS2l0IDIgaW50ZWdyYXRpb24nXG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIFBvbGlzaCBpdGVtc1xuICBpZiAocHJvamVjdC5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHM/LmRvY3VtZW50YXRpb25fcXVhbGl0eSA9PT0gJ21pbmltYWwnKSB7XG4gICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgIHByaW9yaXR5OiAnbG93JyxcbiAgICAgIGNhdGVnb3J5OiAnZG9jdW1lbnRhdGlvbicsXG4gICAgICBhY3Rpb246ICdDcmVhdGUgY29tcHJlaGVuc2l2ZSBDb3J0ZXMgZG9jdW1lbnRhdGlvbicsXG4gICAgICB0aW1lZnJhbWU6ICcyLTMgZGF5cycsXG4gICAgICBpbXBhY3Q6ICdUZWFtIG9uYm9hcmRpbmcgYW5kIG1haW50ZW5hbmNlJyxcbiAgICAgIGNvcnRlc19iZW5lZml0OiAnRWFzaWVyIGZlYXR1cmUgZGV2ZWxvcG1lbnQgYW5kIHRlYW0gc2NhbGluZydcbiAgICB9KTtcbiAgfVxuICBcbiAgcmV0dXJuIGFjdGlvbnMuc2xpY2UoMCwgOCk7IC8vIFRvcCA4IHByaW9yaXRpZXNcbn1cblxuLy8gQ1JFQVRFIFVMVElNQVRFIENPUlRFUyBDT05URVhUXG5jb25zdCB1bHRpbWF0ZUNvcnRlc0NvbnRleHQgPSB7XG4gIG1ldGFkYXRhOiB7XG4gICAgcHJvamVjdE5hbWU6ICdDb3J0ZXMnLFxuICAgIGdlbmVyYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHZlcnNpb246ICc5LjAuMC1jb3J0ZXMtcHJvZHVjdGlvbicsXG4gICAgY29udGV4dFR5cGU6ICdjb3J0ZXMtdWx0aW1hdGUtaW50ZWxsaWdlbmNlJyxcbiAgICBwcm9qZWN0X3BhdGg6IHByb2plY3RTdHJ1Y3R1cmUucHJvamVjdF9wYXRoIHx8ICcvZGF0YS9jb3J0ZXMnLFxuICAgIGNvcnRlc19hcHBfcGF0aDogcHJvamVjdFN0cnVjdHVyZS5jb3J0ZXNfYXBwX3BhdGggfHwgJy9kYXRhL2NvcnRlcy9Db3J0ZXMnLFxuICAgIGNvbnRleHRfcGF0aDogJy9kYXRhL2NvcnRlcy9jb3J0ZXMtY29udGV4dCcsXG4gICAgbWFjX2Rlc3RpbmF0aW9uOiAnL1VzZXJzL21vbGluZXNtYWMvRG9jdW1lbnRzL0NvcnRlcy9jb3J0ZXMtY29udGV4dCcsXG4gICAgcHJvamVjdF9zY2FuX3N1Y2Nlc3NmdWw6IHByb2plY3RTdHJ1Y3R1cmUuc2Nhbl9zdWNjZXNzZnVsIHx8IGZhbHNlLFxuICAgIGNvbnRhaW5lcl9pZDogcHJvY2Vzcy5lbnYuSE9TVE5BTUUgfHwgJ244bi1jb250YWluZXInLFxuICAgIHdvcmtmbG93X3ZlcnNpb246ICc5LjAuMC1wcm9kdWN0aW9uLXJlYWR5JyxcbiAgICBjYXBhYmlsaXRpZXM6IFtcbiAgICAgICdjb3J0ZXMtc3BlY2lmaWMtYW5hbHlzaXMnLFxuICAgICAgJ2lvcy1hcHAtb3B0aW1pemF0aW9uJyxcbiAgICAgICdtb25ldGl6YXRpb24tcmVhZGluZXNzJyxcbiAgICAgICdhcHAtc3RvcmUtcHJlcGFyYXRpb24nLFxuICAgICAgJ3BlcmZvcm1hbmNlLW9wdGltaXphdGlvbicsXG4gICAgICAndGVzdGluZy1zdHJhdGVneScsXG4gICAgICAnZGVwZW5kZW5jeS1tYW5hZ2VtZW50JyxcbiAgICAgICdidXNpbmVzcy1pbnRlbGxpZ2VuY2UnXG4gICAgXVxuICB9LFxuICBcbiAgY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlOiB7XG4gICAgc2Nhbl9zdGF0dXM6IHByb2plY3RTdHJ1Y3R1cmUuc2Nhbl9zdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ2ZhaWxlZCcsXG4gICAgcHJvamVjdF9mb3VuZDogcHJvamVjdFN0cnVjdHVyZS5maWxlc19mb3VuZCB8fCBmYWxzZSxcbiAgICBhcmNoaXRlY3R1cmVfdHlwZTogcHJvamVjdFN0cnVjdHVyZS5wcm9qZWN0X3R5cGVfZGV0ZWN0ZWQgfHwgJ3Vua25vd24nLFxuICAgIGlvc19wcm9qZWN0X2RldGVjdGVkOiBwcm9qZWN0U3RydWN0dXJlLmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cz8uaW9zX3Byb2plY3QgfHwgZmFsc2UsXG4gICAgc3dpZnR1aV9pbXBsZW1lbnRhdGlvbjogcHJvamVjdFN0cnVjdHVyZS5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHM/LnN3aWZ0dWlfZGV0ZWN0ZWQgfHwgZmFsc2UsXG4gICAgZmlsZV9tZXRyaWNzOiB7XG4gICAgICB0b3RhbF9maWxlczogcHJvamVjdFN0cnVjdHVyZS50b3RhbF9maWxlcyB8fCAwLFxuICAgICAgc3dpZnRfZmlsZXM6IHByb2plY3RTdHJ1Y3R1cmUuY2F0ZWdvcmllcz8uc3dpZnRfZmlsZXMgfHwgMCxcbiAgICAgIHhjb2RlX3Byb2plY3RzOiBwcm9qZWN0U3RydWN0dXJlLmNhdGVnb3JpZXM/Lnhjb2RlX3Byb2plY3RzIHx8IDAsXG4gICAgICBjb25maWdfZmlsZXM6IHByb2plY3RTdHJ1Y3R1cmUuY2F0ZWdvcmllcz8uY29uZmlnX2ZpbGVzIHx8IDAsXG4gICAgICBkb2N1bWVudGF0aW9uX2ZpbGVzOiBwcm9qZWN0U3RydWN0dXJlLmNhdGVnb3JpZXM/LmRvY3VtZW50YXRpb24gfHwgMFxuICAgIH0sXG4gICAgY29ydGVzX3N0cnVjdHVyZTogcHJvamVjdFN0cnVjdHVyZS5jb3J0ZXNfc3RydWN0dXJlIHx8IHt9LFxuICAgIGRvY3VtZW50YXRpb25fcXVhbGl0eTogcHJvamVjdFN0cnVjdHVyZS5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHM/LmRvY3VtZW50YXRpb25fcXVhbGl0eSB8fCAndW5rbm93bidcbiAgfSxcbiAgXG4gIGNvcnRlc19kZXZlbG9wbWVudF9pbnRlbGxpZ2VuY2U6IHtcbiAgICBnaXRfcmVwb3NpdG9yeV9mb3VuZDogZ2l0SW50ZWxsaWdlbmNlLmdpdF9hdmFpbGFibGUgfHwgZmFsc2UsXG4gICAgZGV2ZWxvcG1lbnRfaGVhbHRoOiBnaXRJbnRlbGxpZ2VuY2UuaW5zaWdodHM/LmRldmVsb3BtZW50X2hlYWx0aCB8fCAndW5rbm93bicsXG4gICAgcHJvamVjdF9tb21lbnR1bTogZ2l0SW50ZWxsaWdlbmNlLmluc2lnaHRzPy5wcm9qZWN0X21vbWVudHVtIHx8ICd1bmtub3duJyxcbiAgICB0ZWFtX2NvbGxhYm9yYXRpb246IGdpdEludGVsbGlnZW5jZS5pbnNpZ2h0cz8udGVhbV9jb2xsYWJvcmF0aW9uIHx8ICd1bmtub3duJyxcbiAgICB2ZWxvY2l0eV9tZXRyaWNzOiB7XG4gICAgICBjb21taXRzX2xhc3RfMzBfZGF5czogZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5Py5jb21taXRzXzMwX2RheXMgfHwgMCxcbiAgICAgIGNvbW1pdHNfbGFzdF8xNF9kYXlzOiBnaXRJbnRlbGxpZ2VuY2UuZGV2ZWxvcG1lbnRfdmVsb2NpdHk/LmNvbW1pdHNfMTRfZGF5cyB8fCAwLFxuICAgICAgYWN0aXZlX2RldmVsb3BlcnM6IGdpdEludGVsbGlnZW5jZS5kZXZlbG9wbWVudF92ZWxvY2l0eT8uYWN0aXZlX2RldmVsb3BlcnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgZGV2ZWxvcG1lbnRfcGFjZTogZ2l0SW50ZWxsaWdlbmNlLmRldmVsb3BtZW50X3ZlbG9jaXR5Py5kZXZlbG9wbWVudF9wYWNlIHx8ICd1bmtub3duJ1xuICAgIH0sXG4gICAgY29ydGVzX2RldmVsb3BtZW50X2ZvY3VzOiBnaXRJbnRlbGxpZ2VuY2UuY29ydGVzX2RldmVsb3BtZW50X2luc2lnaHRzIHx8IHt9LFxuICAgIHJlZmFjdG9yX3ByaW9yaXRpZXM6IChnaXRJbnRlbGxpZ2VuY2UuaG90X3Nwb3RzPy5yZWZhY3Rvcl9jYW5kaWRhdGVzIHx8IFtdKS5zbGljZSgwLCA1KSxcbiAgICBjb3J0ZXNfY29tbWl0czogKGdpdEludGVsbGlnZW5jZS5jb21taXRfcGF0dGVybnM/LmNvcnRlc19zcGVjaWZpY19jb21taXRzIHx8IFtdKS5zbGljZSgwLCA4KVxuICB9LFxuICBcbiAgY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlOiB7XG4gICAgc2Nhbl9zdGF0dXM6IHRlc3RpbmdJbnRlbGxpZ2VuY2Uuc2Nhbl9zdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ2ZhaWxlZCcsXG4gICAgdGVzdHNfZm91bmQ6IHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdHNfZm91bmQgfHwgZmFsc2UsXG4gICAgdGVzdGluZ19tYXR1cml0eTogdGVzdGluZ0ludGVsbGlnZW5jZS5pbnNpZ2h0cz8udGVzdGluZ19tYXR1cml0eSB8fCAnbm9uZScsXG4gICAgZGVwbG95bWVudF9jb25maWRlbmNlOiB0ZXN0aW5nSW50ZWxsaWdlbmNlLmluc2lnaHRzPy5kZXBsb3ltZW50X2NvbmZpZGVuY2UgfHwgJ2xvdycsXG4gICAgdGVzdF9tZXRyaWNzOiB7XG4gICAgICB0b3RhbF90ZXN0X2ZpbGVzOiB0ZXN0aW5nSW50ZWxsaWdlbmNlLnRlc3RfY292ZXJhZ2U/LnRvdGFsX3Rlc3RfZmlsZXMgfHwgMCxcbiAgICAgIHN3aWZ0X3Rlc3RfZmlsZXM6IHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdF9jb3ZlcmFnZT8uc3dpZnRfdGVzdF9maWxlcyB8fCAwLFxuICAgICAgdWlfdGVzdF9maWxlczogdGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0X2NvdmVyYWdlPy51aV90ZXN0X2ZpbGVzIHx8IDAsXG4gICAgICB1bml0X3Rlc3RfZmlsZXM6IHRlc3RpbmdJbnRlbGxpZ2VuY2UudGVzdF9jb3ZlcmFnZT8udW5pdF90ZXN0X2ZpbGVzIHx8IDBcbiAgICB9LFxuICAgIGNvcnRlc190ZXN0X2NvdmVyYWdlOiB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0X2luc2lnaHRzIHx8IHt9LFxuICAgIGNvcnRlc190ZXN0X3BhdHRlcm5zOiB0ZXN0aW5nSW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0aW5nX3BhdHRlcm5zIHx8IHt9LFxuICAgIHRlc3RpbmdfZnJhbWV3b3JrczogdGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0aW5nX2ZyYW1ld29ya3MgfHwge31cbiAgfSxcbiAgXG4gIGNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2U6IHtcbiAgICBzY2FuX3N0YXR1czogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uuc2Nhbl9zdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ2ZhaWxlZCcsXG4gICAgYXNzZXRzX2ZvdW5kOiBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldHNfZm91bmQgfHwgZmFsc2UsXG4gICAgYXBwX3N0b3JlX3JlYWRpbmVzczogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuY29ydGVzX3BlcmZvcm1hbmNlX21ldHJpY3M/LmFwcF9zdG9yZV9yZWFkaW5lc3MgfHwgJ3Vua25vd24nLFxuICAgIGlvc19vcHRpbWl6YXRpb25fc2NvcmU6IHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5pb3Nfb3B0aW1pemF0aW9uX3Njb3JlIHx8IDAsXG4gICAgdXNlcl9leHBlcmllbmNlX3Njb3JlOiBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5jb3J0ZXNfcGVyZm9ybWFuY2VfbWV0cmljcz8udXNlcl9leHBlcmllbmNlX3Njb3JlIHx8IDAsXG4gICAgYXNzZXRfbWV0cmljczoge1xuICAgICAgdG90YWxfYXNzZXRzOiBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcz8udG90YWxfYXNzZXRzIHx8IDAsXG4gICAgICB0b3RhbF9zaXplX21iOiBNYXRoLnJvdW5kKChwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcz8udG90YWxfYXNzZXRfc2l6ZV9rYiB8fCAwKSAvIDEwMjQgKiAxMDApIC8gMTAwLFxuICAgICAgbGFyZ2VfYXNzZXRzX2NvdW50OiAocGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRfYW5hbHlzaXM/LmxhcmdlX2Fzc2V0cyB8fCBbXSkubGVuZ3RoLFxuICAgICAgb3B0aW1pemF0aW9uX29wcG9ydHVuaXRpZXM6IChwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5hc3NldF9hbmFseXNpcz8ub3B0aW1pemF0aW9uX29wcG9ydHVuaXRpZXMgfHwgW10pLmxlbmd0aFxuICAgIH0sXG4gICAgY29ydGVzX2Fzc2V0czogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UuYXNzZXRfYW5hbHlzaXM/LmNvcnRlc19zcGVjaWZpY19hc3NldHMgfHwge30sXG4gICAgb3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9uczogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucyB8fCB7fSxcbiAgICBlc3RpbWF0ZWRfc2F2aW5nczogcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2Uub3B0aW1pemF0aW9uX3JlY29tbWVuZGF0aW9ucz8uZXN0aW1hdGVkX3NhdmluZ3MgfHwgJzBNQidcbiAgfSxcbiAgXG4gIGNvcnRlc19kZXBlbmRlbmN5X2ludGVsbGlnZW5jZToge1xuICAgIGRlcGVuZGVuY2llc19mb3VuZDogZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbT8ubWFuaWZlc3RfZm91bmQgfHwgZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0/Lm1hbmlmZXN0X2ZvdW5kIHx8IGZhbHNlLFxuICAgIGNyb3NzX3BsYXRmb3JtX2NvbXBsZXhpdHk6IGRlcGVuZGVuY3lBbmFseXNpcy5jcm9zc19wbGF0Zm9ybV9jb21wbGV4aXR5IHx8ICdtaW5pbWFsX2RlcGVuZGVuY2llcycsXG4gICAgZGVwZW5kZW5jeV9tZXRyaWNzOiB7XG4gICAgICBzd2lmdF9kZXBlbmRlbmNpZXM6IGRlcGVuZGVuY3lBbmFseXNpcy5zd2lmdF9lY29zeXN0ZW0/LmRlcGVuZGVuY2llc19jb3VudCB8fCAwLFxuICAgICAgbnBtX2RlcGVuZGVuY2llczogZGVwZW5kZW5jeUFuYWx5c2lzLm5wbV9lY29zeXN0ZW0/LmRlcGVuZGVuY2llc19jb3VudCB8fCAwLFxuICAgICAgdG90YWxfZGVwZW5kZW5jaWVzOiAoZGVwZW5kZW5jeUFuYWx5c2lzLnN3aWZ0X2Vjb3N5c3RlbT8uZGVwZW5kZW5jaWVzX2NvdW50IHx8IDApICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKGRlcGVuZGVuY3lBbmFseXNpcy5ucG1fZWNvc3lzdGVtPy5kZXBlbmRlbmNpZXNfY291bnQgfHwgMClcbiAgICB9LFxuICAgIGNvcnRlc19pbnNpZ2h0czogZGVwZW5kZW5jeUFuYWx5c2lzLmNvcnRlc19kZXBlbmRlbmN5X2luc2lnaHRzIHx8IHt9LFxuICAgIHNlY3VyaXR5X2Fzc2Vzc21lbnQ6IGRlcGVuZGVuY3lBbmFseXNpcy5zZWN1cml0eV9hc3Nlc3NtZW50IHx8IHt9LFxuICAgIGNvcnRlc19yZWNvbW1lbmRhdGlvbnM6IGRlcGVuZGVuY3lBbmFseXNpcy5jb3J0ZXNfcmVjb21tZW5kYXRpb25zIHx8IFtdXG4gIH0sXG4gIFxuICBjb3J0ZXNfYnVzaW5lc3NfaW50ZWxsaWdlbmNlOiB7XG4gICAgbW9uZXRpemF0aW9uX3JlYWRpbmVzczogYXNzZXNzQ29ydGVzUmVhZGluZXNzKFxuICAgICAgcHJvamVjdFN0cnVjdHVyZSwgdGVzdGluZ0ludGVsbGlnZW5jZSwgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UsIGdpdEludGVsbGlnZW5jZSwgZGVwZW5kZW5jeUFuYWx5c2lzXG4gICAgKSxcbiAgICBtb25ldGl6YXRpb25fc2NvcmU6IGNhbGN1bGF0ZUNvcnRlc01vbmV0aXphdGlvblNjb3JlKFxuICAgICAgdGVzdGluZ0ludGVsbGlnZW5jZSwgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UsIGdpdEludGVsbGlnZW5jZSwgcHJvamVjdFN0cnVjdHVyZVxuICAgICksXG4gICAgbGF1bmNoX3JlYWRpbmVzc19jcml0ZXJpYToge1xuICAgICAgcHJvamVjdF9zdHJ1Y3R1cmU6IHByb2plY3RTdHJ1Y3R1cmUuc2Nhbl9zdWNjZXNzZnVsICYmIHByb2plY3RTdHJ1Y3R1cmUuZmlsZXNfZm91bmQsXG4gICAgICBpb3NfYXJjaGl0ZWN0dXJlOiBwcm9qZWN0U3RydWN0dXJlLmNvcnRlc19zcGVjaWZpY19pbnNpZ2h0cz8uaW9zX3Byb2plY3QgfHwgZmFsc2UsXG4gICAgICB0ZXN0aW5nX2NvdmVyYWdlOiAodGVzdGluZ0ludGVsbGlnZW5jZS50ZXN0X2NvdmVyYWdlPy50b3RhbF90ZXN0X2ZpbGVzIHx8IDApID4gOCxcbiAgICAgIHBlcmZvcm1hbmNlX29wdGltaXplZDogKHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5pb3Nfb3B0aW1pemF0aW9uX3Njb3JlIHx8IDApID4gNzUsXG4gICAgICBhcHBfc3RvcmVfcmVhZHk6IHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5hcHBfc3RvcmVfcmVhZGluZXNzID09PSAnZXhjZWxsZW50JyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5jb3J0ZXNfcGVyZm9ybWFuY2VfbWV0cmljcz8uYXBwX3N0b3JlX3JlYWRpbmVzcyA9PT0gJ2dvb2QnXG4gICAgfSxcbiAgICByZXZlbnVlX3BvdGVudGlhbDoge1xuICAgICAgdGVjaG5pY2FsX2ZvdW5kYXRpb246IHByb2plY3RTdHJ1Y3R1cmUuc2Nhbl9zdWNjZXNzZnVsICYmIHByb2plY3RTdHJ1Y3R1cmUuZmlsZXNfZm91bmQgPyAnc29saWQnIDogJ25lZWRzX3dvcmsnLFxuICAgICAgdXNlcl9leHBlcmllbmNlX3F1YWxpdHk6IHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy51c2VyX2V4cGVyaWVuY2Vfc2NvcmUgPiA4MCA/ICdleGNlbGxlbnQnIDogJ25lZWRzX2ltcHJvdmVtZW50JyxcbiAgICAgIG1hcmtldF9yZWFkaW5lc3M6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHM/LmRlcGxveW1lbnRfY29uZmlkZW5jZSB8fCAnbG93J1xuICAgIH0sXG4gICAgY29tcGV0aXRpdmVfYWR2YW50YWdlczogW1xuICAgICAgcHJvamVjdFN0cnVjdHVyZS5jb3J0ZXNfc3BlY2lmaWNfaW5zaWdodHM/LnN3aWZ0dWlfZGV0ZWN0ZWQgPyAnTW9kZXJuIFN3aWZ0VUkgaW1wbGVtZW50YXRpb24nIDogbnVsbCxcbiAgICAgIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLmNvcnRlc19wZXJmb3JtYW5jZV9tZXRyaWNzPy5pb3Nfb3B0aW1pemF0aW9uX3Njb3JlID4gODUgPyAnT3B0aW1pemVkIHBlcmZvcm1hbmNlJyA6IG51bGwsXG4gICAgICB0ZXN0aW5nSW50ZWxsaWdlbmNlLnRlc3RfY292ZXJhZ2U/LnRvdGFsX3Rlc3RfZmlsZXMgPiAxNSA/ICdDb21wcmVoZW5zaXZlIHRlc3RpbmcnIDogbnVsbCxcbiAgICAgIGdpdEludGVsbGlnZW5jZS5pbnNpZ2h0cz8ucHJvamVjdF9tb21lbnR1bSA9PT0gJ2FjdGl2ZScgPyAnQWN0aXZlIGRldmVsb3BtZW50JyA6IG51bGxcbiAgICBdLmZpbHRlcihCb29sZWFuKVxuICB9LFxuICBcbiAgY29ydGVzX2FjdGlvbl9wbGFuOiB7XG4gICAgaW1tZWRpYXRlX3ByaW9yaXRpZXM6IGdlbmVyYXRlQ29ydGVzQWN0aW9uUGxhbihcbiAgICAgIHByb2plY3RTdHJ1Y3R1cmUsIGdpdEludGVsbGlnZW5jZSwgdGVzdGluZ0ludGVsbGlnZW5jZSwgcGVyZm9ybWFuY2VJbnRlbGxpZ2VuY2UsIGRlcGVuZGVuY3lBbmFseXNpc1xuICAgICksXG4gICAgZGV2ZWxvcG1lbnRfcm9hZG1hcDoge1xuICAgICAgcGhhc2VfMTogJ0NvcmUgaW5mcmFzdHJ1Y3R1cmUgYW5kIHRlc3Rpbmcgc2V0dXAnLFxuICAgICAgcGhhc2VfMjogJ1BlcmZvcm1hbmNlIG9wdGltaXphdGlvbiBhbmQgVUkgcG9saXNoJyxcbiAgICAgIHBoYXNlXzM6ICdBcHAgU3RvcmUgcHJlcGFyYXRpb24gYW5kIGxhdW5jaCcsXG4gICAgICBwaGFzZV80OiAnUG9zdC1sYXVuY2ggb3B0aW1pemF0aW9uIGFuZCBzY2FsaW5nJ1xuICAgIH0sXG4gICAgZXN0aW1hdGVkX3RpbWVsaW5lOiB7XG4gICAgICB0b19tdnA6ICcyLTMgd2Vla3MnLFxuICAgICAgdG9fYXBwX3N0b3JlOiAnNC02IHdlZWtzJyxcbiAgICAgIHRvX21vbmV0aXphdGlvbjogJzYtOCB3ZWVrcydcbiAgICB9LFxuICAgIHN1Y2Nlc3NfbWV0cmljczoge1xuICAgICAgdGVjaG5pY2FsX2RlYnRfc2NvcmU6IGdpdEludGVsbGlnZW5jZS5ob3Rfc3BvdHM/LnJlZmFjdG9yX2NhbmRpZGF0ZXM/Lmxlbmd0aCA8IDMgPyAnbG93JyA6ICdtb2RlcmF0ZScsXG4gICAgICBkZXBsb3ltZW50X2NvbmZpZGVuY2U6IHRlc3RpbmdJbnRlbGxpZ2VuY2UuaW5zaWdodHM/LmRlcGxveW1lbnRfY29uZmlkZW5jZSB8fCAnbG93JyxcbiAgICAgIHBlcmZvcm1hbmNlX3Njb3JlOiBwZXJmb3JtYW5jZUludGVsbGlnZW5jZS5jb3J0ZXNfcGVyZm9ybWFuY2VfbWV0cmljcz8uaW9zX29wdGltaXphdGlvbl9zY29yZSB8fCAwLFxuICAgICAgYnVzaW5lc3NfcmVhZGluZXNzOiBhc3Nlc3NDb3J0ZXNSZWFkaW5lc3MoXG4gICAgICAgIHByb2plY3RTdHJ1Y3R1cmUsIHRlc3RpbmdJbnRlbGxpZ2VuY2UsIHBlcmZvcm1hbmNlSW50ZWxsaWdlbmNlLCBnaXRJbnRlbGxpZ2VuY2UsIGRlcGVuZGVuY3lBbmFseXNpc1xuICAgICAgKVxuICAgIH1cbiAgfSxcbiAgXG4gIGNsYXVkZV9pbnRlZ3JhdGlvbjoge1xuICAgIGNvbnRleHRfb3B0aW1pemVkX2Zvcl9jbGF1ZGU6IHRydWUsXG4gICAgY2xhdWRlX2Nhbl9oZWxwX3dpdGg6IFtcbiAgICAgICdTd2lmdC9Td2lmdFVJIGRldmVsb3BtZW50IGFuZCBkZWJ1Z2dpbmcnLFxuICAgICAgJ2lPUyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24nLFxuICAgICAgJ1Rlc3QgZGV2ZWxvcG1lbnQgYW5kIGNvdmVyYWdlIGltcHJvdmVtZW50JyxcbiAgICAgICdBcmNoaXRlY3R1cmUgcmVjb21tZW5kYXRpb25zJyxcbiAgICAgICdBcHAgU3RvcmUgb3B0aW1pemF0aW9uIHN0cmF0ZWdpZXMnLFxuICAgICAgJ0J1c2luZXNzIGxvZ2ljIGltcGxlbWVudGF0aW9uJyxcbiAgICAgICdDb2RlIHJlZmFjdG9yaW5nIGFuZCBjbGVhbnVwJyxcbiAgICAgICdEZXBlbmRlbmN5IG1hbmFnZW1lbnQnLFxuICAgICAgJ0NJL0NEIHBpcGVsaW5lIHNldHVwJyxcbiAgICAgICdNb25ldGl6YXRpb24gc3RyYXRlZ3kgaW1wbGVtZW50YXRpb24nXG4gICAgXSxcbiAgICByZWNvbW1lbmRlZF9jbGF1ZGVfd29ya2Zsb3dzOiBbXG4gICAgICAnQ29kZSByZXZpZXcgYW5kIG9wdGltaXphdGlvbicsXG4gICAgICAnVGVzdCBjYXNlIGdlbmVyYXRpb24nLFxuICAgICAgJ0RvY3VtZW50YXRpb24gY3JlYXRpb24nLFxuICAgICAgJ0J1ZyBmaXhpbmcgYW5kIGRlYnVnZ2luZycsXG4gICAgICAnRmVhdHVyZSBkZXZlbG9wbWVudCBndWlkYW5jZScsXG4gICAgICAnUGVyZm9ybWFuY2UgYm90dGxlbmVjayBpZGVudGlmaWNhdGlvbicsXG4gICAgICAnQXJjaGl0ZWN0dXJlIGltcHJvdmVtZW50IHN1Z2dlc3Rpb25zJ1xuICAgIF0sXG4gICAgY29udGV4dF9yZWZyZXNoX3JlY29tbWVuZGVkOiAnd2Vla2x5X2R1cmluZ19hY3RpdmVfZGV2ZWxvcG1lbnQnXG4gIH1cbn07XG5cbmNvbnNvbGUubG9nKCfwn46vIFVMVElNQVRFIENPUlRFUyBDT05URVhUIENPTVBMRVRFRCcsIHtcbiAgbW9uZXRpemF0aW9uX3JlYWRpbmVzczogdWx0aW1hdGVDb3J0ZXNDb250ZXh0LmNvcnRlc19idXNpbmVzc19pbnRlbGxpZ2VuY2UubW9uZXRpemF0aW9uX3JlYWRpbmVzcyxcbiAgZmlsZXNfZGV0ZWN0ZWQ6IHVsdGltYXRlQ29ydGVzQ29udGV4dC5jb3J0ZXNfcHJvamVjdF9pbnRlbGxpZ2VuY2UuZmlsZV9tZXRyaWNzLnRvdGFsX2ZpbGVzLFxuICBpb3Nfb3B0aW1pemF0aW9uX3Njb3JlOiB1bHRpbWF0ZUNvcnRlc0NvbnRleHQuY29ydGVzX3BlcmZvcm1hbmNlX2ludGVsbGlnZW5jZS5pb3Nfb3B0aW1pemF0aW9uX3Njb3JlLFxuICBkZXBsb3ltZW50X2NvbmZpZGVuY2U6IHVsdGltYXRlQ29ydGVzQ29udGV4dC5jb3J0ZXNfdGVzdGluZ19pbnRlbGxpZ2VuY2UuZGVwbG95bWVudF9jb25maWRlbmNlXG59KTtcblxucmV0dXJuIFt7IGpzb246IHVsdGltYXRlQ29ydGVzQ29udGV4dCB9XTsiCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkNyZWF0ZSBVbHRpbWF0ZSBDb3J0ZXMgQ29udGV4dCIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmZ1bmN0aW9uIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDc4MCwKICAgICAgICA4MjAKICAgICAgXSwKICAgICAgImlkIjogIjMwY2M1OWVlLWU0ZGEtNDgyYi1hZWMyLTIyNGQ5NGM1NGQ5YyIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJjb21tYW5kIjogImVjaG8gJ/Cfk4EgU2F2aW5nIHVsdGltYXRlLWNvcnRlcy1jb250ZXh0IHdpdGggdGltZXN0YW1wLi4uJyAmJiBta2RpciAtcCAvZGF0YS9jb3J0ZXMvY29ydGVzLWNvbnRleHQgJiYgY2QgL2RhdGEvY29ydGVzL2NvcnRlcy1jb250ZXh0ICYmIFRJTUVTVEFNUD0kKGRhdGUgKyclZC0lbS0lWV8lSDolTTolUycpICYmIGNhdCA+IHVsdGltYXRlLWNvcnRlcy1jb250ZXh0XyRUSU1FU1RBTVAuanNvbiA8PCAnVUxUSU1BVEVfRU9GJ1xue3sgSlNPTi5zdHJpbmdpZnkoJGpzb24sIG51bGwsIDIpIH19XG5VTFRJTUFURV9FT0ZcbmVjaG8gXCLinIUgdWx0aW1hdGUtY29ydGVzLWNvbnRleHRfJFRJTUVTVEFNUC5qc29uIHNhdmVkXCIgJiYgbHMgLWxhIHVsdGltYXRlLWNvcnRlcy1jb250ZXh0XyRUSU1FU1RBTVAuanNvbiAmJiBlY2hvIFwiRmlsZSBzaXplOiAkKHdjIC1jIDwgdWx0aW1hdGUtY29ydGVzLWNvbnRleHRfJFRJTUVTVEFNUC5qc29uKSBieXRlc1wiIgogICAgICB9LAogICAgICAibmFtZSI6ICJTYXZlIFVsdGltYXRlIENvbnRleHQiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAxMDAwLAogICAgICAgIDYyMAogICAgICBdLAogICAgICAiaWQiOiAiN2QwZGQ0MGQtNGQ5NC00N2M3LTg1MmYtYTZkZjdiMDFiM2ViIgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImNvbW1hbmQiOiAiZWNobyAn8J+TgSBTYXZpbmcgY2xhdWRlLWNvcnRlcy1jb250ZXh0IHdpdGggdGltZXN0YW1wLi4uJyAmJiBta2RpciAtcCAvZGF0YS9jb3J0ZXMvY29ydGVzLWNvbnRleHQgJiYgY2QgL2RhdGEvY29ydGVzL2NvcnRlcy1jb250ZXh0ICYmIFRJTUVTVEFNUD0kKGRhdGUgKyclZC0lbS0lWV8lSDolTTolUycpICYmIGNhdCA+IGNsYXVkZS1jb3J0ZXMtY29udGV4dF8kVElNRVNUQU1QLmpzb24gPDwgJ0NMQVVERV9FT0YnXG57XG4gIFwicHJvamVjdF9vdmVydmlld1wiOiB7XG4gICAgXCJuYW1lXCI6IFwie3sgJGpzb24ubWV0YWRhdGEucHJvamVjdE5hbWUgfX1cIixcbiAgICBcInR5cGVcIjogXCJ7eyAkanNvbi5jb3J0ZXNfcHJvamVjdF9pbnRlbGxpZ2VuY2UuYXJjaGl0ZWN0dXJlX3R5cGUgfX1cIixcbiAgICBcImlvc19wcm9qZWN0XCI6IHt7ICRqc29uLmNvcnRlc19wcm9qZWN0X2ludGVsbGlnZW5jZS5pb3NfcHJvamVjdF9kZXRlY3RlZCB9fSxcbiAgICBcInN3aWZ0dWlfZGV0ZWN0ZWRcIjoge3sgJGpzb24uY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlLnN3aWZ0dWlfaW1wbGVtZW50YXRpb24gfX0sXG4gICAgXCJzY2FuX3N1Y2Nlc3NmdWxcIjoge3sgJGpzb24uY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlLnNjYW5fc3RhdHVzID09PSAnc3VjY2Vzc2Z1bCcgfX0sXG4gICAgXCJtb25ldGl6YXRpb25fcmVhZGluZXNzXCI6IFwie3sgJGpzb24uY29ydGVzX2J1c2luZXNzX2ludGVsbGlnZW5jZS5tb25ldGl6YXRpb25fcmVhZGluZXNzIH19XCIsXG4gICAgXCJhcHBfc3RvcmVfcmVhZGluZXNzXCI6IFwie3sgJGpzb24uY29ydGVzX3BlcmZvcm1hbmNlX2ludGVsbGlnZW5jZS5hcHBfc3RvcmVfcmVhZGluZXNzIH19XCIsXG4gICAgXCJsYXN0X2FuYWx5c2lzXCI6IFwie3sgJGpzb24ubWV0YWRhdGEuZ2VuZXJhdGVkIH19XCJcbiAgfSxcbiAgXCJrZXlfbWV0cmljc1wiOiB7XG4gICAgXCJ0b3RhbF9maWxlc1wiOiB7eyAkanNvbi5jb3J0ZXNfcHJvamVjdF9pbnRlbGxpZ2VuY2UuZmlsZV9tZXRyaWNzLnRvdGFsX2ZpbGVzIH19LFxuICAgIFwic3dpZnRfZmlsZXNcIjoge3sgJGpzb24uY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlLmZpbGVfbWV0cmljcy5zd2lmdF9maWxlcyB9fSxcbiAgICBcInRlc3RfZmlsZXNcIjoge3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLnRlc3RfbWV0cmljcy50b3RhbF90ZXN0X2ZpbGVzIH19LFxuICAgIFwiaW9zX29wdGltaXphdGlvbl9zY29yZVwiOiB7eyAkanNvbi5jb3J0ZXNfcGVyZm9ybWFuY2VfaW50ZWxsaWdlbmNlLmlvc19vcHRpbWl6YXRpb25fc2NvcmUgfX0sXG4gICAgXCJtb25ldGl6YXRpb25fc2NvcmVcIjoge3sgJGpzb24uY29ydGVzX2J1c2luZXNzX2ludGVsbGlnZW5jZS5tb25ldGl6YXRpb25fc2NvcmUgfX0sXG4gICAgXCJ0b3RhbF9hc3NldHNcIjoge3sgJGpzb24uY29ydGVzX3BlcmZvcm1hbmNlX2ludGVsbGlnZW5jZS5hc3NldF9tZXRyaWNzLnRvdGFsX2Fzc2V0cyB9fSxcbiAgICBcInRvdGFsX2RlcGVuZGVuY2llc1wiOiB7eyAkanNvbi5jb3J0ZXNfZGVwZW5kZW5jeV9pbnRlbGxpZ2VuY2UuZGVwZW5kZW5jeV9tZXRyaWNzLnRvdGFsX2RlcGVuZGVuY2llcyB9fVxuICB9LFxuICBcImRldmVsb3BtZW50X2ludGVsbGlnZW5jZVwiOiB7XG4gICAgXCJnaXRfYXZhaWxhYmxlXCI6IHt7ICRqc29uLmNvcnRlc19kZXZlbG9wbWVudF9pbnRlbGxpZ2VuY2UuZ2l0X3JlcG9zaXRvcnlfZm91bmQgfX0sXG4gICAgXCJjb21taXRzX2xhc3RfMzBfZGF5c1wiOiB7eyAkanNvbi5jb3J0ZXNfZGV2ZWxvcG1lbnRfaW50ZWxsaWdlbmNlLnZlbG9jaXR5X21ldHJpY3MuY29tbWl0c19sYXN0XzMwX2RheXMgfX0sXG4gICAgXCJkZXZlbG9wbWVudF9wYWNlXCI6IFwie3sgJGpzb24uY29ydGVzX2RldmVsb3BtZW50X2ludGVsbGlnZW5jZS52ZWxvY2l0eV9tZXRyaWNzLmRldmVsb3BtZW50X3BhY2UgfX1cIixcbiAgICBcInByb2plY3RfbW9tZW50dW1cIjogXCJ7eyAkanNvbi5jb3J0ZXNfZGV2ZWxvcG1lbnRfaW50ZWxsaWdlbmNlLnByb2plY3RfbW9tZW50dW0gfX1cIixcbiAgICBcInRlYW1fc2l6ZVwiOiB7eyAkanNvbi5jb3J0ZXNfZGV2ZWxvcG1lbnRfaW50ZWxsaWdlbmNlLnZlbG9jaXR5X21ldHJpY3MuYWN0aXZlX2RldmVsb3BlcnMgfX1cbiAgfSxcbiAgXCJ0ZXN0aW5nX2ludGVsbGlnZW5jZVwiOiB7XG4gICAgXCJ0ZXN0aW5nX21hdHVyaXR5XCI6IFwie3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLnRlc3RpbmdfbWF0dXJpdHkgfX1cIixcbiAgICBcImRlcGxveW1lbnRfY29uZmlkZW5jZVwiOiBcInt7ICRqc29uLmNvcnRlc190ZXN0aW5nX2ludGVsbGlnZW5jZS5kZXBsb3ltZW50X2NvbmZpZGVuY2UgfX1cIixcbiAgICBcImNsaWVudF90ZXN0X2NvdmVyYWdlXCI6IFwie3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0X2NvdmVyYWdlLmNsaWVudF9tYW5hZ2VtZW50X2NvdmVyYWdlIHx8ICd1bmtub3duJyB9fVwiLFxuICAgIFwic2Vzc2lvbl90ZXN0X2NvdmVyYWdlXCI6IFwie3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0X2NvdmVyYWdlLnNlc3Npb25fbWFuYWdlbWVudF9jb3ZlcmFnZSB8fCAndW5rbm93bicgfX1cIixcbiAgICBcImFuYWx5dGljc190ZXN0X2NvdmVyYWdlXCI6IFwie3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLmNvcnRlc190ZXN0X2NvdmVyYWdlLmFuYWx5dGljc19jb3ZlcmFnZSB8fCAndW5rbm93bicgfX1cIlxuICB9LFxuICBcInBlcmZvcm1hbmNlX2ludGVsbGlnZW5jZVwiOiB7XG4gICAgXCJ1c2VyX2V4cGVyaWVuY2Vfc2NvcmVcIjoge3sgJGpzb24uY29ydGVzX3BlcmZvcm1hbmNlX2ludGVsbGlnZW5jZS51c2VyX2V4cGVyaWVuY2Vfc2NvcmUgfX0sXG4gICAgXCJ0b3RhbF9hc3NldF9zaXplX21iXCI6IHt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuYXNzZXRfbWV0cmljcy50b3RhbF9zaXplX21iIH19LFxuICAgIFwibGFyZ2VfYXNzZXRzX2NvdW50XCI6IHt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuYXNzZXRfbWV0cmljcy5sYXJnZV9hc3NldHNfY291bnQgfX0sXG4gICAgXCJlc3RpbWF0ZWRfc2F2aW5nc1wiOiBcInt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuZXN0aW1hdGVkX3NhdmluZ3MgfX1cIlxuICB9LFxuICBcImdpdGh1Yl9pbnRlZ3JhdGlvblwiOiB7XG4gICAgXCJyZXBvc2l0b3J5XCI6IFwiTW9MaW5lc0dpdEh1Yi9Db3J0ZXNcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Nb0xpbmVzR2l0SHViL0NvcnRlc1wiLFxuICAgIFwiaW50ZWdyYXRpb25fcmVhZHlcIjogdHJ1ZVxuICB9LFxuICBcImNsYXVkZV9jYW5faGVscF93aXRoXCI6IFtcbiAgICBcIlN3aWZ0L1N3aWZ0VUkgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZ1wiLFxuICAgIFwiaU9TIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvblwiLCBcbiAgICBcIlRlc3QgZGV2ZWxvcG1lbnQgYW5kIGNvdmVyYWdlIGltcHJvdmVtZW50XCIsXG4gICAgXCJHaXRIdWIgd29ya2Zsb3cgc2V0dXBcIixcbiAgICBcIkNvZGUgcmV2aWV3IGFuZCBvcHRpbWl6YXRpb25cIixcbiAgICBcIkFwcCBTdG9yZSBwcmVwYXJhdGlvblwiXG4gIF0sXG4gIFwiZXN0aW1hdGVkX3RpbWVsaW5lXCI6IHtcbiAgICBcInRvX212cFwiOiBcInt7ICRqc29uLmNvcnRlc19hY3Rpb25fcGxhbi5lc3RpbWF0ZWRfdGltZWxpbmUudG9fbXZwIHx8ICcyLTMgd2Vla3MnIH19XCIsXG4gICAgXCJ0b19hcHBfc3RvcmVcIjogXCJ7eyAkanNvbi5jb3J0ZXNfYWN0aW9uX3BsYW4uZXN0aW1hdGVkX3RpbWVsaW5lLnRvX2FwcF9zdG9yZSB8fCAnNC02IHdlZWtzJyB9fVwiLFxuICAgIFwidG9fbW9uZXRpemF0aW9uXCI6IFwie3sgJGpzb24uY29ydGVzX2FjdGlvbl9wbGFuLmVzdGltYXRlZF90aW1lbGluZS50b19tb25ldGl6YXRpb24gfHwgJzYtOCB3ZWVrcycgfX1cIlxuICB9XG59XG5DTEFVREVfRU9GXG5lY2hvIFwi4pyFIGNsYXVkZS1jb3J0ZXMtY29udGV4dF8kVElNRVNUQU1QLmpzb24gc2F2ZWRcIiAmJiBscyAtbGEgY2xhdWRlLWNvcnRlcy1jb250ZXh0XyRUSU1FU1RBTVAuanNvbiAmJiBlY2hvIFwiRmlsZSBzaXplOiAkKHdjIC1jIDwgY2xhdWRlLWNvcnRlcy1jb250ZXh0XyRUSU1FU1RBTVAuanNvbikgYnl0ZXNcIiIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiU2F2ZSBDbGF1ZGUgQ29udGV4dCIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmV4ZWN1dGVDb21tYW5kIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDEwMDAsCiAgICAgICAgODIwCiAgICAgIF0sCiAgICAgICJpZCI6ICIzMGEyYjFiZi1jYmNjLTQ2ZDMtYWQ5My04OThhOWQ0ZGYzNWQiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJlY2hvICfwn5OBIFNhdmluZyBleGVjdXRpdmUtY29ydGVzLWRhc2hib2FyZCB3aXRoIHRpbWVzdGFtcC4uLicgJiYgbWtkaXIgLXAgL2RhdGEvY29ydGVzL2NvcnRlcy1jb250ZXh0ICYmIGNkIC9kYXRhL2NvcnRlcy9jb3J0ZXMtY29udGV4dCAmJiBUSU1FU1RBTVA9JChkYXRlICsnJWQtJW0tJVlfJUg6JU06JVMnKSAmJiBjYXQgPiBleGVjdXRpdmUtY29ydGVzLWRhc2hib2FyZF8kVElNRVNUQU1QLmpzb24gPDwgJ0RBU0hCT0FSRF9FT0YnXG57XG4gIFwiZ2VuZXJhdGVkXCI6IFwie3sgJGpzb24ubWV0YWRhdGEuZ2VuZXJhdGVkIH19XCIsXG4gIFwicHJvamVjdFwiOiBcInt7ICRqc29uLm1ldGFkYXRhLnByb2plY3ROYW1lIH19XCIsXG4gIFwidmVyc2lvblwiOiBcInt7ICRqc29uLm1ldGFkYXRhLnZlcnNpb24gfX1cIixcbiAgXCJjb250YWluZXJfaWRcIjogXCJ7eyAkanNvbi5tZXRhZGF0YS5jb250YWluZXJfaWQgfX1cIixcbiAgXCJwYXRoc1wiOiB7XG4gICAgXCJwcm9qZWN0X3BhdGhcIjogXCJ7eyAkanNvbi5tZXRhZGF0YS5wcm9qZWN0X3BhdGggfX1cIixcbiAgICBcImNvbnRleHRfcGF0aFwiOiBcInt7ICRqc29uLm1ldGFkYXRhLmNvbnRleHRfcGF0aCB9fVwiLFxuICAgIFwibWFjX2Rlc3RpbmF0aW9uXCI6IFwie3sgJGpzb24ubWV0YWRhdGEubWFjX2Rlc3RpbmF0aW9uIH19XCJcbiAgfSxcbiAgXCJleGVjdXRpdmVfc3VtbWFyeVwiOiB7XG4gICAgXCJtb25ldGl6YXRpb25fcmVhZGluZXNzXCI6IFwie3sgJGpzb24uY29ydGVzX2J1c2luZXNzX2ludGVsbGlnZW5jZS5tb25ldGl6YXRpb25fcmVhZGluZXNzIH19XCIsXG4gICAgXCJtb25ldGl6YXRpb25fc2NvcmVcIjoge3sgJGpzb24uY29ydGVzX2J1c2luZXNzX2ludGVsbGlnZW5jZS5tb25ldGl6YXRpb25fc2NvcmUgfX0sXG4gICAgXCJhcHBfc3RvcmVfcmVhZGluZXNzXCI6IFwie3sgJGpzb24uY29ydGVzX3BlcmZvcm1hbmNlX2ludGVsbGlnZW5jZS5hcHBfc3RvcmVfcmVhZGluZXNzIH19XCIsXG4gICAgXCJkZXBsb3ltZW50X2NvbmZpZGVuY2VcIjogXCJ7eyAkanNvbi5jb3J0ZXNfdGVzdGluZ19pbnRlbGxpZ2VuY2UuZGVwbG95bWVudF9jb25maWRlbmNlIH19XCIsXG4gICAgXCJpb3Nfb3B0aW1pemF0aW9uX3Njb3JlXCI6IHt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuaW9zX29wdGltaXphdGlvbl9zY29yZSB9fSxcbiAgICBcImRldmVsb3BtZW50X3BhY2VcIjogXCJ7eyAkanNvbi5jb3J0ZXNfZGV2ZWxvcG1lbnRfaW50ZWxsaWdlbmNlLnZlbG9jaXR5X21ldHJpY3MuZGV2ZWxvcG1lbnRfcGFjZSB9fVwiXG4gIH0sXG4gIFwidGVjaG5pY2FsX21ldHJpY3NcIjoge1xuICAgIFwidG90YWxfZmlsZXNcIjoge3sgJGpzb24uY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlLmZpbGVfbWV0cmljcy50b3RhbF9maWxlcyB9fSxcbiAgICBcInN3aWZ0X2ZpbGVzXCI6IHt7ICRqc29uLmNvcnRlc19wcm9qZWN0X2ludGVsbGlnZW5jZS5maWxlX21ldHJpY3Muc3dpZnRfZmlsZXMgfX0sXG4gICAgXCJ0ZXN0X2ZpbGVzXCI6IHt7ICRqc29uLmNvcnRlc190ZXN0aW5nX2ludGVsbGlnZW5jZS50ZXN0X21ldHJpY3MudG90YWxfdGVzdF9maWxlcyB9fSxcbiAgICBcInRvdGFsX2Fzc2V0c1wiOiB7eyAkanNvbi5jb3J0ZXNfcGVyZm9ybWFuY2VfaW50ZWxsaWdlbmNlLmFzc2V0X21ldHJpY3MudG90YWxfYXNzZXRzIH19LFxuICAgIFwidG90YWxfZGVwZW5kZW5jaWVzXCI6IHt7ICRqc29uLmNvcnRlc19kZXBlbmRlbmN5X2ludGVsbGlnZW5jZS5kZXBlbmRlbmN5X21ldHJpY3MudG90YWxfZGVwZW5kZW5jaWVzIH19LFxuICAgIFwiY29tbWl0c19sYXN0XzMwX2RheXNcIjoge3sgJGpzb24uY29ydGVzX2RldmVsb3BtZW50X2ludGVsbGlnZW5jZS52ZWxvY2l0eV9tZXRyaWNzLmNvbW1pdHNfbGFzdF8zMF9kYXlzIH19XG4gIH0sXG4gIFwiZ2l0aHViX2luZm9cIjoge1xuICAgIFwicmVwb3NpdG9yeVwiOiBcIk1vTGluZXNHaXRIdWIvQ29ydGVzXCIsXG4gICAgXCJvd25lclwiOiBcIk1vTGluZXNHaXRIdWJcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Nb0xpbmVzR2l0SHViL0NvcnRlc1wiLFxuICAgIFwidG9rZW5fY29uZmlndXJlZFwiOiB0cnVlXG4gIH0sXG4gIFwibGF1bmNoX3JlYWRpbmVzc19jcml0ZXJpYVwiOiB7XG4gICAgXCJwcm9qZWN0X3N0cnVjdHVyZVwiOiB7eyAkanNvbi5jb3J0ZXNfYnVzaW5lc3NfaW50ZWxsaWdlbmNlLmxhdW5jaF9yZWFkaW5lc3NfY3JpdGVyaWEucHJvamVjdF9zdHJ1Y3R1cmUgfX0sXG4gICAgXCJpb3NfYXJjaGl0ZWN0dXJlXCI6IHt7ICRqc29uLmNvcnRlc19idXNpbmVzc19pbnRlbGxpZ2VuY2UubGF1bmNoX3JlYWRpbmVzc19jcml0ZXJpYS5pb3NfYXJjaGl0ZWN0dXJlIH19LFxuICAgIFwidGVzdGluZ19jb3ZlcmFnZVwiOiB7eyAkanNvbi5jb3J0ZXNfYnVzaW5lc3NfaW50ZWxsaWdlbmNlLmxhdW5jaF9yZWFkaW5lc3NfY3JpdGVyaWEudGVzdGluZ19jb3ZlcmFnZSB9fSxcbiAgICBcInBlcmZvcm1hbmNlX29wdGltaXplZFwiOiB7eyAkanNvbi5jb3J0ZXNfYnVzaW5lc3NfaW50ZWxsaWdlbmNlLmxhdW5jaF9yZWFkaW5lc3NfY3JpdGVyaWEucGVyZm9ybWFuY2Vfb3B0aW1pemVkIH19LFxuICAgIFwiYXBwX3N0b3JlX3JlYWR5XCI6IHt7ICRqc29uLmNvcnRlc19idXNpbmVzc19pbnRlbGxpZ2VuY2UubGF1bmNoX3JlYWRpbmVzc19jcml0ZXJpYS5hcHBfc3RvcmVfcmVhZHkgfX1cbiAgfSxcbiAgXCJlc3RpbWF0ZWRfdGltZWxpbmVfdG9fbGF1bmNoXCI6IFwie3sgJGpzb24uY29ydGVzX2FjdGlvbl9wbGFuLmVzdGltYXRlZF90aW1lbGluZS50b19hcHBfc3RvcmUgfHwgJzQtNiB3ZWVrcycgfX1cIixcbiAgXCJzZXR1cF9jb21wbGV0ZVwiOiB0cnVlXG59XG5EQVNIQk9BUkRfRU9GXG5lY2hvIFwi4pyFIGV4ZWN1dGl2ZS1jb3J0ZXMtZGFzaGJvYXJkXyRUSU1FU1RBTVAuanNvbiBzYXZlZFwiICYmIGxzIC1sYSBleGVjdXRpdmUtY29ydGVzLWRhc2hib2FyZF8kVElNRVNUQU1QLmpzb24gJiYgZWNobyBcIkZpbGUgc2l6ZTogJCh3YyAtYyA8IGV4ZWN1dGl2ZS1jb3J0ZXMtZGFzaGJvYXJkXyRUSU1FU1RBTVAuanNvbikgYnl0ZXNcIiIKICAgICAgfSwKICAgICAgIm5hbWUiOiAiU2F2ZSBFeGVjdXRpdmUgRGFzaGJvYXJkIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZXhlY3V0ZUNvbW1hbmQiLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgMTAwMCwKICAgICAgICAxMDIwCiAgICAgIF0sCiAgICAgICJpZCI6ICIyZTgzMDYzNC0zNzUwLTRhZGQtOTIzMS04MmI1NGVmMTRmMTQiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJlY2hvICfwn5OCIE1hbmFnaW5nIGhpc3RvcmljYWwgZmlsZXMuLi4nICYmIGNkIC9kYXRhL2NvcnRlcy9jb3J0ZXMtY29udGV4dCAmJiBUT0RBWT0kKGRhdGUgKyclZC0lbS0lWScpICYmIEhJU1RPUklDX0RJUj1cIkhpc3RvcmljbyBkZWwgRMOtYSAkVE9EQVlcIiAmJiBta2RpciAtcCBcIiRISVNUT1JJQ19ESVJcIiAmJiBlY2hvIFwi8J+TgSBDcmVhdGVkOiAkSElTVE9SSUNfRElSXCIgJiYgZWNobyAnJyAmJiBlY2hvICfwn5SEIE1vdmluZyBvbGQgZmlsZXMgdG8gaGlzdG9yaWMgZm9sZGVyLi4uJyAmJiBmb3IgcHJlZml4IGluIHVsdGltYXRlLWNvcnRlcy1jb250ZXh0IGNsYXVkZS1jb3J0ZXMtY29udGV4dCBleGVjdXRpdmUtY29ydGVzLWRhc2hib2FyZDsgZG8gTEFURVNUPSQobHMgLTF0ICR7cHJlZml4fV8qLmpzb24gMj4vZGV2L251bGwgfCBoZWFkIC0xKTsgaWYgWyAhIC16IFwiJExBVEVTVFwiIF07IHRoZW4gZWNobyBcIvCfk4wgS2VlcGluZyBsYXRlc3Q6ICRMQVRFU1RcIjsgbHMgLTF0ICR7cHJlZml4fV8qLmpzb24gMj4vZGV2L251bGwgfCB0YWlsIC1uICsyIHwgd2hpbGUgcmVhZCBvbGRmaWxlOyBkbyBpZiBbIC1mIFwiJG9sZGZpbGVcIiBdOyB0aGVuIG12IFwiJG9sZGZpbGVcIiBcIiRISVNUT1JJQ19ESVIvXCIgJiYgZWNobyBcIvCfk6YgTW92ZWQgdG8gaGlzdG9yaWM6ICRvbGRmaWxlXCI7IGZpOyBkb25lOyBmaTsgZG9uZSAmJiBlY2hvICcnICYmIGVjaG8gJ/Cfl5HvuI8gQ2xlYW5pbmcgaGlzdG9yaWMgZm9sZGVycyBvbGRlciB0aGFuIDMwIGRheXMuLi4nICYmIGZpbmQgLiAtbWF4ZGVwdGggMSAtdHlwZSBkIC1uYW1lICdIaXN0b3JpY28gZGVsIETDrWEgKicgLW10aW1lICszMCAtZXhlYyBybSAtcmYge30gXFw7IC1leGVjIGVjaG8gJ/Cfl5HvuI8gRGVsZXRlZCBvbGQgaGlzdG9yaWMgZm9sZGVyOiB7fScgXFw7IDI+L2Rldi9udWxsICYmIGVjaG8gJycgJiYgZWNobyAn8J+TiyBDdXJyZW50IHN0cnVjdHVyZTonICYmIGxzIC1sYSAmJiBlY2hvICcnICYmIGVjaG8gJ/Cfk4IgSGlzdG9yaWMgZm9sZGVyczonICYmIGxzIC1sYSBIaXN0b3JpY29cXCBkZWxcXCBEw61hXFwgKi8gMj4vZGV2L251bGwgfHwgZWNobyAnTm8gaGlzdG9yaWMgZm9sZGVycyB5ZXQnIgogICAgICB9LAogICAgICAibmFtZSI6ICJNYW5hZ2UgSGlzdG9yaWNhbCBGaWxlcyIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmV4ZWN1dGVDb21tYW5kIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIDEyMjAsCiAgICAgICAgODIwCiAgICAgIF0sCiAgICAgICJpZCI6ICJkMDI1MjE4My00YWU0LTQ0OGQtODdlZC1iZWRiNDJlNDk0OTUiCiAgICB9LAogICAgewogICAgICAicGFyYW1ldGVycyI6IHsKICAgICAgICAiY29tbWFuZCI6ICJlY2hvICfwn46vID09PSBDT1JURVMgSU5URUxMSUdFTkNFIEVOR0lORSAtIFBST0RVQ1RJT04gQ09NUExFVEUgPT09JyAmJiBlY2hvICcnICYmIGVjaG8gJ/Cfk4ogQ09SVEVTIEFOQUxZU0lTIFNVTU1BUlk6JyAmJiBlY2hvICcgICBQcm9qZWN0OiB7eyAkanNvbi5tZXRhZGF0YS5wcm9qZWN0TmFtZSB9fScgJiYgZWNobyAnICAgUmVwb3NpdG9yeTogaHR0cHM6Ly9naXRodWIuY29tL01vTGluZXNHaXRIdWIvQ29ydGVzJyAmJiBlY2hvICcgICBNb25ldGl6YXRpb24gUmVhZGluZXNzOiB7eyAkanNvbi5jb3J0ZXNfYnVzaW5lc3NfaW50ZWxsaWdlbmNlLm1vbmV0aXphdGlvbl9yZWFkaW5lc3MgfX0nICYmIGVjaG8gJyAgIGlPUyBPcHRpbWl6YXRpb24gU2NvcmU6IHt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuaW9zX29wdGltaXphdGlvbl9zY29yZSB9fSUnICYmIGVjaG8gJyAgIEZpbGVzIERldGVjdGVkOiB7eyAkanNvbi5jb3J0ZXNfcHJvamVjdF9pbnRlbGxpZ2VuY2UuZmlsZV9tZXRyaWNzLnRvdGFsX2ZpbGVzIH19JyAmJiBlY2hvICcgICBTd2lmdCBGaWxlczoge3sgJGpzb24uY29ydGVzX3Byb2plY3RfaW50ZWxsaWdlbmNlLmZpbGVfbWV0cmljcy5zd2lmdF9maWxlcyB9fScgJiYgZWNobyAnICAgVGVzdCBGaWxlczoge3sgJGpzb24uY29ydGVzX3Rlc3RpbmdfaW50ZWxsaWdlbmNlLnRlc3RfbWV0cmljcy50b3RhbF90ZXN0X2ZpbGVzIH19JyAmJiBlY2hvICcgICBBcHAgU3RvcmUgUmVhZHk6IHt7ICRqc29uLmNvcnRlc19wZXJmb3JtYW5jZV9pbnRlbGxpZ2VuY2UuYXBwX3N0b3JlX3JlYWRpbmVzcyB9fScgJiYgZWNobyAnJyAmJiBlY2hvICfwn5OCIEN1cnJlbnQgdGltZXN0YW1wZWQgZmlsZXMgKGZvcm1hdDogZGQtTU0tWVlZWV9ISDpNTTpTUyk6JyAmJiBscyAtbGEgL2RhdGEvY29ydGVzL2NvcnRlcy1jb250ZXh0LypfJChkYXRlICsnJWQtJW0tJVknKV8qLmpzb24gMj4vZGV2L251bGwgfHwgZWNobyAnQ3VycmVudCBmaWxlcyBiZWluZyBjcmVhdGVkLi4uJyAmJiBlY2hvICcnICYmIGVjaG8gJ/Cfk4IgSGlzdG9yaWNhbCBtYW5hZ2VtZW50IGFjdGl2ZTonICYmIGVjaG8gJyAgIC0gQXV0b21hdGljIGhpc3RvcmljIGZvbGRlciBjcmVhdGlvbjogXCJIaXN0b3JpY28gZGVsIETDrWEgZGQtTU0tWVlZWVwiJyAmJiBlY2hvICcgICAtIE9ubHkgbGF0ZXN0IHZlcnNpb24ga2VwdCBpbiBtYWluIGZvbGRlcicgJiYgZWNobyAnICAgLSBBdXRvLWNsZWFudXA6IEhpc3RvcmljIGZvbGRlcnMgPjMwIGRheXMgZGVsZXRlZCcgJiYgZWNobyAnJyAmJiBlY2hvICfwn5OmIFByZXBhcmluZyBmaW5hbCBleHBvcnQgdG8gTWFjLi4uJyAmJiBlY2hvICcnICYmIENPTlRBSU5FUl9JRD0kKGhvc3RuYW1lKSAmJiBlY2hvIFwi8J+agCBDT1BZIENPTU1BTkQgRk9SIFlPVVIgTUFDOlwiICYmIGVjaG8gXCJkb2NrZXIgY3AgXFwkQ09OVEFJTkVSX0lEOi9kYXRhL2NvcnRlcy9jb3J0ZXMtY29udGV4dC8gL1VzZXJzL21vbGluZXNtYWMvRG9jdW1lbnRzL0NvcnRlcy9cIiAmJiBlY2hvICcnICYmIGVjaG8gJ/CfkqEgQWxsIGZpbGVzIChjdXJyZW50ICsgaGlzdG9yaWMgZm9sZGVycykgd2lsbCBiZSBjb3BpZWQhJyAmJiBlY2hvICcnICYmIGVjaG8gJ/CfkJkgR2l0SHViIFJlcG9zaXRvcnk6IGh0dHBzOi8vZ2l0aHViLmNvbS9Nb0xpbmVzR2l0SHViL0NvcnRlcycgJiYgZWNobyAn8J+UkSBUb2tlbiBjb25maWd1cmVkIGZvciBhdXRvbWF0ZWQgd29ya2Zsb3dzJyAmJiBlY2hvICcnICYmIGVjaG8gJ+KchSBTY2hlZHVsZWQgYW5hbHlzaXMgZXZlcnkgMTAgbWludXRlcyB3aXRoIGludGVsbGlnZW50IGhpc3RvcmljYWwgbWFuYWdlbWVudCEnIgogICAgICB9LAogICAgICAibmFtZSI6ICJGaW5hbCBFeHBvcnQgSW5zdHJ1Y3Rpb25zIiwKICAgICAgInR5cGUiOiAibjhuLW5vZGVzLWJhc2UuZXhlY3V0ZUNvbW1hbmQiLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgMTQ0MCwKICAgICAgICA4MjAKICAgICAgXSwKICAgICAgImlkIjogImE5YWRjOGNkLWY2MTUtNGE5Zi1hZGU2LWVmZDA1MWRkOGJiYiIKICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJodHRwTWV0aG9kIjogIlBPU1QiLAogICAgICAgICJwYXRoIjogInhjb2RlLWNsaSIsCiAgICAgICAgIm9wdGlvbnMiOiB7fQogICAgICB9LAogICAgICAiaWQiOiAiMjQ3MzhjZmEtOTczNS00N2QwLWIwYWItMzY3YTI4Y2ExODhjIiwKICAgICAgIm5hbWUiOiAiWGNvZGUgQ0xJIFdlYmhvb2siLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS53ZWJob29rIiwKICAgICAgInR5cGVWZXJzaW9uIjogMSwKICAgICAgInBvc2l0aW9uIjogWwogICAgICAgIC0xODAsCiAgICAgICAgOTQwCiAgICAgIF0sCiAgICAgICJ3ZWJob29rSWQiOiAiMzViOWIxMzEtNTJmNi00N2JkLTgyNGUtZWFiYTdjMDVhYjhhIgogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImpzQ29kZSI6ICIvLyBYY29kZSBDTEkgQ29tbWFuZCBQYXJzZXIgJiBGb3JtYXR0ZXIgZm9yIE1DUCBDbGF1ZGVcbmNvbnN0IGlucHV0ID0gJGlucHV0LmFsbCgpO1xuY29uc3QgcmVxdWVzdERhdGEgPSBpbnB1dFswXS5qc29uO1xuXG4vLyBDb21wbGV0ZSBYY29kZSBDTEkgQ29tbWFuZHMgVG9vbGJveFxuY29uc3QgeGNvZGVDb21tYW5kcyA9IHtcbiAgYnVpbGQ6IHtcbiAgICBcImJ1aWxkX3Byb2plY3RcIjogXCJ4Y29kZWJ1aWxkIC1wcm9qZWN0IHt7cHJvamVjdF9uYW1lfX0ueGNvZGVwcm9qIC1zY2hlbWUge3tzY2hlbWV9fSAtY29uZmlndXJhdGlvbiB7e2NvbmZpZ319IGJ1aWxkXCIsXG4gICAgXCJidWlsZF93b3Jrc3BhY2VcIjogXCJ4Y29kZWJ1aWxkIC13b3Jrc3BhY2Uge3t3b3Jrc3BhY2V9fS54Y3dvcmtzcGFjZSAtc2NoZW1lIHt7c2NoZW1lfX0gLWNvbmZpZ3VyYXRpb24ge3tjb25maWd9fSBidWlsZFwiLFxuICAgIFwiYnVpbGRfZm9yX2RldmljZVwiOiBcInhjb2RlYnVpbGQgLXByb2plY3Qge3twcm9qZWN0X25hbWV9fS54Y29kZXByb2ogLXNjaGVtZSB7e3NjaGVtZX19IC1jb25maWd1cmF0aW9uIFJlbGVhc2UgLWFyY2ggYXJtNjQgYnVpbGRcIixcbiAgICBcImJ1aWxkX2Zvcl9zaW11bGF0b3JcIjogXCJ4Y29kZWJ1aWxkIC1wcm9qZWN0IHt7cHJvamVjdF9uYW1lfX0ueGNvZGVwcm9qIC1zY2hlbWUge3tzY2hlbWV9fSAtY29uZmlndXJhdGlvbiBEZWJ1ZyAtYXJjaCB4ODZfNjQgLXNkayBpcGhvbmVzaW11bGF0b3IgYnVpbGRcIixcbiAgICBcImNsZWFuX2J1aWxkXCI6IFwieGNvZGVidWlsZCBjbGVhbiAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX1cIixcbiAgICBcImNsZWFuX3dvcmtzcGFjZVwiOiBcInhjb2RlYnVpbGQgY2xlYW4gLXdvcmtzcGFjZSB7e3dvcmtzcGFjZX19Lnhjd29ya3NwYWNlIC1zY2hlbWUge3tzY2hlbWV9fVwiLFxuICAgIFwiYnVpbGRfc2V0dGluZ3NcIjogXCJ4Y29kZWJ1aWxkIC1wcm9qZWN0IHt7cHJvamVjdF9uYW1lfX0ueGNvZGVwcm9qIC10YXJnZXQge3t0YXJnZXR9fSAtc2hvd0J1aWxkU2V0dGluZ3NcIixcbiAgICBcImRlcml2ZWRfZGF0YV9jbGVhblwiOiBcInJtIC1yZiB+L0xpYnJhcnkvRGV2ZWxvcGVyL1hjb2RlL0Rlcml2ZWREYXRhXCJcbiAgfSxcbiAgcHJvamVjdDoge1xuICAgIFwibGlzdF9zY2hlbWVzXCI6IFwieGNvZGVidWlsZCAtbGlzdCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvalwiLFxuICAgIFwibGlzdF93b3Jrc3BhY2Vfc2NoZW1lc1wiOiBcInhjb2RlYnVpbGQgLWxpc3QgLXdvcmtzcGFjZSB7e3dvcmtzcGFjZX19Lnhjd29ya3NwYWNlXCIsXG4gICAgXCJzaG93X2Rlc3RpbmF0aW9uc1wiOiBcInhjb2RlYnVpbGQgLXNob3dkZXN0aW5hdGlvbnMgLXByb2plY3Qge3twcm9qZWN0X25hbWV9fS54Y29kZXByb2ogLXNjaGVtZSB7e3NjaGVtZX19XCIsXG4gICAgXCJwcm9qZWN0X2luZm9cIjogXCJ4Y29kZWJ1aWxkIC1wcm9qZWN0IHt7cHJvamVjdF9uYW1lfX0ueGNvZGVwcm9qIC1saXN0XCIsXG4gICAgXCJ3b3Jrc3BhY2VfaW5mb1wiOiBcInhjb2RlYnVpbGQgLXdvcmtzcGFjZSB7e3dvcmtzcGFjZX19Lnhjd29ya3NwYWNlIC1saXN0XCIsXG4gICAgXCJzZGtfaW5mb1wiOiBcInhjb2RlYnVpbGQgLXNob3dzZGtzXCIsXG4gICAgXCJ2ZXJzaW9uX2luZm9cIjogXCJ4Y29kZWJ1aWxkIC12ZXJzaW9uXCJcbiAgfSxcbiAgc2ltdWxhdG9yOiB7XG4gICAgXCJsaXN0X3NpbXVsYXRvcnNcIjogXCJ4Y3J1biBzaW1jdGwgbGlzdCBkZXZpY2VzXCIsXG4gICAgXCJsaXN0X2RldmljZV90eXBlc1wiOiBcInhjcnVuIHNpbWN0bCBsaXN0IGRldmljZXR5cGVzXCIsXG4gICAgXCJsaXN0X3J1bnRpbWVzXCI6IFwieGNydW4gc2ltY3RsIGxpc3QgcnVudGltZXNcIixcbiAgICBcImJvb3Rfc2ltdWxhdG9yXCI6IFwieGNydW4gc2ltY3RsIGJvb3Qge3tkZXZpY2VfaWR9fVwiLFxuICAgIFwic2h1dGRvd25fc2ltdWxhdG9yXCI6IFwieGNydW4gc2ltY3RsIHNodXRkb3duIHt7ZGV2aWNlX2lkfX1cIixcbiAgICBcImVyYXNlX3NpbXVsYXRvclwiOiBcInhjcnVuIHNpbWN0bCBlcmFzZSB7e2RldmljZV9pZH19XCIsXG4gICAgXCJpbnN0YWxsX2FwcFwiOiBcInhjcnVuIHNpbWN0bCBpbnN0YWxsIHt7ZGV2aWNlX2lkfX0ge3thcHBfcGF0aH19XCIsXG4gICAgXCJ1bmluc3RhbGxfYXBwXCI6IFwieGNydW4gc2ltY3RsIHVuaW5zdGFsbCB7e2RldmljZV9pZH19IHt7YnVuZGxlX2lkfX1cIixcbiAgICBcImxhdW5jaF9hcHBcIjogXCJ4Y3J1biBzaW1jdGwgbGF1bmNoIHt7ZGV2aWNlX2lkfX0ge3tidW5kbGVfaWR9fVwiLFxuICAgIFwidGVybWluYXRlX2FwcFwiOiBcInhjcnVuIHNpbWN0bCB0ZXJtaW5hdGUge3tkZXZpY2VfaWR9fSB7e2J1bmRsZV9pZH19XCIsXG4gICAgXCJvcGVuX3NpbXVsYXRvclwiOiBcIm9wZW4gLWEgU2ltdWxhdG9yXCIsXG4gICAgXCJzY3JlZW5zaG90XCI6IFwieGNydW4gc2ltY3RsIGlvIHt7ZGV2aWNlX2lkfX0gc2NyZWVuc2hvdCB7e2ZpbGVuYW1lfX1cIixcbiAgICBcInJlY29yZF92aWRlb1wiOiBcInhjcnVuIHNpbWN0bCBpbyB7e2RldmljZV9pZH19IHJlY29yZFZpZGVvIHt7ZmlsZW5hbWV9fVwiLFxuICAgIFwiY3JlYXRlX2RldmljZVwiOiBcInhjcnVuIHNpbWN0bCBjcmVhdGUge3tkZXZpY2VfbmFtZX19IHt7ZGV2aWNlX3R5cGV9fSB7e3J1bnRpbWV9fVwiLFxuICAgIFwiZGVsZXRlX2RldmljZVwiOiBcInhjcnVuIHNpbWN0bCBkZWxldGUge3tkZXZpY2VfaWR9fVwiLFxuICAgIFwicmVzZXRfY29udGVudFwiOiBcInhjcnVuIHNpbWN0bCBlcmFzZSBhbGxcIlxuICB9LFxuICBkZXZpY2U6IHtcbiAgICBcImxpc3RfZGV2aWNlc1wiOiBcInhjcnVuIGRldmljZWN0bCBsaXN0IGRldmljZXNcIixcbiAgICBcImRldmljZV9pbmZvXCI6IFwieGNydW4gZGV2aWNlY3RsIGxpc3QgZGV2aWNlcyAtLWpzb25cIixcbiAgICBcImluc3RhbGxfb25fZGV2aWNlXCI6IFwieGNydW4gZGV2aWNlY3RsIGRldmljZSBpbnN0YWxsIGFwcCAtLWRldmljZSB7e2RldmljZV9pZH19IHt7YXBwX3BhdGh9fVwiLFxuICAgIFwibGF1bmNoX29uX2RldmljZVwiOiBcInhjcnVuIGRldmljZWN0bCBkZXZpY2UgcHJvY2VzcyBsYXVuY2ggLS1kZXZpY2Uge3tkZXZpY2VfaWR9fSB7e2J1bmRsZV9pZH19XCIsXG4gICAgXCJkZXZpY2VfbG9nc1wiOiBcInhjcnVuIGRldmljZWN0bCBkZXZpY2UgbG9nIHN0cmVhbSAtLWRldmljZSB7e2RldmljZV9pZH19XCIsXG4gICAgXCJjcmFzaF9sb2dzXCI6IFwieGNydW4gZGV2aWNlY3RsIGRldmljZSBsb2cgY29sbGVjdCAtLWRldmljZSB7e2RldmljZV9pZH19XCIsXG4gICAgXCJkZXZpY2Vfc3lzZGlhZ25vc2VcIjogXCJ4Y3J1biBkZXZpY2VjdGwgZGV2aWNlIHN5c2RpYWdub3NlIC0tZGV2aWNlIHt7ZGV2aWNlX2lkfX1cIixcbiAgICBcInBhaXJfZGV2aWNlXCI6IFwieGNydW4gZGV2aWNlY3RsIGRldmljZSBwYWlyIC0tZGV2aWNlIHt7ZGV2aWNlX2lkfX1cIixcbiAgICBcInVucGFpcl9kZXZpY2VcIjogXCJ4Y3J1biBkZXZpY2VjdGwgZGV2aWNlIHVucGFpciAtLWRldmljZSB7e2RldmljZV9pZH19XCJcbiAgfSxcbiAgYXJjaGl2ZToge1xuICAgIFwiYXJjaGl2ZV9wcm9qZWN0XCI6IFwieGNvZGVidWlsZCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gLWNvbmZpZ3VyYXRpb24gUmVsZWFzZSBhcmNoaXZlIC1hcmNoaXZlUGF0aCB7e2FyY2hpdmVfcGF0aH19XCIsXG4gICAgXCJhcmNoaXZlX3dvcmtzcGFjZVwiOiBcInhjb2RlYnVpbGQgLXdvcmtzcGFjZSB7e3dvcmtzcGFjZX19Lnhjd29ya3NwYWNlIC1zY2hlbWUge3tzY2hlbWV9fSAtY29uZmlndXJhdGlvbiBSZWxlYXNlIGFyY2hpdmUgLWFyY2hpdmVQYXRoIHt7YXJjaGl2ZV9wYXRofX1cIixcbiAgICBcImV4cG9ydF9pcGFcIjogXCJ4Y29kZWJ1aWxkIC1leHBvcnRBcmNoaXZlIC1hcmNoaXZlUGF0aCB7e2FyY2hpdmVfcGF0aH19IC1leHBvcnRQYXRoIHt7ZXhwb3J0X3BhdGh9fSAtZXhwb3J0T3B0aW9uc1BsaXN0IHt7ZXhwb3J0X29wdGlvbnNfcGxpc3R9fVwiLFxuICAgIFwiY3JlYXRlX2V4cG9ydF9vcHRpb25zXCI6IFwiZWNobyAnPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG48IURPQ1RZUEUgcGxpc3QgUFVCTElDIFxcXCItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU5cXFwiIFxcXCJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkXFxcIj5cXG48cGxpc3QgdmVyc2lvbj1cXFwiMS4wXFxcIj5cXG48ZGljdD5cXG4gICAgPGtleT5tZXRob2Q8L2tleT5cXG4gICAgPHN0cmluZz57e21ldGhvZH19PC9zdHJpbmc+XFxuICAgIDxrZXk+dGVhbUlEPC9rZXk+XFxuICAgIDxzdHJpbmc+e3t0ZWFtX2lkfX08L3N0cmluZz5cXG48L2RpY3Q+XFxuPC9wbGlzdD4nID4ge3tleHBvcnRfb3B0aW9uc19wYXRofX1cIixcbiAgICBcInZhbGlkYXRlX2FyY2hpdmVcIjogXCJ4Y29kZWJ1aWxkIC1leHBvcnRBcmNoaXZlIC1hcmNoaXZlUGF0aCB7e2FyY2hpdmVfcGF0aH19IC1leHBvcnRQYXRoIHt7ZXhwb3J0X3BhdGh9fSAtZXhwb3J0T3B0aW9uc1BsaXN0IHt7ZXhwb3J0X29wdGlvbnNfcGxpc3R9fSAtYWxsb3dQcm92aXNpb25pbmdVcGRhdGVzIC1hbGxvd1Byb3Zpc2lvbmluZ0RldmljZVJlZ2lzdHJhdGlvblwiXG4gIH0sXG4gIHRlc3Rpbmc6IHtcbiAgICBcInJ1bl90ZXN0c1wiOiBcInhjb2RlYnVpbGQgdGVzdCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gLWRlc3RpbmF0aW9uICd7e2Rlc3RpbmF0aW9ufX0nXCIsXG4gICAgXCJydW5fdWlfdGVzdHNcIjogXCJ4Y29kZWJ1aWxkIHRlc3QgLXByb2plY3Qge3twcm9qZWN0X25hbWV9fS54Y29kZXByb2ogLXNjaGVtZSB7e3NjaGVtZX19IC1kZXN0aW5hdGlvbiAne3tkZXN0aW5hdGlvbn19JyAtb25seS10ZXN0aW5nOnt7dGFyZ2V0fX1VSVRlc3RzXCIsXG4gICAgXCJydW5fdW5pdF90ZXN0c1wiOiBcInhjb2RlYnVpbGQgdGVzdCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gLWRlc3RpbmF0aW9uICd7e2Rlc3RpbmF0aW9ufX0nIC1vbmx5LXRlc3Rpbmc6e3t0YXJnZXR9fVRlc3RzXCIsXG4gICAgXCJ0ZXN0X3dpdGhvdXRfYnVpbGRpbmdcIjogXCJ4Y29kZWJ1aWxkIHRlc3Qtd2l0aG91dC1idWlsZGluZyAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gLWRlc3RpbmF0aW9uICd7e2Rlc3RpbmF0aW9ufX0nXCIsXG4gICAgXCJidWlsZF9mb3JfdGVzdGluZ1wiOiBcInhjb2RlYnVpbGQgYnVpbGQtZm9yLXRlc3RpbmcgLXByb2plY3Qge3twcm9qZWN0X25hbWV9fS54Y29kZXByb2ogLXNjaGVtZSB7e3NjaGVtZX19IC1kZXN0aW5hdGlvbiAne3tkZXN0aW5hdGlvbn19J1wiLFxuICAgIFwidGVzdF9wYXJhbGxlbFwiOiBcInhjb2RlYnVpbGQgdGVzdCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gLWRlc3RpbmF0aW9uICd7e2Rlc3RpbmF0aW9ufX0nIC1wYXJhbGxlbC10ZXN0aW5nLWVuYWJsZWQgWUVTXCIsXG4gICAgXCJ0ZXN0X3Jlc3VsdHNcIjogXCJ4Y3J1biB4Y3Jlc3VsdHRvb2wgZ2V0IC0tZm9ybWF0IGpzb24gLS1wYXRoIHt7cmVzdWx0X2J1bmRsZV9wYXRofX1cIlxuICB9LFxuICBwcm92aXNpb25pbmc6IHtcbiAgICBcImxpc3RfY2VydGlmaWNhdGVzXCI6IFwic2VjdXJpdHkgZmluZC1pZGVudGl0eSAtdiAtcCBjb2Rlc2lnbmluZ1wiLFxuICAgIFwibGlzdF9wcm92aXNpb25pbmdfcHJvZmlsZXNcIjogXCJscyAtbGEgfi9MaWJyYXJ5L01vYmlsZURldmljZS9Qcm92aXNpb25pbmdcXFxcIFByb2ZpbGVzL1wiLFxuICAgIFwiaW5zdGFsbF9wcm92aXNpb25pbmdfcHJvZmlsZVwiOiBcImNwIHt7cHJvZmlsZV9wYXRofX0gfi9MaWJyYXJ5L01vYmlsZURldmljZS9Qcm92aXNpb25pbmdcXFxcIFByb2ZpbGVzL1wiLFxuICAgIFwiZGVsZXRlX3Byb3Zpc2lvbmluZ19wcm9maWxlXCI6IFwicm0gfi9MaWJyYXJ5L01vYmlsZURldmljZS9Qcm92aXNpb25pbmdcXFxcIFByb2ZpbGVzL3t7cHJvZmlsZV9uYW1lfX1cIixcbiAgICBcInZlcmlmeV9jb2RlX3NpZ25pbmdcIjogXCJjb2Rlc2lnbiAtZHYgLS12ZXJib3NlPTQge3thcHBfcGF0aH19XCIsXG4gICAgXCJjaGVja19lbnRpdGxlbWVudHNcIjogXCJjb2Rlc2lnbiAtZCAtLWVudGl0bGVtZW50cyA6LSB7e2FwcF9wYXRofX1cIixcbiAgICBcInNpZ25fYXBwXCI6IFwiY29kZXNpZ24gLS1mb3JjZSAtLXNpZ24gXFxcInt7Y2VydGlmaWNhdGVfbmFtZX19XFxcIiB7e2FwcF9wYXRofX1cIlxuICB9LFxuICBhbmFseXNpczoge1xuICAgIFwiYW5hbHl6ZV9wcm9qZWN0XCI6IFwieGNvZGVidWlsZCBhbmFseXplIC1wcm9qZWN0IHt7cHJvamVjdF9uYW1lfX0ueGNvZGVwcm9qIC1zY2hlbWUge3tzY2hlbWV9fVwiLFxuICAgIFwiaW5zdHJ1bWVudHNfdHJhY2VcIjogXCJ4Y3J1biBpbnN0cnVtZW50cyAtdCB7e3RlbXBsYXRlfX0gLUQge3t0cmFjZV9maWxlfX0ge3thcHBfcGF0aH19XCIsXG4gICAgXCJtZW1vcnlfZ3JhcGhcIjogXCJ4Y3J1biBsZWFrcyB7e2FwcF9wYXRofX1cIixcbiAgICBcInN0YXRpY19hbmFseXplclwiOiBcInhjcnVuIGNsYW5nIC0tYW5hbHl6ZSB7e3NvdXJjZV9maWxlc319XCIsXG4gICAgXCJkZXBlbmRlbmN5X2dyYXBoXCI6IFwieGNvZGVidWlsZCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtdGFyZ2V0IHt7dGFyZ2V0fX0gLXNob3dCdWlsZFRpbWVTdW1tYXJ5XCIsXG4gICAgXCJidWlsZF90aW1lX2FuYWx5c2lzXCI6IFwieGNvZGVidWlsZCAtcHJvamVjdCB7e3Byb2plY3RfbmFtZX19Lnhjb2RlcHJvaiAtc2NoZW1lIHt7c2NoZW1lfX0gT1RIRVJfU1dJRlRfRkxBR1M9XFxcIi1YZnJvbnRlbmQgLWRlYnVnLXRpbWUtZnVuY3Rpb24tYm9kaWVzXFxcIlwiLFxuICAgIFwiY3Jhc2hfc3ltYm9saWNhdGlvblwiOiBcInhjcnVuIGF0b3MgLW8ge3tkc3ltX3BhdGh9fSAtYXJjaCB7e2FyY2h9fSB7e2FkZHJlc3N9fVwiLFxuICAgIFwiY29uc29sZV9sb2dzXCI6IFwieGNydW4gZGV2aWNlY3RsIGRldmljZSBsb2cgc3RyZWFtIC0tZGV2aWNlIHt7ZGV2aWNlX2lkfX0gLS1zdHlsZSBjb21wYWN0XCJcbiAgfVxufTtcblxuY29uc3QgY29tbWFuZFR5cGUgPSByZXF1ZXN0RGF0YS5jb21tYW5kX3R5cGU7XG5jb25zdCBhY3Rpb24gPSByZXF1ZXN0RGF0YS5hY3Rpb247XG5jb25zdCBwYXJhbWV0ZXJzID0gcmVxdWVzdERhdGEucGFyYW1ldGVycyB8fCB7fTtcblxubGV0IGNvbW1hbmRUZW1wbGF0ZSA9IHhjb2RlQ29tbWFuZHNbY29tbWFuZFR5cGVdPy5bYWN0aW9uXTtcblxuaWYgKCFjb21tYW5kVGVtcGxhdGUpIHtcbiAgcmV0dXJuIFt7XG4gICAganNvbjoge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogYENvbW1hbmQgbm90IGZvdW5kOiAke2NvbW1hbmRUeXBlfS4ke2FjdGlvbn1gLFxuICAgICAgYXZhaWxhYmxlX2NvbW1hbmRzOiBPYmplY3Qua2V5cyh4Y29kZUNvbW1hbmRzKSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgbWNwX3JlYWR5OiB0cnVlXG4gICAgfVxuICB9XTtcbn1cblxubGV0IGZpbmFsQ29tbWFuZCA9IGNvbW1hbmRUZW1wbGF0ZTtcbmZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpKSB7XG4gIGZpbmFsQ29tbWFuZCA9IGZpbmFsQ29tbWFuZC5yZXBsYWNlKG5ldyBSZWdFeHAoYHt7JHtrZXl9fX1gLCAnZycpLCB2YWx1ZSk7XG59XG5cbmNvbnN0IHVucmVwbGFjZWRQYXJhbXMgPSBmaW5hbENvbW1hbmQubWF0Y2goL3t7XFx3K319L2cpO1xuaWYgKHVucmVwbGFjZWRQYXJhbXMpIHtcbiAgcmV0dXJuIFt7XG4gICAganNvbjoge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcnNcIixcbiAgICAgIG1pc3NpbmdfcGFyYW1ldGVyczogdW5yZXBsYWNlZFBhcmFtcy5tYXAocCA9PiBwLnJlcGxhY2UoL1t7fV0vZywgJycpKSxcbiAgICAgIGNvbW1hbmRfdGVtcGxhdGU6IGNvbW1hbmRUZW1wbGF0ZSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgbWNwX3JlYWR5OiB0cnVlXG4gICAgfVxuICB9XTtcbn1cblxucmV0dXJuIFt7XG4gIGpzb246IHtcbiAgICB4Y29kZV9jb21tYW5kOiBmaW5hbENvbW1hbmQsXG4gICAgY29tbWFuZF90eXBlOiBjb21tYW5kVHlwZSxcbiAgICBhY3Rpb246IGFjdGlvbixcbiAgICBwcm9qZWN0X3BhdGg6IHBhcmFtZXRlcnMucHJvamVjdF9wYXRoIHx8IHJlcXVlc3REYXRhLnByb2plY3RfcGF0aCB8fCAnL1VzZXJzLycgKyAkZW52LlVTRVIgKyAnL0RvY3VtZW50cy9Db3J0ZXMnLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIG1jcF9yZWFkeTogdHJ1ZVxuICB9XG59XTsiCiAgICAgIH0sCiAgICAgICJpZCI6ICI3MTNjOTg0Ny04ZTY5LTQzZGMtYmQyMC1mY2Y5NGE3ODZjYTciLAogICAgICAibmFtZSI6ICJDb21tYW5kIFBhcnNlciIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmNvZGUiLAogICAgICAidHlwZVZlcnNpb24iOiAyLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgLTQwMCwKICAgICAgICAxMTYwCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICJjb21tYW5kIjogIj17eyAkanNvbi54Y29kZV9jb21tYW5kIH19IgogICAgICB9LAogICAgICAiaWQiOiAiMDI0ZTIyZTgtZTNiNy00OGMxLWEzYWMtOWQyZTFhYmE3MzY2IiwKICAgICAgIm5hbWUiOiAiWGNvZGUgRXhlY3V0b3IiLAogICAgICAidHlwZSI6ICJuOG4tbm9kZXMtYmFzZS5leGVjdXRlQ29tbWFuZCIsCiAgICAgICJ0eXBlVmVyc2lvbiI6IDEsCiAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAtMjQwLAogICAgICAgIDEyMDAKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgImpzQ29kZSI6ICJjb25zdCBpbnB1dCA9ICRpbnB1dC5hbGwoKTtcbmNvbnN0IGV4ZWN1dGlvblJlc3VsdCA9IGlucHV0WzBdLmpzb247XG5cbmNvbnN0IHN0ZG91dCA9IGV4ZWN1dGlvblJlc3VsdC5zdGRvdXQgfHwgJyc7XG5jb25zdCBzdGRlcnIgPSBleGVjdXRpb25SZXN1bHQuc3RkZXJyIHx8ICcnO1xuY29uc3QgZXhpdENvZGUgPSBleGVjdXRpb25SZXN1bHQuZXhpdENvZGUgfHwgMDtcbmNvbnN0IGNvbW1hbmQgPSBleGVjdXRpb25SZXN1bHQuY29tbWFuZCB8fCAnJztcblxuY29uc3Qgc3VjY2VzcyA9IGV4aXRDb2RlID09PSAwO1xuXG5mdW5jdGlvbiBwYXJzZVhjb2RlT3V0cHV0KG91dHB1dCwgY29tbWFuZCkge1xuICBjb25zdCBwYXJzZWQgPSB7XG4gICAgcmF3OiBvdXRwdXQsXG4gICAgc3RydWN0dXJlZDoge30sXG4gICAgaW5zaWdodHM6IFtdLFxuICAgIHdhcm5pbmdzOiBbXSxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG4gIFxuICBpZiAoY29tbWFuZC5pbmNsdWRlcygneGNvZGVidWlsZCcpKSB7XG4gICAgY29uc3QgYnVpbGRQaGFzZXMgPSBvdXRwdXQubWF0Y2goLz09PSBCVUlMRCBUQVJHRVQgLisgPT09L2cpIHx8IFtdO1xuICAgIHBhcnNlZC5zdHJ1Y3R1cmVkLmJ1aWxkX3BoYXNlcyA9IGJ1aWxkUGhhc2VzO1xuICAgIFxuICAgIGNvbnN0IGNvbXBpbGVkRmlsZXMgPSBvdXRwdXQubWF0Y2goL0NvbXBpbGVDIC4rL2cpIHx8IFtdO1xuICAgIHBhcnNlZC5zdHJ1Y3R1cmVkLmNvbXBpbGVkX2ZpbGVzID0gY29tcGlsZWRGaWxlcy5sZW5ndGg7XG4gICAgXG4gICAgY29uc3QgbGlua0NvbW1hbmRzID0gb3V0cHV0Lm1hdGNoKC9MZCAuKy9nKSB8fCBbXTtcbiAgICBwYXJzZWQuc3RydWN0dXJlZC5saW5rX2NvbW1hbmRzID0gbGlua0NvbW1hbmRzO1xuICAgIFxuICAgIGNvbnN0IGJ1aWxkVGltZSA9IG91dHB1dC5tYXRjaCgvQlVJTEQgU1VDQ0VFREVEIFxcKChcXGQrXFwuXFxkKykgc2Vjb25kc1xcKS8pO1xuICAgIGlmIChidWlsZFRpbWUpIHtcbiAgICAgIHBhcnNlZC5zdHJ1Y3R1cmVkLmJ1aWxkX3RpbWUgPSBwYXJzZUZsb2F0KGJ1aWxkVGltZVsxXSk7XG4gICAgICBwYXJzZWQuaW5zaWdodHMucHVzaChgQnVpbGQgY29tcGxldGVkIGluICR7YnVpbGRUaW1lWzFdfSBzZWNvbmRzYCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHdhcm5pbmdzID0gb3V0cHV0Lm1hdGNoKC93YXJuaW5nOiAuKy9nKSB8fCBbXTtcbiAgICBwYXJzZWQud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgICBcbiAgICBjb25zdCBlcnJvcnMgPSBvdXRwdXQubWF0Y2goL2Vycm9yOiAuKy9nKSB8fCBbXTtcbiAgICBwYXJzZWQuZXJyb3JzID0gZXJyb3JzO1xuICB9XG4gIFxuICBpZiAoY29tbWFuZC5pbmNsdWRlcygnc2ltY3RsJykpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKG91dHB1dC50cmltKCkuc3RhcnRzV2l0aCgneycpIHx8IG91dHB1dC50cmltKCkuc3RhcnRzV2l0aCgnWycpKSB7XG4gICAgICAgIHBhcnNlZC5zdHJ1Y3R1cmVkID0gSlNPTi5wYXJzZShvdXRwdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGV2aWNlTWF0Y2hlcyA9IG91dHB1dC5tYXRjaCgvKFtBLUYwLTktXSspIFxcKCguKz8pXFwpIFxcKCguKz8pXFwpL2cpIHx8IFtdO1xuICAgICAgICBwYXJzZWQuc3RydWN0dXJlZC5kZXZpY2VzID0gZGV2aWNlTWF0Y2hlcy5tYXAobWF0Y2ggPT4ge1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gbWF0Y2gubWF0Y2goLyhbQS1GMC05LV0rKSBcXCgoLis/KVxcKSBcXCgoLis/KVxcKS8pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1ZGlkOiBwYXJ0c1sxXSxcbiAgICAgICAgICAgIG5hbWU6IHBhcnRzWzJdLFxuICAgICAgICAgICAgc3RhdGU6IHBhcnRzWzNdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcGFyc2VkLnN0cnVjdHVyZWQucGFyc2VfZXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgfVxuICB9XG4gIFxuICBpZiAoY29tbWFuZC5pbmNsdWRlcygndGVzdCcpKSB7XG4gICAgY29uc3QgdGVzdFN1bW1hcnkgPSBvdXRwdXQubWF0Y2goL1Rlc3QgU3VpdGUgJyguKyknIChwYXNzZWR8ZmFpbGVkKS9nKSB8fCBbXTtcbiAgICBwYXJzZWQuc3RydWN0dXJlZC50ZXN0X3N1aXRlcyA9IHRlc3RTdW1tYXJ5O1xuICAgIFxuICAgIGNvbnN0IHRlc3RDYXNlcyA9IG91dHB1dC5tYXRjaCgvVGVzdCBDYXNlICctXFxbLitcXF0nIChwYXNzZWR8ZmFpbGVkKS9nKSB8fCBbXTtcbiAgICBwYXJzZWQuc3RydWN0dXJlZC50ZXN0X2Nhc2VzID0gdGVzdENhc2VzLmxlbmd0aDtcbiAgICBcbiAgICBjb25zdCBwYXNzZWRUZXN0cyA9IG91dHB1dC5tYXRjaCgvVGVzdCBDYXNlICctXFxbLitcXF0nIHBhc3NlZC9nKSB8fCBbXTtcbiAgICBjb25zdCBmYWlsZWRUZXN0cyA9IG91dHB1dC5tYXRjaCgvVGVzdCBDYXNlICctXFxbLitcXF0nIGZhaWxlZC9nKSB8fCBbXTtcbiAgICBcbiAgICBwYXJzZWQuc3RydWN0dXJlZC5wYXNzZWRfdGVzdHMgPSBwYXNzZWRUZXN0cy5sZW5ndGg7XG4gICAgcGFyc2VkLnN0cnVjdHVyZWQuZmFpbGVkX3Rlc3RzID0gZmFpbGVkVGVzdHMubGVuZ3RoO1xuICAgIFxuICAgIGlmIChmYWlsZWRUZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICBwYXJzZWQuaW5zaWdodHMucHVzaChgJHtmYWlsZWRUZXN0cy5sZW5ndGh9IHRlc3RzIGZhaWxlZGApO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHBhcnNlZDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJbnNpZ2h0cyhwYXJzZWQsIHN1Y2Nlc3MsIGV4aXRDb2RlKSB7XG4gIGNvbnN0IGluc2lnaHRzID0gWy4uLnBhcnNlZC5pbnNpZ2h0c107XG4gIFxuICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICBpbnNpZ2h0cy5wdXNoKGBDb21tYW5kIGZhaWxlZCB3aXRoIGV4aXQgY29kZSAke2V4aXRDb2RlfWApO1xuICAgIFxuICAgIGlmIChwYXJzZWQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGluc2lnaHRzLnB1c2goYEZvdW5kICR7cGFyc2VkLmVycm9ycy5sZW5ndGh9IGNvbXBpbGF0aW9uIGVycm9yc2ApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZXhpdENvZGUgPT09IDY1KSB7XG4gICAgICBpbnNpZ2h0cy5wdXNoKFwiQnVpbGQgZmFpbGVkIC0gY2hlY2sgY29tcGlsYXRpb24gZXJyb3JzIGFuZCBkZXBlbmRlbmNpZXNcIik7XG4gICAgfVxuICAgIFxuICAgIGlmIChleGl0Q29kZSA9PT0gNzApIHtcbiAgICAgIGluc2lnaHRzLnB1c2goXCJJbnRlcm5hbCBzb2Z0d2FyZSBlcnJvciAtIHRyeSBjbGVhbmluZyBidWlsZCBmb2xkZXJcIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGluc2lnaHRzLnB1c2goXCJDb21tYW5kIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfVxuICBcbiAgaWYgKHBhcnNlZC53YXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgaW5zaWdodHMucHVzaChgJHtwYXJzZWQud2FybmluZ3MubGVuZ3RofSB3YXJuaW5ncyBkZXRlY3RlZCAtIGNvbnNpZGVyIHJldmlld2luZ2ApO1xuICB9XG4gIFxuICByZXR1cm4gaW5zaWdodHM7XG59XG5cbmNvbnN0IHN0ZG91dFBhcnNlZCA9IHBhcnNlWGNvZGVPdXRwdXQoc3Rkb3V0LCBjb21tYW5kKTtcbmNvbnN0IHN0ZGVyclBhcnNlZCA9IHBhcnNlWGNvZGVPdXRwdXQoc3RkZXJyLCBjb21tYW5kKTtcblxuY29uc3QgYWxsSW5zaWdodHMgPSBbXG4gIC4uLmdlbmVyYXRlSW5zaWdodHMoc3Rkb3V0UGFyc2VkLCBzdWNjZXNzLCBleGl0Q29kZSksXG4gIC4uLmdlbmVyYXRlSW5zaWdodHMoc3RkZXJyUGFyc2VkLCBzdWNjZXNzLCBleGl0Q29kZSlcbl07XG5cbmNvbnN0IHJlc3BvbnNlID0ge1xuICBzdWNjZXNzOiBzdWNjZXNzLFxuICBleGl0X2NvZGU6IGV4aXRDb2RlLFxuICBjb21tYW5kX2V4ZWN1dGVkOiBjb21tYW5kLFxuICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgXG4gIG91dHB1dHM6IHtcbiAgICBzdGRvdXQ6IHN0ZG91dCxcbiAgICBzdGRlcnI6IHN0ZGVyclxuICB9LFxuICBcbiAgcGFyc2VkX3Jlc3VsdHM6IHtcbiAgICBzdGRvdXQ6IHN0ZG91dFBhcnNlZCxcbiAgICBzdGRlcnI6IHN0ZGVyclBhcnNlZFxuICB9LFxuICBcbiAgaW5zaWdodHM6IGFsbEluc2lnaHRzLFxuICBcbiAgc3VtbWFyeToge1xuICAgIHRvdGFsX3dhcm5pbmdzOiBzdGRvdXRQYXJzZWQud2FybmluZ3MubGVuZ3RoICsgc3RkZXJyUGFyc2VkLndhcm5pbmdzLmxlbmd0aCxcbiAgICB0b3RhbF9lcnJvcnM6IHN0ZG91dFBhcnNlZC5lcnJvcnMubGVuZ3RoICsgc3RkZXJyUGFyc2VkLmVycm9ycy5sZW5ndGgsXG4gICAgZXhlY3V0aW9uX3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBuZWVkc19hdHRlbnRpb246ICFzdWNjZXNzIHx8IChzdGRvdXRQYXJzZWQuZXJyb3JzLmxlbmd0aCArIHN0ZGVyclBhcnNlZC5lcnJvcnMubGVuZ3RoKSA+IDBcbiAgfSxcbiAgXG4gIG1jcF9yZWFkeTogdHJ1ZSxcbiAgY2xhdWRlX2RpZ2VzdGlibGU6IHRydWUsXG4gIFxuICBzdWdnZXN0ZWRfYWN0aW9uczogc3VjY2VzcyA/IFxuICAgIFtcImNvbnRpbnVlX2RldmVsb3BtZW50XCIsIFwicnVuX3Rlc3RzXCIsIFwiYnVpbGRfbmV4dF9waGFzZVwiXSA6IFxuICAgIFtcImZpeF9lcnJvcnNcIiwgXCJjbGVhbl9idWlsZFwiLCBcImNoZWNrX2RlcGVuZGVuY2llc1wiLCBcInJldmlld19sb2dzXCJdXG59O1xuXG5yZXR1cm4gW3sganNvbjogcmVzcG9uc2UgfV07IgogICAgICB9LAogICAgICAiaWQiOiAiMTUxZWE3ODItNWJkYS00MmI4LTk4ODUtZDFiOWI2MWZiZjc1IiwKICAgICAgIm5hbWUiOiAiUmVzdWx0IEZvcm1hdHRlciIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLmNvZGUiLAogICAgICAidHlwZVZlcnNpb24iOiAyLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgLTgwLAogICAgICAgIDEyODAKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgInBhcmFtZXRlcnMiOiB7CiAgICAgICAgInJlc3BvbmRXaXRoIjogImpzb24iLAogICAgICAgICJyZXNwb25zZUJvZHkiOiAiPXt7ICRqc29uIH19IiwKICAgICAgICAib3B0aW9ucyI6IHt9CiAgICAgIH0sCiAgICAgICJpZCI6ICIwNDMxMmZlYi02YjczLTQwYmQtYjVlMi0xOTc3MmQ0NWNiNjYiLAogICAgICAibmFtZSI6ICJSZXNwb25zZSIsCiAgICAgICJ0eXBlIjogIm44bi1ub2Rlcy1iYXNlLnJlc3BvbmRUb1dlYmhvb2siLAogICAgICAidHlwZVZlcnNpb24iOiAxLAogICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgODAsCiAgICAgICAgMTQyMAogICAgICBdCiAgICB9CiAgXSwKICAiY29ubmVjdGlvbnMiOiB7CiAgICAiRXZlcnkgMTAgTWludXRlcyI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJDb25maWd1cmUgQ29ydGVzIFByb2plY3QgUGF0aHMiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJDb25maWd1cmUgQ29ydGVzIFByb2plY3QgUGF0aHMiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiRW5zdXJlIENvbnRleHQgRGlyZWN0b3J5IiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiRW5zdXJlIENvbnRleHQgRGlyZWN0b3J5IjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIlNjYW4gQ29ydGVzIEZpbGVzIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgR2l0IEhpc3RvcnkiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQW5hbHl6ZSBHaXQgU3RhdHMiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQW5hbHl6ZSBUZXN0IENvdmVyYWdlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgQXNzZXRzIFBlcmZvcm1hbmNlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgU3dpZnQgRGVwZW5kZW5jaWVzIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgU3dpZnQgUGFja2FnZSBMb2NrIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgTlBNIERlcGVuZGVuY2llcyIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIlNjYW4gQ29ydGVzIEZpbGVzIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgQ29ydGVzIFByb2plY3QgU3RydWN0dXJlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBHaXQgSGlzdG9yeSI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJBbmFseXplIENvcnRlcyBHaXQgSW50ZWxsaWdlbmNlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBUZXN0IENvdmVyYWdlIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgQ29ydGVzIFRlc3RpbmcgSW50ZWxsaWdlbmNlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBBc3NldHMgUGVyZm9ybWFuY2UiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQW5hbHl6ZSBDb3J0ZXMgUGVyZm9ybWFuY2UgSW50ZWxsaWdlbmNlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBTd2lmdCBEZXBlbmRlbmNpZXMiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQW5hbHl6ZSBDb3J0ZXMgRGVwZW5kZW5jaWVzIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBDb3J0ZXMgUHJvamVjdCBTdHJ1Y3R1cmUiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQ3JlYXRlIFVsdGltYXRlIENvcnRlcyBDb250ZXh0IiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQ3JlYXRlIFVsdGltYXRlIENvcnRlcyBDb250ZXh0IjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIlNhdmUgVWx0aW1hdGUgQ29udGV4dCIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJTYXZlIENsYXVkZSBDb250ZXh0IiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIlNhdmUgRXhlY3V0aXZlIERhc2hib2FyZCIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIlNhdmUgVWx0aW1hdGUgQ29udGV4dCI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJNYW5hZ2UgSGlzdG9yaWNhbCBGaWxlcyIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIlNhdmUgQ2xhdWRlIENvbnRleHQiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiTWFuYWdlIEhpc3RvcmljYWwgRmlsZXMiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJTYXZlIEV4ZWN1dGl2ZSBEYXNoYm9hcmQiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiTWFuYWdlIEhpc3RvcmljYWwgRmlsZXMiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJNYW5hZ2UgSGlzdG9yaWNhbCBGaWxlcyI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJGaW5hbCBFeHBvcnQgSW5zdHJ1Y3Rpb25zIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiQW5hbHl6ZSBHaXQgU3RhdHMiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQW5hbHl6ZSBDb3J0ZXMgR2l0IEludGVsbGlnZW5jZSIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIkFuYWx5emUgU3dpZnQgUGFja2FnZSBMb2NrIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkFuYWx5emUgQ29ydGVzIERlcGVuZGVuY2llcyIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIkFuYWx5emUgTlBNIERlcGVuZGVuY2llcyI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJBbmFseXplIENvcnRlcyBEZXBlbmRlbmNpZXMiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJBbmFseXplIENvcnRlcyBHaXQgSW50ZWxsaWdlbmNlIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkNyZWF0ZSBVbHRpbWF0ZSBDb3J0ZXMgQ29udGV4dCIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIkFuYWx5emUgQ29ydGVzIFRlc3RpbmcgSW50ZWxsaWdlbmNlIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIkNyZWF0ZSBVbHRpbWF0ZSBDb3J0ZXMgQ29udGV4dCIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIkFuYWx5emUgQ29ydGVzIFBlcmZvcm1hbmNlIEludGVsbGlnZW5jZSI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJDcmVhdGUgVWx0aW1hdGUgQ29ydGVzIENvbnRleHQiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJBbmFseXplIENvcnRlcyBEZXBlbmRlbmNpZXMiOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQ3JlYXRlIFVsdGltYXRlIENvcnRlcyBDb250ZXh0IiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0sCiAgICAiWGNvZGUgQ0xJIFdlYmhvb2siOiB7CiAgICAgICJtYWluIjogWwogICAgICAgIFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5vZGUiOiAiQ29tbWFuZCBQYXJzZXIiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJDb21tYW5kIFBhcnNlciI6IHsKICAgICAgIm1haW4iOiBbCiAgICAgICAgWwogICAgICAgICAgewogICAgICAgICAgICAibm9kZSI6ICJYY29kZSBFeGVjdXRvciIsCiAgICAgICAgICAgICJ0eXBlIjogIm1haW4iLAogICAgICAgICAgICAiaW5kZXgiOiAwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICBdCiAgICB9LAogICAgIlhjb2RlIEV4ZWN1dG9yIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIlJlc3VsdCBGb3JtYXR0ZXIiLAogICAgICAgICAgICAidHlwZSI6ICJtYWluIiwKICAgICAgICAgICAgImluZGV4IjogMAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgXQogICAgfSwKICAgICJSZXN1bHQgRm9ybWF0dGVyIjogewogICAgICAibWFpbiI6IFsKICAgICAgICBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlIjogIlJlc3BvbnNlIiwKICAgICAgICAgICAgInR5cGUiOiAibWFpbiIsCiAgICAgICAgICAgICJpbmRleCI6IDAKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIF0KICAgIH0KICB9LAogICJzZXR0aW5ncyI6IHsKICAgICJleGVjdXRpb25PcmRlciI6ICJ2MSIsCiAgICAidGltZXpvbmUiOiAiRXVyb3BlL01hZHJpZCIsCiAgICAiY2FsbGVyUG9saWN5IjogIndvcmtmbG93c0Zyb21TYW1lT3duZXIiCiAgfSwKICAic3RhdGljRGF0YSI6IG51bGwsCiAgIm1ldGEiOiB7CiAgICAidGVtcGxhdGVDcmVkc1NldHVwQ29tcGxldGVkIjogdHJ1ZQogIH0sCiAgInBpbkRhdGEiOiB7fSwKICAidmVyc2lvbklkIjogIjJmZDgyMzkzLTQzMjYtNGVmMC1iYzk0LTY1NTljNTM3YWE2ZSIsCiAgInRyaWdnZXJDb3VudCI6IDIsCiAgInRhZ3MiOiBbXQp9